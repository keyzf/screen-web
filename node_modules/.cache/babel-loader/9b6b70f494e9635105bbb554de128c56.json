{"ast":null,"code":"import { sort_modules, change_item, change_item_arr } from '../actions/screen-actions';\nimport { fromJS } from 'immutable';\nconst initialState = fromJS();\nexport default ((state = initialState, action) => {\n  switch (action.type) {\n    case sort_modules:\n      return state.set(\"modules\", fromJS(action.data));\n\n    case change_item:\n      let newMudules = state.get(\"modules\").map(item => {\n        if (item.get(\"id\") === action.data.id) {\n          return item.mergeDeep(fromJS(action.data.data));\n        } else {\n          return item;\n        }\n      });\n      return state.set(\"modules\", newMudules);\n\n    case change_item_arr:\n      let newMudules2 = state.get(\"modules\").map(item => {\n        if (item.get(\"id\") === action.data.id) {\n          console.log(action.data);\n          return item.setIn(action.data.path, fromJS(action.data.data));\n        } else {\n          return item;\n        }\n      });\n      return state.set(\"modules\", newMudules2);\n\n    default:\n      return state;\n  }\n});","map":{"version":3,"sources":["/Users/ifudata/eclipse-workspace/screen-web/src/store/reducers/screen-reducer.js"],"names":["sort_modules","change_item","change_item_arr","fromJS","initialState","state","action","type","set","data","newMudules","get","map","item","id","mergeDeep","newMudules2","console","log","setIn","path"],"mappings":"AAAA,SAASA,YAAT,EAAsBC,WAAtB,EAAkCC,eAAlC,QAAyD,2BAAzD;AACA,SAASC,MAAT,QAAuB,WAAvB;AAEA,MAAMC,YAAY,GAAGD,MAAM,EAA3B;AAEA,gBAAe,CAACE,KAAK,GAACD,YAAP,EAAoBE,MAApB,KAA6B;AACxC,UAAQA,MAAM,CAACC,IAAf;AACI,SAAKP,YAAL;AACI,aAAOK,KAAK,CAACG,GAAN,CAAU,SAAV,EAAoBL,MAAM,CAACG,MAAM,CAACG,IAAR,CAA1B,CAAP;;AACJ,SAAKR,WAAL;AACI,UAAIS,UAAU,GAAGL,KAAK,CAACM,GAAN,CAAU,SAAV,EAAqBC,GAArB,CAAyBC,IAAI,IAAE;AAC5C,YAAGA,IAAI,CAACF,GAAL,CAAS,IAAT,MAAmBL,MAAM,CAACG,IAAP,CAAYK,EAAlC,EAAqC;AACjC,iBAAOD,IAAI,CAACE,SAAL,CAAeZ,MAAM,CAACG,MAAM,CAACG,IAAP,CAAYA,IAAb,CAArB,CAAP;AACH,SAFD,MAEK;AACD,iBAAOI,IAAP;AACH;AACJ,OANgB,CAAjB;AAOA,aAAOR,KAAK,CAACG,GAAN,CAAU,SAAV,EAAoBE,UAApB,CAAP;;AACJ,SAAKR,eAAL;AACI,UAAIc,WAAW,GAAGX,KAAK,CAACM,GAAN,CAAU,SAAV,EAAqBC,GAArB,CAAyBC,IAAI,IAAE;AAC7C,YAAGA,IAAI,CAACF,GAAL,CAAS,IAAT,MAAmBL,MAAM,CAACG,IAAP,CAAYK,EAAlC,EAAqC;AACjCG,UAAAA,OAAO,CAACC,GAAR,CAAYZ,MAAM,CAACG,IAAnB;AACA,iBAAOI,IAAI,CAACM,KAAL,CAAWb,MAAM,CAACG,IAAP,CAAYW,IAAvB,EAA4BjB,MAAM,CAACG,MAAM,CAACG,IAAP,CAAYA,IAAb,CAAlC,CAAP;AACH,SAHD,MAGK;AACD,iBAAOI,IAAP;AACH;AACJ,OAPiB,CAAlB;AAQA,aAAOR,KAAK,CAACG,GAAN,CAAU,SAAV,EAAoBQ,WAApB,CAAP;;AACJ;AACI,aAAOX,KAAP;AAvBR;AAyBH,CA1BD","sourcesContent":["import { sort_modules,change_item,change_item_arr } from '../actions/screen-actions'\nimport { fromJS } from 'immutable';\n\nconst initialState = fromJS()\n\nexport default (state=initialState,action)=>{\n    switch (action.type){\n        case sort_modules:\n            return state.set(\"modules\",fromJS(action.data))\n        case change_item:\n            let newMudules = state.get(\"modules\").map(item=>{\n                if(item.get(\"id\") === action.data.id){\n                    return item.mergeDeep(fromJS(action.data.data))\n                }else{\n                    return item\n                }\n            })\n            return state.set(\"modules\",newMudules)\n        case change_item_arr:\n            let newMudules2 = state.get(\"modules\").map(item=>{\n                if(item.get(\"id\") === action.data.id){\n                    console.log(action.data)\n                    return item.setIn(action.data.path,fromJS(action.data.data))\n                }else{\n                    return item\n                }\n            })\n            return state.set(\"modules\",newMudules2)\n        default:\n            return state\n    }\n}"]},"metadata":{},"sourceType":"module"}