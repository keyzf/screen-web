{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport './marginDecorations.css';\nimport { DecorationToRender, DedupOverlay } from '../glyphMargin/glyphMargin.js';\n\nvar MarginViewLineDecorationsOverlay =\n/** @class */\nfunction (_super) {\n  __extends(MarginViewLineDecorationsOverlay, _super);\n\n  function MarginViewLineDecorationsOverlay(context) {\n    var _this = _super.call(this) || this;\n\n    _this._context = context;\n    _this._renderResult = null;\n\n    _this._context.addEventHandler(_this);\n\n    return _this;\n  }\n\n  MarginViewLineDecorationsOverlay.prototype.dispose = function () {\n    this._context.removeEventHandler(this);\n\n    this._renderResult = null;\n\n    _super.prototype.dispose.call(this);\n  }; // --- begin event handlers\n\n\n  MarginViewLineDecorationsOverlay.prototype.onConfigurationChanged = function (e) {\n    return true;\n  };\n\n  MarginViewLineDecorationsOverlay.prototype.onDecorationsChanged = function (e) {\n    return true;\n  };\n\n  MarginViewLineDecorationsOverlay.prototype.onFlushed = function (e) {\n    return true;\n  };\n\n  MarginViewLineDecorationsOverlay.prototype.onLinesChanged = function (e) {\n    return true;\n  };\n\n  MarginViewLineDecorationsOverlay.prototype.onLinesDeleted = function (e) {\n    return true;\n  };\n\n  MarginViewLineDecorationsOverlay.prototype.onLinesInserted = function (e) {\n    return true;\n  };\n\n  MarginViewLineDecorationsOverlay.prototype.onScrollChanged = function (e) {\n    return e.scrollTopChanged;\n  };\n\n  MarginViewLineDecorationsOverlay.prototype.onZonesChanged = function (e) {\n    return true;\n  }; // --- end event handlers\n\n\n  MarginViewLineDecorationsOverlay.prototype._getDecorations = function (ctx) {\n    var decorations = ctx.getDecorationsInViewport();\n    var r = [],\n        rLen = 0;\n\n    for (var i = 0, len = decorations.length; i < len; i++) {\n      var d = decorations[i];\n      var marginClassName = d.options.marginClassName;\n\n      if (marginClassName) {\n        r[rLen++] = new DecorationToRender(d.range.startLineNumber, d.range.endLineNumber, marginClassName);\n      }\n    }\n\n    return r;\n  };\n\n  MarginViewLineDecorationsOverlay.prototype.prepareRender = function (ctx) {\n    var visibleStartLineNumber = ctx.visibleRange.startLineNumber;\n    var visibleEndLineNumber = ctx.visibleRange.endLineNumber;\n\n    var toRender = this._render(visibleStartLineNumber, visibleEndLineNumber, this._getDecorations(ctx));\n\n    var output = [];\n\n    for (var lineNumber = visibleStartLineNumber; lineNumber <= visibleEndLineNumber; lineNumber++) {\n      var lineIndex = lineNumber - visibleStartLineNumber;\n      var classNames = toRender[lineIndex];\n      var lineOutput = '';\n\n      for (var i = 0, len = classNames.length; i < len; i++) {\n        lineOutput += '<div class=\"cmdr ' + classNames[i] + '\" style=\"\"></div>';\n      }\n\n      output[lineIndex] = lineOutput;\n    }\n\n    this._renderResult = output;\n  };\n\n  MarginViewLineDecorationsOverlay.prototype.render = function (startLineNumber, lineNumber) {\n    if (!this._renderResult) {\n      return '';\n    }\n\n    return this._renderResult[lineNumber - startLineNumber];\n  };\n\n  return MarginViewLineDecorationsOverlay;\n}(DedupOverlay);\n\nexport { MarginViewLineDecorationsOverlay };","map":{"version":3,"sources":["/Users/ifudata/eclipse-workspace/screen-web/node_modules/monaco-editor/esm/vs/editor/browser/viewParts/marginDecorations/marginDecorations.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","DecorationToRender","DedupOverlay","MarginViewLineDecorationsOverlay","_super","context","_this","call","_context","_renderResult","addEventHandler","dispose","removeEventHandler","onConfigurationChanged","e","onDecorationsChanged","onFlushed","onLinesChanged","onLinesDeleted","onLinesInserted","onScrollChanged","scrollTopChanged","onZonesChanged","_getDecorations","ctx","decorations","getDecorationsInViewport","r","rLen","i","len","length","marginClassName","options","range","startLineNumber","endLineNumber","prepareRender","visibleStartLineNumber","visibleRange","visibleEndLineNumber","toRender","_render","output","lineNumber","lineIndex","classNames","lineOutput","render"],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport './marginDecorations.css';\r\nimport { DecorationToRender, DedupOverlay } from '../glyphMargin/glyphMargin.js';\r\nvar MarginViewLineDecorationsOverlay = /** @class */ (function (_super) {\r\n    __extends(MarginViewLineDecorationsOverlay, _super);\r\n    function MarginViewLineDecorationsOverlay(context) {\r\n        var _this = _super.call(this) || this;\r\n        _this._context = context;\r\n        _this._renderResult = null;\r\n        _this._context.addEventHandler(_this);\r\n        return _this;\r\n    }\r\n    MarginViewLineDecorationsOverlay.prototype.dispose = function () {\r\n        this._context.removeEventHandler(this);\r\n        this._renderResult = null;\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    // --- begin event handlers\r\n    MarginViewLineDecorationsOverlay.prototype.onConfigurationChanged = function (e) {\r\n        return true;\r\n    };\r\n    MarginViewLineDecorationsOverlay.prototype.onDecorationsChanged = function (e) {\r\n        return true;\r\n    };\r\n    MarginViewLineDecorationsOverlay.prototype.onFlushed = function (e) {\r\n        return true;\r\n    };\r\n    MarginViewLineDecorationsOverlay.prototype.onLinesChanged = function (e) {\r\n        return true;\r\n    };\r\n    MarginViewLineDecorationsOverlay.prototype.onLinesDeleted = function (e) {\r\n        return true;\r\n    };\r\n    MarginViewLineDecorationsOverlay.prototype.onLinesInserted = function (e) {\r\n        return true;\r\n    };\r\n    MarginViewLineDecorationsOverlay.prototype.onScrollChanged = function (e) {\r\n        return e.scrollTopChanged;\r\n    };\r\n    MarginViewLineDecorationsOverlay.prototype.onZonesChanged = function (e) {\r\n        return true;\r\n    };\r\n    // --- end event handlers\r\n    MarginViewLineDecorationsOverlay.prototype._getDecorations = function (ctx) {\r\n        var decorations = ctx.getDecorationsInViewport();\r\n        var r = [], rLen = 0;\r\n        for (var i = 0, len = decorations.length; i < len; i++) {\r\n            var d = decorations[i];\r\n            var marginClassName = d.options.marginClassName;\r\n            if (marginClassName) {\r\n                r[rLen++] = new DecorationToRender(d.range.startLineNumber, d.range.endLineNumber, marginClassName);\r\n            }\r\n        }\r\n        return r;\r\n    };\r\n    MarginViewLineDecorationsOverlay.prototype.prepareRender = function (ctx) {\r\n        var visibleStartLineNumber = ctx.visibleRange.startLineNumber;\r\n        var visibleEndLineNumber = ctx.visibleRange.endLineNumber;\r\n        var toRender = this._render(visibleStartLineNumber, visibleEndLineNumber, this._getDecorations(ctx));\r\n        var output = [];\r\n        for (var lineNumber = visibleStartLineNumber; lineNumber <= visibleEndLineNumber; lineNumber++) {\r\n            var lineIndex = lineNumber - visibleStartLineNumber;\r\n            var classNames = toRender[lineIndex];\r\n            var lineOutput = '';\r\n            for (var i = 0, len = classNames.length; i < len; i++) {\r\n                lineOutput += '<div class=\"cmdr ' + classNames[i] + '\" style=\"\"></div>';\r\n            }\r\n            output[lineIndex] = lineOutput;\r\n        }\r\n        this._renderResult = output;\r\n    };\r\n    MarginViewLineDecorationsOverlay.prototype.render = function (startLineNumber, lineNumber) {\r\n        if (!this._renderResult) {\r\n            return '';\r\n        }\r\n        return this._renderResult[lineNumber - startLineNumber];\r\n    };\r\n    return MarginViewLineDecorationsOverlay;\r\n}(DedupOverlay));\r\nexport { MarginViewLineDecorationsOverlay };\r\n"]},"metadata":{},"sourceType":"module"}