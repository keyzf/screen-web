{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nimport { coalesce } from '../../../base/common/arrays.js';\nimport { CancellationToken } from '../../../base/common/cancellation.js';\nimport { onUnexpectedExternalError } from '../../../base/common/errors.js';\nimport { registerModelAndPositionCommand } from '../../browser/editorExtensions.js';\nimport { HoverProviderRegistry } from '../../common/modes.js';\nexport function getHover(model, position, token) {\n  var supports = HoverProviderRegistry.ordered(model);\n  var promises = supports.map(function (support) {\n    return Promise.resolve(support.provideHover(model, position, token)).then(function (hover) {\n      return hover && isValid(hover) ? hover : undefined;\n    }, function (err) {\n      onUnexpectedExternalError(err);\n      return undefined;\n    });\n  });\n  return Promise.all(promises).then(coalesce);\n}\nregisterModelAndPositionCommand('_executeHoverProvider', function (model, position) {\n  return getHover(model, position, CancellationToken.None);\n});\n\nfunction isValid(result) {\n  var hasRange = typeof result.range !== 'undefined';\n  var hasHtmlContent = typeof result.contents !== 'undefined' && result.contents && result.contents.length > 0;\n  return hasRange && hasHtmlContent;\n}","map":{"version":3,"sources":["/Users/ifudata/eclipse-workspace/screen-web/node_modules/monaco-editor/esm/vs/editor/contrib/hover/getHover.js"],"names":["coalesce","CancellationToken","onUnexpectedExternalError","registerModelAndPositionCommand","HoverProviderRegistry","getHover","model","position","token","supports","ordered","promises","map","support","Promise","resolve","provideHover","then","hover","isValid","undefined","err","all","None","result","hasRange","range","hasHtmlContent","contents","length"],"mappings":"AAAA;;;;AAIA,SAASA,QAAT,QAAyB,gCAAzB;AACA,SAASC,iBAAT,QAAkC,sCAAlC;AACA,SAASC,yBAAT,QAA0C,gCAA1C;AACA,SAASC,+BAAT,QAAgD,mCAAhD;AACA,SAASC,qBAAT,QAAsC,uBAAtC;AACA,OAAO,SAASC,QAAT,CAAkBC,KAAlB,EAAyBC,QAAzB,EAAmCC,KAAnC,EAA0C;AAC7C,MAAIC,QAAQ,GAAGL,qBAAqB,CAACM,OAAtB,CAA8BJ,KAA9B,CAAf;AACA,MAAIK,QAAQ,GAAGF,QAAQ,CAACG,GAAT,CAAa,UAAUC,OAAV,EAAmB;AAC3C,WAAOC,OAAO,CAACC,OAAR,CAAgBF,OAAO,CAACG,YAAR,CAAqBV,KAArB,EAA4BC,QAA5B,EAAsCC,KAAtC,CAAhB,EAA8DS,IAA9D,CAAmE,UAAUC,KAAV,EAAiB;AACvF,aAAOA,KAAK,IAAIC,OAAO,CAACD,KAAD,CAAhB,GAA0BA,KAA1B,GAAkCE,SAAzC;AACH,KAFM,EAEJ,UAAUC,GAAV,EAAe;AACdnB,MAAAA,yBAAyB,CAACmB,GAAD,CAAzB;AACA,aAAOD,SAAP;AACH,KALM,CAAP;AAMH,GAPc,CAAf;AAQA,SAAON,OAAO,CAACQ,GAAR,CAAYX,QAAZ,EAAsBM,IAAtB,CAA2BjB,QAA3B,CAAP;AACH;AACDG,+BAA+B,CAAC,uBAAD,EAA0B,UAAUG,KAAV,EAAiBC,QAAjB,EAA2B;AAAE,SAAOF,QAAQ,CAACC,KAAD,EAAQC,QAAR,EAAkBN,iBAAiB,CAACsB,IAApC,CAAf;AAA2D,CAAlH,CAA/B;;AACA,SAASJ,OAAT,CAAiBK,MAAjB,EAAyB;AACrB,MAAIC,QAAQ,GAAI,OAAOD,MAAM,CAACE,KAAd,KAAwB,WAAxC;AACA,MAAIC,cAAc,GAAG,OAAOH,MAAM,CAACI,QAAd,KAA2B,WAA3B,IAA0CJ,MAAM,CAACI,QAAjD,IAA6DJ,MAAM,CAACI,QAAP,CAAgBC,MAAhB,GAAyB,CAA3G;AACA,SAAOJ,QAAQ,IAAIE,cAAnB;AACH","sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { coalesce } from '../../../base/common/arrays.js';\r\nimport { CancellationToken } from '../../../base/common/cancellation.js';\r\nimport { onUnexpectedExternalError } from '../../../base/common/errors.js';\r\nimport { registerModelAndPositionCommand } from '../../browser/editorExtensions.js';\r\nimport { HoverProviderRegistry } from '../../common/modes.js';\r\nexport function getHover(model, position, token) {\r\n    var supports = HoverProviderRegistry.ordered(model);\r\n    var promises = supports.map(function (support) {\r\n        return Promise.resolve(support.provideHover(model, position, token)).then(function (hover) {\r\n            return hover && isValid(hover) ? hover : undefined;\r\n        }, function (err) {\r\n            onUnexpectedExternalError(err);\r\n            return undefined;\r\n        });\r\n    });\r\n    return Promise.all(promises).then(coalesce);\r\n}\r\nregisterModelAndPositionCommand('_executeHoverProvider', function (model, position) { return getHover(model, position, CancellationToken.None); });\r\nfunction isValid(result) {\r\n    var hasRange = (typeof result.range !== 'undefined');\r\n    var hasHtmlContent = typeof result.contents !== 'undefined' && result.contents && result.contents.length > 0;\r\n    return hasRange && hasHtmlContent;\r\n}\r\n"]},"metadata":{},"sourceType":"module"}