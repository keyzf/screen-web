{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport * as nls from '../../../../nls.js';\nimport * as types from '../../../common/types.js';\nimport { IconLabel } from '../../../browser/ui/iconLabel/iconLabel.js';\nimport { ActionBar } from '../../../browser/ui/actionbar/actionbar.js';\nimport { HighlightedLabel } from '../../../browser/ui/highlightedlabel/highlightedLabel.js';\nimport * as DOM from '../../../browser/dom.js';\nimport { KeybindingLabel } from '../../../browser/ui/keybindingLabel/keybindingLabel.js';\nimport { OS } from '../../../common/platform.js';\nimport { coalesce } from '../../../common/arrays.js';\nvar IDS = 0;\n\nvar QuickOpenEntry =\n/** @class */\nfunction () {\n  function QuickOpenEntry(highlights) {\n    if (highlights === void 0) {\n      highlights = [];\n    }\n\n    this.id = (IDS++).toString();\n    this.labelHighlights = highlights;\n    this.descriptionHighlights = [];\n  }\n  /**\r\n   * A unique identifier for the entry\r\n   */\n\n\n  QuickOpenEntry.prototype.getId = function () {\n    return this.id;\n  };\n  /**\r\n   * The label of the entry to identify it from others in the list\r\n   */\n\n\n  QuickOpenEntry.prototype.getLabel = function () {\n    return undefined;\n  };\n  /**\r\n   * The options for the label to use for this entry\r\n   */\n\n\n  QuickOpenEntry.prototype.getLabelOptions = function () {\n    return undefined;\n  };\n  /**\r\n   * The label of the entry to use when a screen reader wants to read about the entry\r\n   */\n\n\n  QuickOpenEntry.prototype.getAriaLabel = function () {\n    return coalesce([this.getLabel(), this.getDescription(), this.getDetail()]).join(', ');\n  };\n  /**\r\n   * Detail information about the entry that is optional and can be shown below the label\r\n   */\n\n\n  QuickOpenEntry.prototype.getDetail = function () {\n    return undefined;\n  };\n  /**\r\n   * The icon of the entry to identify it from others in the list\r\n   */\n\n\n  QuickOpenEntry.prototype.getIcon = function () {\n    return undefined;\n  };\n  /**\r\n   * A secondary description that is optional and can be shown right to the label\r\n   */\n\n\n  QuickOpenEntry.prototype.getDescription = function () {\n    return undefined;\n  };\n  /**\r\n   * A tooltip to show when hovering over the entry.\r\n   */\n\n\n  QuickOpenEntry.prototype.getTooltip = function () {\n    return undefined;\n  };\n  /**\r\n   * A tooltip to show when hovering over the description portion of the entry.\r\n   */\n\n\n  QuickOpenEntry.prototype.getDescriptionTooltip = function () {\n    return undefined;\n  };\n  /**\r\n   * An optional keybinding to show for an entry.\r\n   */\n\n\n  QuickOpenEntry.prototype.getKeybinding = function () {\n    return undefined;\n  };\n  /**\r\n   * Allows to reuse the same model while filtering. Hidden entries will not show up in the viewer.\r\n   */\n\n\n  QuickOpenEntry.prototype.isHidden = function () {\n    return !!this.hidden;\n  };\n  /**\r\n   * Allows to set highlight ranges that should show up for the entry label and optionally description if set.\r\n   */\n\n\n  QuickOpenEntry.prototype.setHighlights = function (labelHighlights, descriptionHighlights, detailHighlights) {\n    this.labelHighlights = labelHighlights;\n    this.descriptionHighlights = descriptionHighlights;\n    this.detailHighlights = detailHighlights;\n  };\n  /**\r\n   * Allows to return highlight ranges that should show up for the entry label and description.\r\n   */\n\n\n  QuickOpenEntry.prototype.getHighlights = function () {\n    return [this.labelHighlights, this.descriptionHighlights, this.detailHighlights];\n  };\n  /**\r\n   * Called when the entry is selected for opening. Returns a boolean value indicating if an action was performed or not.\r\n   * The mode parameter gives an indication if the element is previewed (using arrow keys) or opened.\r\n   *\r\n   * The context parameter provides additional context information how the run was triggered.\r\n   */\n\n\n  QuickOpenEntry.prototype.run = function (mode, context) {\n    return false;\n  };\n\n  return QuickOpenEntry;\n}();\n\nexport { QuickOpenEntry };\n\nvar QuickOpenEntryGroup =\n/** @class */\nfunction (_super) {\n  __extends(QuickOpenEntryGroup, _super);\n\n  function QuickOpenEntryGroup(entry, groupLabel, withBorder) {\n    var _this = _super.call(this) || this;\n\n    _this.entry = entry;\n    _this.groupLabel = groupLabel;\n    _this.withBorder = withBorder;\n    return _this;\n  }\n  /**\r\n   * The label of the group or null if none.\r\n   */\n\n\n  QuickOpenEntryGroup.prototype.getGroupLabel = function () {\n    return this.groupLabel;\n  };\n\n  QuickOpenEntryGroup.prototype.setGroupLabel = function (groupLabel) {\n    this.groupLabel = groupLabel;\n  };\n  /**\r\n   * Whether to show a border on top of the group entry or not.\r\n   */\n\n\n  QuickOpenEntryGroup.prototype.showBorder = function () {\n    return !!this.withBorder;\n  };\n\n  QuickOpenEntryGroup.prototype.setShowBorder = function (showBorder) {\n    this.withBorder = showBorder;\n  };\n\n  QuickOpenEntryGroup.prototype.getLabel = function () {\n    return this.entry ? this.entry.getLabel() : _super.prototype.getLabel.call(this);\n  };\n\n  QuickOpenEntryGroup.prototype.getLabelOptions = function () {\n    return this.entry ? this.entry.getLabelOptions() : _super.prototype.getLabelOptions.call(this);\n  };\n\n  QuickOpenEntryGroup.prototype.getAriaLabel = function () {\n    return this.entry ? this.entry.getAriaLabel() : _super.prototype.getAriaLabel.call(this);\n  };\n\n  QuickOpenEntryGroup.prototype.getDetail = function () {\n    return this.entry ? this.entry.getDetail() : _super.prototype.getDetail.call(this);\n  };\n\n  QuickOpenEntryGroup.prototype.getIcon = function () {\n    return this.entry ? this.entry.getIcon() : _super.prototype.getIcon.call(this);\n  };\n\n  QuickOpenEntryGroup.prototype.getDescription = function () {\n    return this.entry ? this.entry.getDescription() : _super.prototype.getDescription.call(this);\n  };\n\n  QuickOpenEntryGroup.prototype.getHighlights = function () {\n    return this.entry ? this.entry.getHighlights() : _super.prototype.getHighlights.call(this);\n  };\n\n  QuickOpenEntryGroup.prototype.isHidden = function () {\n    return this.entry ? this.entry.isHidden() : _super.prototype.isHidden.call(this);\n  };\n\n  QuickOpenEntryGroup.prototype.setHighlights = function (labelHighlights, descriptionHighlights, detailHighlights) {\n    this.entry ? this.entry.setHighlights(labelHighlights, descriptionHighlights, detailHighlights) : _super.prototype.setHighlights.call(this, labelHighlights, descriptionHighlights, detailHighlights);\n  };\n\n  QuickOpenEntryGroup.prototype.run = function (mode, context) {\n    return this.entry ? this.entry.run(mode, context) : _super.prototype.run.call(this, mode, context);\n  };\n\n  return QuickOpenEntryGroup;\n}(QuickOpenEntry);\n\nexport { QuickOpenEntryGroup };\n\nvar NoActionProvider =\n/** @class */\nfunction () {\n  function NoActionProvider() {}\n\n  NoActionProvider.prototype.hasActions = function (tree, element) {\n    return false;\n  };\n\n  NoActionProvider.prototype.getActions = function (tree, element) {\n    return null;\n  };\n\n  return NoActionProvider;\n}();\n\nvar templateEntry = 'quickOpenEntry';\nvar templateEntryGroup = 'quickOpenEntryGroup';\n\nvar Renderer =\n/** @class */\nfunction () {\n  function Renderer(actionProvider, actionRunner) {\n    if (actionProvider === void 0) {\n      actionProvider = new NoActionProvider();\n    }\n\n    this.actionProvider = actionProvider;\n    this.actionRunner = actionRunner;\n  }\n\n  Renderer.prototype.getHeight = function (entry) {\n    if (entry.getDetail()) {\n      return 44;\n    }\n\n    return 22;\n  };\n\n  Renderer.prototype.getTemplateId = function (entry) {\n    if (entry instanceof QuickOpenEntryGroup) {\n      return templateEntryGroup;\n    }\n\n    return templateEntry;\n  };\n\n  Renderer.prototype.renderTemplate = function (templateId, container, styles) {\n    var entryContainer = document.createElement('div');\n    DOM.addClass(entryContainer, 'sub-content');\n    container.appendChild(entryContainer); // Entry\n\n    var row1 = DOM.$('.quick-open-row');\n    var row2 = DOM.$('.quick-open-row');\n    var entry = DOM.$('.quick-open-entry', undefined, row1, row2);\n    entryContainer.appendChild(entry); // Icon\n\n    var icon = document.createElement('span');\n    row1.appendChild(icon); // Label\n\n    var label = new IconLabel(row1, {\n      supportHighlights: true,\n      supportDescriptionHighlights: true,\n      supportCodicons: true\n    }); // Keybinding\n\n    var keybindingContainer = document.createElement('span');\n    row1.appendChild(keybindingContainer);\n    DOM.addClass(keybindingContainer, 'quick-open-entry-keybinding');\n    var keybinding = new KeybindingLabel(keybindingContainer, OS); // Detail\n\n    var detailContainer = document.createElement('div');\n    row2.appendChild(detailContainer);\n    DOM.addClass(detailContainer, 'quick-open-entry-meta');\n    var detail = new HighlightedLabel(detailContainer, true); // Entry Group\n\n    var group;\n\n    if (templateId === templateEntryGroup) {\n      group = document.createElement('div');\n      DOM.addClass(group, 'results-group');\n      container.appendChild(group);\n    } // Actions\n\n\n    DOM.addClass(container, 'actions');\n    var actionBarContainer = document.createElement('div');\n    DOM.addClass(actionBarContainer, 'primary-action-bar');\n    container.appendChild(actionBarContainer);\n    var actionBar = new ActionBar(actionBarContainer, {\n      actionRunner: this.actionRunner\n    });\n    return {\n      container: container,\n      entry: entry,\n      icon: icon,\n      label: label,\n      detail: detail,\n      keybinding: keybinding,\n      group: group,\n      actionBar: actionBar\n    };\n  };\n\n  Renderer.prototype.renderElement = function (entry, templateId, data, styles) {\n    // Action Bar\n    if (this.actionProvider.hasActions(null, entry)) {\n      DOM.addClass(data.container, 'has-actions');\n    } else {\n      DOM.removeClass(data.container, 'has-actions');\n    }\n\n    data.actionBar.context = entry; // make sure the context is the current element\n\n    var actions = this.actionProvider.getActions(null, entry);\n\n    if (data.actionBar.isEmpty() && actions && actions.length > 0) {\n      data.actionBar.push(actions, {\n        icon: true,\n        label: false\n      });\n    } else if (!data.actionBar.isEmpty() && (!actions || actions.length === 0)) {\n      data.actionBar.clear();\n    } // Entry group class\n\n\n    if (entry instanceof QuickOpenEntryGroup && entry.getGroupLabel()) {\n      DOM.addClass(data.container, 'has-group-label');\n    } else {\n      DOM.removeClass(data.container, 'has-group-label');\n    } // Entry group\n\n\n    if (entry instanceof QuickOpenEntryGroup) {\n      var group = entry;\n      var groupData = data; // Border\n\n      if (group.showBorder()) {\n        DOM.addClass(groupData.container, 'results-group-separator');\n\n        if (styles.pickerGroupBorder) {\n          groupData.container.style.borderTopColor = styles.pickerGroupBorder.toString();\n        }\n      } else {\n        DOM.removeClass(groupData.container, 'results-group-separator');\n        groupData.container.style.borderTopColor = '';\n      } // Group Label\n\n\n      var groupLabel = group.getGroupLabel() || '';\n\n      if (groupData.group) {\n        groupData.group.textContent = groupLabel;\n\n        if (styles.pickerGroupForeground) {\n          groupData.group.style.color = styles.pickerGroupForeground.toString();\n        }\n      }\n    } // Normal Entry\n\n\n    if (entry instanceof QuickOpenEntry) {\n      var _a = entry.getHighlights(),\n          labelHighlights = _a[0],\n          descriptionHighlights = _a[1],\n          detailHighlights = _a[2]; // Icon\n\n\n      var iconClass = entry.getIcon() ? 'quick-open-entry-icon ' + entry.getIcon() : '';\n      data.icon.className = iconClass; // Label\n\n      var options = entry.getLabelOptions() || Object.create(null);\n      options.matches = labelHighlights || [];\n      options.title = entry.getTooltip();\n      options.descriptionTitle = entry.getDescriptionTooltip() || entry.getDescription(); // tooltip over description because it could overflow\n\n      options.descriptionMatches = descriptionHighlights || [];\n      data.label.setLabel(entry.getLabel() || '', entry.getDescription(), options); // Meta\n\n      data.detail.set(entry.getDetail(), detailHighlights); // Keybinding\n\n      data.keybinding.set(entry.getKeybinding());\n    }\n  };\n\n  Renderer.prototype.disposeTemplate = function (templateId, templateData) {\n    templateData.actionBar.dispose();\n    templateData.actionBar = null;\n    templateData.container = null;\n    templateData.entry = null;\n    templateData.keybinding = null;\n    templateData.detail = null;\n    templateData.group = null;\n    templateData.icon = null;\n    templateData.label.dispose();\n    templateData.label = null;\n  };\n\n  return Renderer;\n}();\n\nvar QuickOpenModel =\n/** @class */\nfunction () {\n  function QuickOpenModel(entries, actionProvider) {\n    if (entries === void 0) {\n      entries = [];\n    }\n\n    if (actionProvider === void 0) {\n      actionProvider = new NoActionProvider();\n    }\n\n    this._entries = entries;\n    this._dataSource = this;\n    this._renderer = new Renderer(actionProvider);\n    this._filter = this;\n    this._runner = this;\n    this._accessibilityProvider = this;\n  }\n\n  Object.defineProperty(QuickOpenModel.prototype, \"entries\", {\n    get: function () {\n      return this._entries;\n    },\n    set: function (entries) {\n      this._entries = entries;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(QuickOpenModel.prototype, \"dataSource\", {\n    get: function () {\n      return this._dataSource;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(QuickOpenModel.prototype, \"renderer\", {\n    get: function () {\n      return this._renderer;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(QuickOpenModel.prototype, \"filter\", {\n    get: function () {\n      return this._filter;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(QuickOpenModel.prototype, \"runner\", {\n    get: function () {\n      return this._runner;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(QuickOpenModel.prototype, \"accessibilityProvider\", {\n    get: function () {\n      return this._accessibilityProvider;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  QuickOpenModel.prototype.getId = function (entry) {\n    return entry.getId();\n  };\n\n  QuickOpenModel.prototype.getLabel = function (entry) {\n    return types.withUndefinedAsNull(entry.getLabel());\n  };\n\n  QuickOpenModel.prototype.getAriaLabel = function (entry) {\n    var ariaLabel = entry.getAriaLabel();\n\n    if (ariaLabel) {\n      return nls.localize('quickOpenAriaLabelEntry', \"{0}, picker\", entry.getAriaLabel());\n    }\n\n    return nls.localize('quickOpenAriaLabel', \"picker\");\n  };\n\n  QuickOpenModel.prototype.isVisible = function (entry) {\n    return !entry.isHidden();\n  };\n\n  QuickOpenModel.prototype.run = function (entry, mode, context) {\n    return entry.run(mode, context);\n  };\n\n  return QuickOpenModel;\n}();\n\nexport { QuickOpenModel };","map":{"version":3,"sources":["/Users/ifudata/eclipse-workspace/screen-web/node_modules/monaco-editor/esm/vs/base/parts/quickopen/browser/quickOpenModel.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","nls","types","IconLabel","ActionBar","HighlightedLabel","DOM","KeybindingLabel","OS","coalesce","IDS","QuickOpenEntry","highlights","id","toString","labelHighlights","descriptionHighlights","getId","getLabel","undefined","getLabelOptions","getAriaLabel","getDescription","getDetail","join","getIcon","getTooltip","getDescriptionTooltip","getKeybinding","isHidden","hidden","setHighlights","detailHighlights","getHighlights","run","mode","context","QuickOpenEntryGroup","_super","entry","groupLabel","withBorder","_this","call","getGroupLabel","setGroupLabel","showBorder","setShowBorder","NoActionProvider","hasActions","tree","element","getActions","templateEntry","templateEntryGroup","Renderer","actionProvider","actionRunner","getHeight","getTemplateId","renderTemplate","templateId","container","styles","entryContainer","document","createElement","addClass","appendChild","row1","$","row2","icon","label","supportHighlights","supportDescriptionHighlights","supportCodicons","keybindingContainer","keybinding","detailContainer","detail","group","actionBarContainer","actionBar","renderElement","data","removeClass","actions","isEmpty","length","push","clear","groupData","pickerGroupBorder","style","borderTopColor","textContent","pickerGroupForeground","color","_a","iconClass","className","options","matches","title","descriptionTitle","descriptionMatches","setLabel","set","disposeTemplate","templateData","dispose","QuickOpenModel","entries","_entries","_dataSource","_renderer","_filter","_runner","_accessibilityProvider","defineProperty","get","enumerable","configurable","withUndefinedAsNull","ariaLabel","localize","isVisible"],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport * as nls from '../../../../nls.js';\r\nimport * as types from '../../../common/types.js';\r\nimport { IconLabel } from '../../../browser/ui/iconLabel/iconLabel.js';\r\nimport { ActionBar } from '../../../browser/ui/actionbar/actionbar.js';\r\nimport { HighlightedLabel } from '../../../browser/ui/highlightedlabel/highlightedLabel.js';\r\nimport * as DOM from '../../../browser/dom.js';\r\nimport { KeybindingLabel } from '../../../browser/ui/keybindingLabel/keybindingLabel.js';\r\nimport { OS } from '../../../common/platform.js';\r\nimport { coalesce } from '../../../common/arrays.js';\r\nvar IDS = 0;\r\nvar QuickOpenEntry = /** @class */ (function () {\r\n    function QuickOpenEntry(highlights) {\r\n        if (highlights === void 0) { highlights = []; }\r\n        this.id = (IDS++).toString();\r\n        this.labelHighlights = highlights;\r\n        this.descriptionHighlights = [];\r\n    }\r\n    /**\r\n     * A unique identifier for the entry\r\n     */\r\n    QuickOpenEntry.prototype.getId = function () {\r\n        return this.id;\r\n    };\r\n    /**\r\n     * The label of the entry to identify it from others in the list\r\n     */\r\n    QuickOpenEntry.prototype.getLabel = function () {\r\n        return undefined;\r\n    };\r\n    /**\r\n     * The options for the label to use for this entry\r\n     */\r\n    QuickOpenEntry.prototype.getLabelOptions = function () {\r\n        return undefined;\r\n    };\r\n    /**\r\n     * The label of the entry to use when a screen reader wants to read about the entry\r\n     */\r\n    QuickOpenEntry.prototype.getAriaLabel = function () {\r\n        return coalesce([this.getLabel(), this.getDescription(), this.getDetail()])\r\n            .join(', ');\r\n    };\r\n    /**\r\n     * Detail information about the entry that is optional and can be shown below the label\r\n     */\r\n    QuickOpenEntry.prototype.getDetail = function () {\r\n        return undefined;\r\n    };\r\n    /**\r\n     * The icon of the entry to identify it from others in the list\r\n     */\r\n    QuickOpenEntry.prototype.getIcon = function () {\r\n        return undefined;\r\n    };\r\n    /**\r\n     * A secondary description that is optional and can be shown right to the label\r\n     */\r\n    QuickOpenEntry.prototype.getDescription = function () {\r\n        return undefined;\r\n    };\r\n    /**\r\n     * A tooltip to show when hovering over the entry.\r\n     */\r\n    QuickOpenEntry.prototype.getTooltip = function () {\r\n        return undefined;\r\n    };\r\n    /**\r\n     * A tooltip to show when hovering over the description portion of the entry.\r\n     */\r\n    QuickOpenEntry.prototype.getDescriptionTooltip = function () {\r\n        return undefined;\r\n    };\r\n    /**\r\n     * An optional keybinding to show for an entry.\r\n     */\r\n    QuickOpenEntry.prototype.getKeybinding = function () {\r\n        return undefined;\r\n    };\r\n    /**\r\n     * Allows to reuse the same model while filtering. Hidden entries will not show up in the viewer.\r\n     */\r\n    QuickOpenEntry.prototype.isHidden = function () {\r\n        return !!this.hidden;\r\n    };\r\n    /**\r\n     * Allows to set highlight ranges that should show up for the entry label and optionally description if set.\r\n     */\r\n    QuickOpenEntry.prototype.setHighlights = function (labelHighlights, descriptionHighlights, detailHighlights) {\r\n        this.labelHighlights = labelHighlights;\r\n        this.descriptionHighlights = descriptionHighlights;\r\n        this.detailHighlights = detailHighlights;\r\n    };\r\n    /**\r\n     * Allows to return highlight ranges that should show up for the entry label and description.\r\n     */\r\n    QuickOpenEntry.prototype.getHighlights = function () {\r\n        return [this.labelHighlights, this.descriptionHighlights, this.detailHighlights];\r\n    };\r\n    /**\r\n     * Called when the entry is selected for opening. Returns a boolean value indicating if an action was performed or not.\r\n     * The mode parameter gives an indication if the element is previewed (using arrow keys) or opened.\r\n     *\r\n     * The context parameter provides additional context information how the run was triggered.\r\n     */\r\n    QuickOpenEntry.prototype.run = function (mode, context) {\r\n        return false;\r\n    };\r\n    return QuickOpenEntry;\r\n}());\r\nexport { QuickOpenEntry };\r\nvar QuickOpenEntryGroup = /** @class */ (function (_super) {\r\n    __extends(QuickOpenEntryGroup, _super);\r\n    function QuickOpenEntryGroup(entry, groupLabel, withBorder) {\r\n        var _this = _super.call(this) || this;\r\n        _this.entry = entry;\r\n        _this.groupLabel = groupLabel;\r\n        _this.withBorder = withBorder;\r\n        return _this;\r\n    }\r\n    /**\r\n     * The label of the group or null if none.\r\n     */\r\n    QuickOpenEntryGroup.prototype.getGroupLabel = function () {\r\n        return this.groupLabel;\r\n    };\r\n    QuickOpenEntryGroup.prototype.setGroupLabel = function (groupLabel) {\r\n        this.groupLabel = groupLabel;\r\n    };\r\n    /**\r\n     * Whether to show a border on top of the group entry or not.\r\n     */\r\n    QuickOpenEntryGroup.prototype.showBorder = function () {\r\n        return !!this.withBorder;\r\n    };\r\n    QuickOpenEntryGroup.prototype.setShowBorder = function (showBorder) {\r\n        this.withBorder = showBorder;\r\n    };\r\n    QuickOpenEntryGroup.prototype.getLabel = function () {\r\n        return this.entry ? this.entry.getLabel() : _super.prototype.getLabel.call(this);\r\n    };\r\n    QuickOpenEntryGroup.prototype.getLabelOptions = function () {\r\n        return this.entry ? this.entry.getLabelOptions() : _super.prototype.getLabelOptions.call(this);\r\n    };\r\n    QuickOpenEntryGroup.prototype.getAriaLabel = function () {\r\n        return this.entry ? this.entry.getAriaLabel() : _super.prototype.getAriaLabel.call(this);\r\n    };\r\n    QuickOpenEntryGroup.prototype.getDetail = function () {\r\n        return this.entry ? this.entry.getDetail() : _super.prototype.getDetail.call(this);\r\n    };\r\n    QuickOpenEntryGroup.prototype.getIcon = function () {\r\n        return this.entry ? this.entry.getIcon() : _super.prototype.getIcon.call(this);\r\n    };\r\n    QuickOpenEntryGroup.prototype.getDescription = function () {\r\n        return this.entry ? this.entry.getDescription() : _super.prototype.getDescription.call(this);\r\n    };\r\n    QuickOpenEntryGroup.prototype.getHighlights = function () {\r\n        return this.entry ? this.entry.getHighlights() : _super.prototype.getHighlights.call(this);\r\n    };\r\n    QuickOpenEntryGroup.prototype.isHidden = function () {\r\n        return this.entry ? this.entry.isHidden() : _super.prototype.isHidden.call(this);\r\n    };\r\n    QuickOpenEntryGroup.prototype.setHighlights = function (labelHighlights, descriptionHighlights, detailHighlights) {\r\n        this.entry ? this.entry.setHighlights(labelHighlights, descriptionHighlights, detailHighlights) : _super.prototype.setHighlights.call(this, labelHighlights, descriptionHighlights, detailHighlights);\r\n    };\r\n    QuickOpenEntryGroup.prototype.run = function (mode, context) {\r\n        return this.entry ? this.entry.run(mode, context) : _super.prototype.run.call(this, mode, context);\r\n    };\r\n    return QuickOpenEntryGroup;\r\n}(QuickOpenEntry));\r\nexport { QuickOpenEntryGroup };\r\nvar NoActionProvider = /** @class */ (function () {\r\n    function NoActionProvider() {\r\n    }\r\n    NoActionProvider.prototype.hasActions = function (tree, element) {\r\n        return false;\r\n    };\r\n    NoActionProvider.prototype.getActions = function (tree, element) {\r\n        return null;\r\n    };\r\n    return NoActionProvider;\r\n}());\r\nvar templateEntry = 'quickOpenEntry';\r\nvar templateEntryGroup = 'quickOpenEntryGroup';\r\nvar Renderer = /** @class */ (function () {\r\n    function Renderer(actionProvider, actionRunner) {\r\n        if (actionProvider === void 0) { actionProvider = new NoActionProvider(); }\r\n        this.actionProvider = actionProvider;\r\n        this.actionRunner = actionRunner;\r\n    }\r\n    Renderer.prototype.getHeight = function (entry) {\r\n        if (entry.getDetail()) {\r\n            return 44;\r\n        }\r\n        return 22;\r\n    };\r\n    Renderer.prototype.getTemplateId = function (entry) {\r\n        if (entry instanceof QuickOpenEntryGroup) {\r\n            return templateEntryGroup;\r\n        }\r\n        return templateEntry;\r\n    };\r\n    Renderer.prototype.renderTemplate = function (templateId, container, styles) {\r\n        var entryContainer = document.createElement('div');\r\n        DOM.addClass(entryContainer, 'sub-content');\r\n        container.appendChild(entryContainer);\r\n        // Entry\r\n        var row1 = DOM.$('.quick-open-row');\r\n        var row2 = DOM.$('.quick-open-row');\r\n        var entry = DOM.$('.quick-open-entry', undefined, row1, row2);\r\n        entryContainer.appendChild(entry);\r\n        // Icon\r\n        var icon = document.createElement('span');\r\n        row1.appendChild(icon);\r\n        // Label\r\n        var label = new IconLabel(row1, { supportHighlights: true, supportDescriptionHighlights: true, supportCodicons: true });\r\n        // Keybinding\r\n        var keybindingContainer = document.createElement('span');\r\n        row1.appendChild(keybindingContainer);\r\n        DOM.addClass(keybindingContainer, 'quick-open-entry-keybinding');\r\n        var keybinding = new KeybindingLabel(keybindingContainer, OS);\r\n        // Detail\r\n        var detailContainer = document.createElement('div');\r\n        row2.appendChild(detailContainer);\r\n        DOM.addClass(detailContainer, 'quick-open-entry-meta');\r\n        var detail = new HighlightedLabel(detailContainer, true);\r\n        // Entry Group\r\n        var group;\r\n        if (templateId === templateEntryGroup) {\r\n            group = document.createElement('div');\r\n            DOM.addClass(group, 'results-group');\r\n            container.appendChild(group);\r\n        }\r\n        // Actions\r\n        DOM.addClass(container, 'actions');\r\n        var actionBarContainer = document.createElement('div');\r\n        DOM.addClass(actionBarContainer, 'primary-action-bar');\r\n        container.appendChild(actionBarContainer);\r\n        var actionBar = new ActionBar(actionBarContainer, {\r\n            actionRunner: this.actionRunner\r\n        });\r\n        return {\r\n            container: container,\r\n            entry: entry,\r\n            icon: icon,\r\n            label: label,\r\n            detail: detail,\r\n            keybinding: keybinding,\r\n            group: group,\r\n            actionBar: actionBar\r\n        };\r\n    };\r\n    Renderer.prototype.renderElement = function (entry, templateId, data, styles) {\r\n        // Action Bar\r\n        if (this.actionProvider.hasActions(null, entry)) {\r\n            DOM.addClass(data.container, 'has-actions');\r\n        }\r\n        else {\r\n            DOM.removeClass(data.container, 'has-actions');\r\n        }\r\n        data.actionBar.context = entry; // make sure the context is the current element\r\n        var actions = this.actionProvider.getActions(null, entry);\r\n        if (data.actionBar.isEmpty() && actions && actions.length > 0) {\r\n            data.actionBar.push(actions, { icon: true, label: false });\r\n        }\r\n        else if (!data.actionBar.isEmpty() && (!actions || actions.length === 0)) {\r\n            data.actionBar.clear();\r\n        }\r\n        // Entry group class\r\n        if (entry instanceof QuickOpenEntryGroup && entry.getGroupLabel()) {\r\n            DOM.addClass(data.container, 'has-group-label');\r\n        }\r\n        else {\r\n            DOM.removeClass(data.container, 'has-group-label');\r\n        }\r\n        // Entry group\r\n        if (entry instanceof QuickOpenEntryGroup) {\r\n            var group = entry;\r\n            var groupData = data;\r\n            // Border\r\n            if (group.showBorder()) {\r\n                DOM.addClass(groupData.container, 'results-group-separator');\r\n                if (styles.pickerGroupBorder) {\r\n                    groupData.container.style.borderTopColor = styles.pickerGroupBorder.toString();\r\n                }\r\n            }\r\n            else {\r\n                DOM.removeClass(groupData.container, 'results-group-separator');\r\n                groupData.container.style.borderTopColor = '';\r\n            }\r\n            // Group Label\r\n            var groupLabel = group.getGroupLabel() || '';\r\n            if (groupData.group) {\r\n                groupData.group.textContent = groupLabel;\r\n                if (styles.pickerGroupForeground) {\r\n                    groupData.group.style.color = styles.pickerGroupForeground.toString();\r\n                }\r\n            }\r\n        }\r\n        // Normal Entry\r\n        if (entry instanceof QuickOpenEntry) {\r\n            var _a = entry.getHighlights(), labelHighlights = _a[0], descriptionHighlights = _a[1], detailHighlights = _a[2];\r\n            // Icon\r\n            var iconClass = entry.getIcon() ? ('quick-open-entry-icon ' + entry.getIcon()) : '';\r\n            data.icon.className = iconClass;\r\n            // Label\r\n            var options = entry.getLabelOptions() || Object.create(null);\r\n            options.matches = labelHighlights || [];\r\n            options.title = entry.getTooltip();\r\n            options.descriptionTitle = entry.getDescriptionTooltip() || entry.getDescription(); // tooltip over description because it could overflow\r\n            options.descriptionMatches = descriptionHighlights || [];\r\n            data.label.setLabel(entry.getLabel() || '', entry.getDescription(), options);\r\n            // Meta\r\n            data.detail.set(entry.getDetail(), detailHighlights);\r\n            // Keybinding\r\n            data.keybinding.set(entry.getKeybinding());\r\n        }\r\n    };\r\n    Renderer.prototype.disposeTemplate = function (templateId, templateData) {\r\n        templateData.actionBar.dispose();\r\n        templateData.actionBar = null;\r\n        templateData.container = null;\r\n        templateData.entry = null;\r\n        templateData.keybinding = null;\r\n        templateData.detail = null;\r\n        templateData.group = null;\r\n        templateData.icon = null;\r\n        templateData.label.dispose();\r\n        templateData.label = null;\r\n    };\r\n    return Renderer;\r\n}());\r\nvar QuickOpenModel = /** @class */ (function () {\r\n    function QuickOpenModel(entries, actionProvider) {\r\n        if (entries === void 0) { entries = []; }\r\n        if (actionProvider === void 0) { actionProvider = new NoActionProvider(); }\r\n        this._entries = entries;\r\n        this._dataSource = this;\r\n        this._renderer = new Renderer(actionProvider);\r\n        this._filter = this;\r\n        this._runner = this;\r\n        this._accessibilityProvider = this;\r\n    }\r\n    Object.defineProperty(QuickOpenModel.prototype, \"entries\", {\r\n        get: function () { return this._entries; },\r\n        set: function (entries) {\r\n            this._entries = entries;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(QuickOpenModel.prototype, \"dataSource\", {\r\n        get: function () { return this._dataSource; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(QuickOpenModel.prototype, \"renderer\", {\r\n        get: function () { return this._renderer; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(QuickOpenModel.prototype, \"filter\", {\r\n        get: function () { return this._filter; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(QuickOpenModel.prototype, \"runner\", {\r\n        get: function () { return this._runner; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(QuickOpenModel.prototype, \"accessibilityProvider\", {\r\n        get: function () { return this._accessibilityProvider; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    QuickOpenModel.prototype.getId = function (entry) {\r\n        return entry.getId();\r\n    };\r\n    QuickOpenModel.prototype.getLabel = function (entry) {\r\n        return types.withUndefinedAsNull(entry.getLabel());\r\n    };\r\n    QuickOpenModel.prototype.getAriaLabel = function (entry) {\r\n        var ariaLabel = entry.getAriaLabel();\r\n        if (ariaLabel) {\r\n            return nls.localize('quickOpenAriaLabelEntry', \"{0}, picker\", entry.getAriaLabel());\r\n        }\r\n        return nls.localize('quickOpenAriaLabel', \"picker\");\r\n    };\r\n    QuickOpenModel.prototype.isVisible = function (entry) {\r\n        return !entry.isHidden();\r\n    };\r\n    QuickOpenModel.prototype.run = function (entry, mode, context) {\r\n        return entry.run(mode, context);\r\n    };\r\n    return QuickOpenModel;\r\n}());\r\nexport { QuickOpenModel };\r\n"]},"metadata":{},"sourceType":"module"}