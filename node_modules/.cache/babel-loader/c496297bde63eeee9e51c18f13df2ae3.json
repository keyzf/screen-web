{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nimport { ArrayNavigator } from './iterator.js';\n\nvar HistoryNavigator =\n/** @class */\nfunction () {\n  function HistoryNavigator(history, limit) {\n    if (history === void 0) {\n      history = [];\n    }\n\n    if (limit === void 0) {\n      limit = 10;\n    }\n\n    this._initialize(history);\n\n    this._limit = limit;\n\n    this._onChange();\n  }\n\n  HistoryNavigator.prototype.add = function (t) {\n    this._history.delete(t);\n\n    this._history.add(t);\n\n    this._onChange();\n  };\n\n  HistoryNavigator.prototype.next = function () {\n    return this._navigator.next();\n  };\n\n  HistoryNavigator.prototype.previous = function () {\n    return this._navigator.previous();\n  };\n\n  HistoryNavigator.prototype.current = function () {\n    return this._navigator.current();\n  };\n\n  HistoryNavigator.prototype.parent = function () {\n    return null;\n  };\n\n  HistoryNavigator.prototype.first = function () {\n    return this._navigator.first();\n  };\n\n  HistoryNavigator.prototype.last = function () {\n    return this._navigator.last();\n  };\n\n  HistoryNavigator.prototype.has = function (t) {\n    return this._history.has(t);\n  };\n\n  HistoryNavigator.prototype._onChange = function () {\n    this._reduceToLimit();\n\n    var elements = this._elements;\n    this._navigator = new ArrayNavigator(elements, 0, elements.length, elements.length);\n  };\n\n  HistoryNavigator.prototype._reduceToLimit = function () {\n    var data = this._elements;\n\n    if (data.length > this._limit) {\n      this._initialize(data.slice(data.length - this._limit));\n    }\n  };\n\n  HistoryNavigator.prototype._initialize = function (history) {\n    this._history = new Set();\n\n    for (var _i = 0, history_1 = history; _i < history_1.length; _i++) {\n      var entry = history_1[_i];\n\n      this._history.add(entry);\n    }\n  };\n\n  Object.defineProperty(HistoryNavigator.prototype, \"_elements\", {\n    get: function () {\n      var elements = [];\n\n      this._history.forEach(function (e) {\n        return elements.push(e);\n      });\n\n      return elements;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  return HistoryNavigator;\n}();\n\nexport { HistoryNavigator };","map":{"version":3,"sources":["/Users/ifudata/eclipse-workspace/screen-web/node_modules/monaco-editor/esm/vs/base/common/history.js"],"names":["ArrayNavigator","HistoryNavigator","history","limit","_initialize","_limit","_onChange","prototype","add","t","_history","delete","next","_navigator","previous","current","parent","first","last","has","_reduceToLimit","elements","_elements","length","data","slice","Set","_i","history_1","entry","Object","defineProperty","get","forEach","e","push","enumerable","configurable"],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { ArrayNavigator } from './iterator.js';\r\nvar HistoryNavigator = /** @class */ (function () {\r\n    function HistoryNavigator(history, limit) {\r\n        if (history === void 0) { history = []; }\r\n        if (limit === void 0) { limit = 10; }\r\n        this._initialize(history);\r\n        this._limit = limit;\r\n        this._onChange();\r\n    }\r\n    HistoryNavigator.prototype.add = function (t) {\r\n        this._history.delete(t);\r\n        this._history.add(t);\r\n        this._onChange();\r\n    };\r\n    HistoryNavigator.prototype.next = function () {\r\n        return this._navigator.next();\r\n    };\r\n    HistoryNavigator.prototype.previous = function () {\r\n        return this._navigator.previous();\r\n    };\r\n    HistoryNavigator.prototype.current = function () {\r\n        return this._navigator.current();\r\n    };\r\n    HistoryNavigator.prototype.parent = function () {\r\n        return null;\r\n    };\r\n    HistoryNavigator.prototype.first = function () {\r\n        return this._navigator.first();\r\n    };\r\n    HistoryNavigator.prototype.last = function () {\r\n        return this._navigator.last();\r\n    };\r\n    HistoryNavigator.prototype.has = function (t) {\r\n        return this._history.has(t);\r\n    };\r\n    HistoryNavigator.prototype._onChange = function () {\r\n        this._reduceToLimit();\r\n        var elements = this._elements;\r\n        this._navigator = new ArrayNavigator(elements, 0, elements.length, elements.length);\r\n    };\r\n    HistoryNavigator.prototype._reduceToLimit = function () {\r\n        var data = this._elements;\r\n        if (data.length > this._limit) {\r\n            this._initialize(data.slice(data.length - this._limit));\r\n        }\r\n    };\r\n    HistoryNavigator.prototype._initialize = function (history) {\r\n        this._history = new Set();\r\n        for (var _i = 0, history_1 = history; _i < history_1.length; _i++) {\r\n            var entry = history_1[_i];\r\n            this._history.add(entry);\r\n        }\r\n    };\r\n    Object.defineProperty(HistoryNavigator.prototype, \"_elements\", {\r\n        get: function () {\r\n            var elements = [];\r\n            this._history.forEach(function (e) { return elements.push(e); });\r\n            return elements;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return HistoryNavigator;\r\n}());\r\nexport { HistoryNavigator };\r\n"]},"metadata":{},"sourceType":"module"}