{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nimport { SimpleWorkerServer } from '../base/common/worker/simpleWorker.js';\nimport { EditorSimpleWorker } from './common/services/editorSimpleWorker.js';\nvar initialized = false;\nexport function initialize(foreignModule) {\n  if (initialized) {\n    return;\n  }\n\n  initialized = true;\n  var simpleWorker = new SimpleWorkerServer(function (msg) {\n    self.postMessage(msg);\n  }, function (host) {\n    return new EditorSimpleWorker(host, foreignModule);\n  });\n\n  self.onmessage = function (e) {\n    simpleWorker.onmessage(e.data);\n  };\n}\n\nself.onmessage = function (e) {\n  // Ignore first message in this case and initialize if not yet initialized\n  if (!initialized) {\n    initialize(null);\n  }\n};","map":{"version":3,"sources":["/Users/ifudata/eclipse-workspace/screen-web/node_modules/monaco-editor/esm/vs/editor/editor.worker.js"],"names":["SimpleWorkerServer","EditorSimpleWorker","initialized","initialize","foreignModule","simpleWorker","msg","self","postMessage","host","onmessage","e","data"],"mappings":"AAAA;;;;AAIA,SAASA,kBAAT,QAAmC,uCAAnC;AACA,SAASC,kBAAT,QAAmC,yCAAnC;AACA,IAAIC,WAAW,GAAG,KAAlB;AACA,OAAO,SAASC,UAAT,CAAoBC,aAApB,EAAmC;AACtC,MAAIF,WAAJ,EAAiB;AACb;AACH;;AACDA,EAAAA,WAAW,GAAG,IAAd;AACA,MAAIG,YAAY,GAAG,IAAIL,kBAAJ,CAAuB,UAAUM,GAAV,EAAe;AACrDC,IAAAA,IAAI,CAACC,WAAL,CAAiBF,GAAjB;AACH,GAFkB,EAEhB,UAAUG,IAAV,EAAgB;AAAE,WAAO,IAAIR,kBAAJ,CAAuBQ,IAAvB,EAA6BL,aAA7B,CAAP;AAAqD,GAFvD,CAAnB;;AAGAG,EAAAA,IAAI,CAACG,SAAL,GAAiB,UAAUC,CAAV,EAAa;AAC1BN,IAAAA,YAAY,CAACK,SAAb,CAAuBC,CAAC,CAACC,IAAzB;AACH,GAFD;AAGH;;AACDL,IAAI,CAACG,SAAL,GAAiB,UAAUC,CAAV,EAAa;AAC1B;AACA,MAAI,CAACT,WAAL,EAAkB;AACdC,IAAAA,UAAU,CAAC,IAAD,CAAV;AACH;AACJ,CALD","sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { SimpleWorkerServer } from '../base/common/worker/simpleWorker.js';\r\nimport { EditorSimpleWorker } from './common/services/editorSimpleWorker.js';\r\nvar initialized = false;\r\nexport function initialize(foreignModule) {\r\n    if (initialized) {\r\n        return;\r\n    }\r\n    initialized = true;\r\n    var simpleWorker = new SimpleWorkerServer(function (msg) {\r\n        self.postMessage(msg);\r\n    }, function (host) { return new EditorSimpleWorker(host, foreignModule); });\r\n    self.onmessage = function (e) {\r\n        simpleWorker.onmessage(e.data);\r\n    };\r\n}\r\nself.onmessage = function (e) {\r\n    // Ignore first message in this case and initialize if not yet initialized\r\n    if (!initialized) {\r\n        initialize(null);\r\n    }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}