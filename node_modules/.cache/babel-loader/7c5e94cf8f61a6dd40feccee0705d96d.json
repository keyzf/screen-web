{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nimport { Position } from '../core/position.js';\nimport { Range } from '../core/range.js';\nimport { InlineDecoration, ViewModelDecoration } from './viewModel.js';\nimport { filterValidationDecorations } from '../config/editorOptions.js';\n\nvar ViewModelDecorations =\n/** @class */\nfunction () {\n  function ViewModelDecorations(editorId, model, configuration, linesCollection, coordinatesConverter) {\n    this.editorId = editorId;\n    this.model = model;\n    this.configuration = configuration;\n    this._linesCollection = linesCollection;\n    this._coordinatesConverter = coordinatesConverter;\n    this._decorationsCache = Object.create(null);\n    this._cachedModelDecorationsResolver = null;\n    this._cachedModelDecorationsResolverViewRange = null;\n  }\n\n  ViewModelDecorations.prototype._clearCachedModelDecorationsResolver = function () {\n    this._cachedModelDecorationsResolver = null;\n    this._cachedModelDecorationsResolverViewRange = null;\n  };\n\n  ViewModelDecorations.prototype.dispose = function () {\n    this._decorationsCache = Object.create(null);\n\n    this._clearCachedModelDecorationsResolver();\n  };\n\n  ViewModelDecorations.prototype.reset = function () {\n    this._decorationsCache = Object.create(null);\n\n    this._clearCachedModelDecorationsResolver();\n  };\n\n  ViewModelDecorations.prototype.onModelDecorationsChanged = function () {\n    this._decorationsCache = Object.create(null);\n\n    this._clearCachedModelDecorationsResolver();\n  };\n\n  ViewModelDecorations.prototype.onLineMappingChanged = function () {\n    this._decorationsCache = Object.create(null);\n\n    this._clearCachedModelDecorationsResolver();\n  };\n\n  ViewModelDecorations.prototype._getOrCreateViewModelDecoration = function (modelDecoration) {\n    var id = modelDecoration.id;\n    var r = this._decorationsCache[id];\n\n    if (!r) {\n      var modelRange = modelDecoration.range;\n      var options = modelDecoration.options;\n      var viewRange = void 0;\n\n      if (options.isWholeLine) {\n        var start = this._coordinatesConverter.convertModelPositionToViewPosition(new Position(modelRange.startLineNumber, 1));\n\n        var end = this._coordinatesConverter.convertModelPositionToViewPosition(new Position(modelRange.endLineNumber, this.model.getLineMaxColumn(modelRange.endLineNumber)));\n\n        viewRange = new Range(start.lineNumber, start.column, end.lineNumber, end.column);\n      } else {\n        viewRange = this._coordinatesConverter.convertModelRangeToViewRange(modelRange);\n      }\n\n      r = new ViewModelDecoration(viewRange, options);\n      this._decorationsCache[id] = r;\n    }\n\n    return r;\n  };\n\n  ViewModelDecorations.prototype.getDecorationsViewportData = function (viewRange) {\n    var cacheIsValid = this._cachedModelDecorationsResolver !== null;\n    cacheIsValid = cacheIsValid && viewRange.equalsRange(this._cachedModelDecorationsResolverViewRange);\n\n    if (!cacheIsValid) {\n      this._cachedModelDecorationsResolver = this._getDecorationsViewportData(viewRange);\n      this._cachedModelDecorationsResolverViewRange = viewRange;\n    }\n\n    return this._cachedModelDecorationsResolver;\n  };\n\n  ViewModelDecorations.prototype._getDecorationsViewportData = function (viewportRange) {\n    var modelDecorations = this._linesCollection.getDecorationsInRange(viewportRange, this.editorId, filterValidationDecorations(this.configuration.options));\n\n    var startLineNumber = viewportRange.startLineNumber;\n    var endLineNumber = viewportRange.endLineNumber;\n    var decorationsInViewport = [],\n        decorationsInViewportLen = 0;\n    var inlineDecorations = [];\n\n    for (var j = startLineNumber; j <= endLineNumber; j++) {\n      inlineDecorations[j - startLineNumber] = [];\n    }\n\n    for (var i = 0, len = modelDecorations.length; i < len; i++) {\n      var modelDecoration = modelDecorations[i];\n      var decorationOptions = modelDecoration.options;\n\n      var viewModelDecoration = this._getOrCreateViewModelDecoration(modelDecoration);\n\n      var viewRange = viewModelDecoration.range;\n      decorationsInViewport[decorationsInViewportLen++] = viewModelDecoration;\n\n      if (decorationOptions.inlineClassName) {\n        var inlineDecoration = new InlineDecoration(viewRange, decorationOptions.inlineClassName, decorationOptions.inlineClassNameAffectsLetterSpacing ? 3\n        /* RegularAffectingLetterSpacing */\n        : 0\n        /* Regular */\n        );\n        var intersectedStartLineNumber = Math.max(startLineNumber, viewRange.startLineNumber);\n        var intersectedEndLineNumber = Math.min(endLineNumber, viewRange.endLineNumber);\n\n        for (var j = intersectedStartLineNumber; j <= intersectedEndLineNumber; j++) {\n          inlineDecorations[j - startLineNumber].push(inlineDecoration);\n        }\n      }\n\n      if (decorationOptions.beforeContentClassName) {\n        if (startLineNumber <= viewRange.startLineNumber && viewRange.startLineNumber <= endLineNumber) {\n          var inlineDecoration = new InlineDecoration(new Range(viewRange.startLineNumber, viewRange.startColumn, viewRange.startLineNumber, viewRange.startColumn), decorationOptions.beforeContentClassName, 1\n          /* Before */\n          );\n          inlineDecorations[viewRange.startLineNumber - startLineNumber].push(inlineDecoration);\n        }\n      }\n\n      if (decorationOptions.afterContentClassName) {\n        if (startLineNumber <= viewRange.endLineNumber && viewRange.endLineNumber <= endLineNumber) {\n          var inlineDecoration = new InlineDecoration(new Range(viewRange.endLineNumber, viewRange.endColumn, viewRange.endLineNumber, viewRange.endColumn), decorationOptions.afterContentClassName, 2\n          /* After */\n          );\n          inlineDecorations[viewRange.endLineNumber - startLineNumber].push(inlineDecoration);\n        }\n      }\n    }\n\n    return {\n      decorations: decorationsInViewport,\n      inlineDecorations: inlineDecorations\n    };\n  };\n\n  return ViewModelDecorations;\n}();\n\nexport { ViewModelDecorations };","map":{"version":3,"sources":["/Users/ifudata/eclipse-workspace/screen-web/node_modules/monaco-editor/esm/vs/editor/common/viewModel/viewModelDecorations.js"],"names":["Position","Range","InlineDecoration","ViewModelDecoration","filterValidationDecorations","ViewModelDecorations","editorId","model","configuration","linesCollection","coordinatesConverter","_linesCollection","_coordinatesConverter","_decorationsCache","Object","create","_cachedModelDecorationsResolver","_cachedModelDecorationsResolverViewRange","prototype","_clearCachedModelDecorationsResolver","dispose","reset","onModelDecorationsChanged","onLineMappingChanged","_getOrCreateViewModelDecoration","modelDecoration","id","r","modelRange","range","options","viewRange","isWholeLine","start","convertModelPositionToViewPosition","startLineNumber","end","endLineNumber","getLineMaxColumn","lineNumber","column","convertModelRangeToViewRange","getDecorationsViewportData","cacheIsValid","equalsRange","_getDecorationsViewportData","viewportRange","modelDecorations","getDecorationsInRange","decorationsInViewport","decorationsInViewportLen","inlineDecorations","j","i","len","length","decorationOptions","viewModelDecoration","inlineClassName","inlineDecoration","inlineClassNameAffectsLetterSpacing","intersectedStartLineNumber","Math","max","intersectedEndLineNumber","min","push","beforeContentClassName","startColumn","afterContentClassName","endColumn","decorations"],"mappings":"AAAA;;;;AAIA,SAASA,QAAT,QAAyB,qBAAzB;AACA,SAASC,KAAT,QAAsB,kBAAtB;AACA,SAASC,gBAAT,EAA2BC,mBAA3B,QAAsD,gBAAtD;AACA,SAASC,2BAAT,QAA4C,4BAA5C;;AACA,IAAIC,oBAAoB;AAAG;AAAe,YAAY;AAClD,WAASA,oBAAT,CAA8BC,QAA9B,EAAwCC,KAAxC,EAA+CC,aAA/C,EAA8DC,eAA9D,EAA+EC,oBAA/E,EAAqG;AACjG,SAAKJ,QAAL,GAAgBA,QAAhB;AACA,SAAKC,KAAL,GAAaA,KAAb;AACA,SAAKC,aAAL,GAAqBA,aAArB;AACA,SAAKG,gBAAL,GAAwBF,eAAxB;AACA,SAAKG,qBAAL,GAA6BF,oBAA7B;AACA,SAAKG,iBAAL,GAAyBC,MAAM,CAACC,MAAP,CAAc,IAAd,CAAzB;AACA,SAAKC,+BAAL,GAAuC,IAAvC;AACA,SAAKC,wCAAL,GAAgD,IAAhD;AACH;;AACDZ,EAAAA,oBAAoB,CAACa,SAArB,CAA+BC,oCAA/B,GAAsE,YAAY;AAC9E,SAAKH,+BAAL,GAAuC,IAAvC;AACA,SAAKC,wCAAL,GAAgD,IAAhD;AACH,GAHD;;AAIAZ,EAAAA,oBAAoB,CAACa,SAArB,CAA+BE,OAA/B,GAAyC,YAAY;AACjD,SAAKP,iBAAL,GAAyBC,MAAM,CAACC,MAAP,CAAc,IAAd,CAAzB;;AACA,SAAKI,oCAAL;AACH,GAHD;;AAIAd,EAAAA,oBAAoB,CAACa,SAArB,CAA+BG,KAA/B,GAAuC,YAAY;AAC/C,SAAKR,iBAAL,GAAyBC,MAAM,CAACC,MAAP,CAAc,IAAd,CAAzB;;AACA,SAAKI,oCAAL;AACH,GAHD;;AAIAd,EAAAA,oBAAoB,CAACa,SAArB,CAA+BI,yBAA/B,GAA2D,YAAY;AACnE,SAAKT,iBAAL,GAAyBC,MAAM,CAACC,MAAP,CAAc,IAAd,CAAzB;;AACA,SAAKI,oCAAL;AACH,GAHD;;AAIAd,EAAAA,oBAAoB,CAACa,SAArB,CAA+BK,oBAA/B,GAAsD,YAAY;AAC9D,SAAKV,iBAAL,GAAyBC,MAAM,CAACC,MAAP,CAAc,IAAd,CAAzB;;AACA,SAAKI,oCAAL;AACH,GAHD;;AAIAd,EAAAA,oBAAoB,CAACa,SAArB,CAA+BM,+BAA/B,GAAiE,UAAUC,eAAV,EAA2B;AACxF,QAAIC,EAAE,GAAGD,eAAe,CAACC,EAAzB;AACA,QAAIC,CAAC,GAAG,KAAKd,iBAAL,CAAuBa,EAAvB,CAAR;;AACA,QAAI,CAACC,CAAL,EAAQ;AACJ,UAAIC,UAAU,GAAGH,eAAe,CAACI,KAAjC;AACA,UAAIC,OAAO,GAAGL,eAAe,CAACK,OAA9B;AACA,UAAIC,SAAS,GAAG,KAAK,CAArB;;AACA,UAAID,OAAO,CAACE,WAAZ,EAAyB;AACrB,YAAIC,KAAK,GAAG,KAAKrB,qBAAL,CAA2BsB,kCAA3B,CAA8D,IAAIlC,QAAJ,CAAa4B,UAAU,CAACO,eAAxB,EAAyC,CAAzC,CAA9D,CAAZ;;AACA,YAAIC,GAAG,GAAG,KAAKxB,qBAAL,CAA2BsB,kCAA3B,CAA8D,IAAIlC,QAAJ,CAAa4B,UAAU,CAACS,aAAxB,EAAuC,KAAK9B,KAAL,CAAW+B,gBAAX,CAA4BV,UAAU,CAACS,aAAvC,CAAvC,CAA9D,CAAV;;AACAN,QAAAA,SAAS,GAAG,IAAI9B,KAAJ,CAAUgC,KAAK,CAACM,UAAhB,EAA4BN,KAAK,CAACO,MAAlC,EAA0CJ,GAAG,CAACG,UAA9C,EAA0DH,GAAG,CAACI,MAA9D,CAAZ;AACH,OAJD,MAKK;AACDT,QAAAA,SAAS,GAAG,KAAKnB,qBAAL,CAA2B6B,4BAA3B,CAAwDb,UAAxD,CAAZ;AACH;;AACDD,MAAAA,CAAC,GAAG,IAAIxB,mBAAJ,CAAwB4B,SAAxB,EAAmCD,OAAnC,CAAJ;AACA,WAAKjB,iBAAL,CAAuBa,EAAvB,IAA6BC,CAA7B;AACH;;AACD,WAAOA,CAAP;AACH,GAnBD;;AAoBAtB,EAAAA,oBAAoB,CAACa,SAArB,CAA+BwB,0BAA/B,GAA4D,UAAUX,SAAV,EAAqB;AAC7E,QAAIY,YAAY,GAAI,KAAK3B,+BAAL,KAAyC,IAA7D;AACA2B,IAAAA,YAAY,GAAGA,YAAY,IAAKZ,SAAS,CAACa,WAAV,CAAsB,KAAK3B,wCAA3B,CAAhC;;AACA,QAAI,CAAC0B,YAAL,EAAmB;AACf,WAAK3B,+BAAL,GAAuC,KAAK6B,2BAAL,CAAiCd,SAAjC,CAAvC;AACA,WAAKd,wCAAL,GAAgDc,SAAhD;AACH;;AACD,WAAO,KAAKf,+BAAZ;AACH,GARD;;AASAX,EAAAA,oBAAoB,CAACa,SAArB,CAA+B2B,2BAA/B,GAA6D,UAAUC,aAAV,EAAyB;AAClF,QAAIC,gBAAgB,GAAG,KAAKpC,gBAAL,CAAsBqC,qBAAtB,CAA4CF,aAA5C,EAA2D,KAAKxC,QAAhE,EAA0EF,2BAA2B,CAAC,KAAKI,aAAL,CAAmBsB,OAApB,CAArG,CAAvB;;AACA,QAAIK,eAAe,GAAGW,aAAa,CAACX,eAApC;AACA,QAAIE,aAAa,GAAGS,aAAa,CAACT,aAAlC;AACA,QAAIY,qBAAqB,GAAG,EAA5B;AAAA,QAAgCC,wBAAwB,GAAG,CAA3D;AACA,QAAIC,iBAAiB,GAAG,EAAxB;;AACA,SAAK,IAAIC,CAAC,GAAGjB,eAAb,EAA8BiB,CAAC,IAAIf,aAAnC,EAAkDe,CAAC,EAAnD,EAAuD;AACnDD,MAAAA,iBAAiB,CAACC,CAAC,GAAGjB,eAAL,CAAjB,GAAyC,EAAzC;AACH;;AACD,SAAK,IAAIkB,CAAC,GAAG,CAAR,EAAWC,GAAG,GAAGP,gBAAgB,CAACQ,MAAvC,EAA+CF,CAAC,GAAGC,GAAnD,EAAwDD,CAAC,EAAzD,EAA6D;AACzD,UAAI5B,eAAe,GAAGsB,gBAAgB,CAACM,CAAD,CAAtC;AACA,UAAIG,iBAAiB,GAAG/B,eAAe,CAACK,OAAxC;;AACA,UAAI2B,mBAAmB,GAAG,KAAKjC,+BAAL,CAAqCC,eAArC,CAA1B;;AACA,UAAIM,SAAS,GAAG0B,mBAAmB,CAAC5B,KAApC;AACAoB,MAAAA,qBAAqB,CAACC,wBAAwB,EAAzB,CAArB,GAAoDO,mBAApD;;AACA,UAAID,iBAAiB,CAACE,eAAtB,EAAuC;AACnC,YAAIC,gBAAgB,GAAG,IAAIzD,gBAAJ,CAAqB6B,SAArB,EAAgCyB,iBAAiB,CAACE,eAAlD,EAAmEF,iBAAiB,CAACI,mCAAlB,GAAwD;AAAE;AAA1D,UAAgG;AAAE;AAArK,SAAvB;AACA,YAAIC,0BAA0B,GAAGC,IAAI,CAACC,GAAL,CAAS5B,eAAT,EAA0BJ,SAAS,CAACI,eAApC,CAAjC;AACA,YAAI6B,wBAAwB,GAAGF,IAAI,CAACG,GAAL,CAAS5B,aAAT,EAAwBN,SAAS,CAACM,aAAlC,CAA/B;;AACA,aAAK,IAAIe,CAAC,GAAGS,0BAAb,EAAyCT,CAAC,IAAIY,wBAA9C,EAAwEZ,CAAC,EAAzE,EAA6E;AACzED,UAAAA,iBAAiB,CAACC,CAAC,GAAGjB,eAAL,CAAjB,CAAuC+B,IAAvC,CAA4CP,gBAA5C;AACH;AACJ;;AACD,UAAIH,iBAAiB,CAACW,sBAAtB,EAA8C;AAC1C,YAAIhC,eAAe,IAAIJ,SAAS,CAACI,eAA7B,IAAgDJ,SAAS,CAACI,eAAV,IAA6BE,aAAjF,EAAgG;AAC5F,cAAIsB,gBAAgB,GAAG,IAAIzD,gBAAJ,CAAqB,IAAID,KAAJ,CAAU8B,SAAS,CAACI,eAApB,EAAqCJ,SAAS,CAACqC,WAA/C,EAA4DrC,SAAS,CAACI,eAAtE,EAAuFJ,SAAS,CAACqC,WAAjG,CAArB,EAAoIZ,iBAAiB,CAACW,sBAAtJ,EAA8K;AAAE;AAAhL,WAAvB;AACAhB,UAAAA,iBAAiB,CAACpB,SAAS,CAACI,eAAV,GAA4BA,eAA7B,CAAjB,CAA+D+B,IAA/D,CAAoEP,gBAApE;AACH;AACJ;;AACD,UAAIH,iBAAiB,CAACa,qBAAtB,EAA6C;AACzC,YAAIlC,eAAe,IAAIJ,SAAS,CAACM,aAA7B,IAA8CN,SAAS,CAACM,aAAV,IAA2BA,aAA7E,EAA4F;AACxF,cAAIsB,gBAAgB,GAAG,IAAIzD,gBAAJ,CAAqB,IAAID,KAAJ,CAAU8B,SAAS,CAACM,aAApB,EAAmCN,SAAS,CAACuC,SAA7C,EAAwDvC,SAAS,CAACM,aAAlE,EAAiFN,SAAS,CAACuC,SAA3F,CAArB,EAA4Hd,iBAAiB,CAACa,qBAA9I,EAAqK;AAAE;AAAvK,WAAvB;AACAlB,UAAAA,iBAAiB,CAACpB,SAAS,CAACM,aAAV,GAA0BF,eAA3B,CAAjB,CAA6D+B,IAA7D,CAAkEP,gBAAlE;AACH;AACJ;AACJ;;AACD,WAAO;AACHY,MAAAA,WAAW,EAAEtB,qBADV;AAEHE,MAAAA,iBAAiB,EAAEA;AAFhB,KAAP;AAIH,GAxCD;;AAyCA,SAAO9C,oBAAP;AACH,CAtGyC,EAA1C;;AAuGA,SAASA,oBAAT","sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { Position } from '../core/position.js';\r\nimport { Range } from '../core/range.js';\r\nimport { InlineDecoration, ViewModelDecoration } from './viewModel.js';\r\nimport { filterValidationDecorations } from '../config/editorOptions.js';\r\nvar ViewModelDecorations = /** @class */ (function () {\r\n    function ViewModelDecorations(editorId, model, configuration, linesCollection, coordinatesConverter) {\r\n        this.editorId = editorId;\r\n        this.model = model;\r\n        this.configuration = configuration;\r\n        this._linesCollection = linesCollection;\r\n        this._coordinatesConverter = coordinatesConverter;\r\n        this._decorationsCache = Object.create(null);\r\n        this._cachedModelDecorationsResolver = null;\r\n        this._cachedModelDecorationsResolverViewRange = null;\r\n    }\r\n    ViewModelDecorations.prototype._clearCachedModelDecorationsResolver = function () {\r\n        this._cachedModelDecorationsResolver = null;\r\n        this._cachedModelDecorationsResolverViewRange = null;\r\n    };\r\n    ViewModelDecorations.prototype.dispose = function () {\r\n        this._decorationsCache = Object.create(null);\r\n        this._clearCachedModelDecorationsResolver();\r\n    };\r\n    ViewModelDecorations.prototype.reset = function () {\r\n        this._decorationsCache = Object.create(null);\r\n        this._clearCachedModelDecorationsResolver();\r\n    };\r\n    ViewModelDecorations.prototype.onModelDecorationsChanged = function () {\r\n        this._decorationsCache = Object.create(null);\r\n        this._clearCachedModelDecorationsResolver();\r\n    };\r\n    ViewModelDecorations.prototype.onLineMappingChanged = function () {\r\n        this._decorationsCache = Object.create(null);\r\n        this._clearCachedModelDecorationsResolver();\r\n    };\r\n    ViewModelDecorations.prototype._getOrCreateViewModelDecoration = function (modelDecoration) {\r\n        var id = modelDecoration.id;\r\n        var r = this._decorationsCache[id];\r\n        if (!r) {\r\n            var modelRange = modelDecoration.range;\r\n            var options = modelDecoration.options;\r\n            var viewRange = void 0;\r\n            if (options.isWholeLine) {\r\n                var start = this._coordinatesConverter.convertModelPositionToViewPosition(new Position(modelRange.startLineNumber, 1));\r\n                var end = this._coordinatesConverter.convertModelPositionToViewPosition(new Position(modelRange.endLineNumber, this.model.getLineMaxColumn(modelRange.endLineNumber)));\r\n                viewRange = new Range(start.lineNumber, start.column, end.lineNumber, end.column);\r\n            }\r\n            else {\r\n                viewRange = this._coordinatesConverter.convertModelRangeToViewRange(modelRange);\r\n            }\r\n            r = new ViewModelDecoration(viewRange, options);\r\n            this._decorationsCache[id] = r;\r\n        }\r\n        return r;\r\n    };\r\n    ViewModelDecorations.prototype.getDecorationsViewportData = function (viewRange) {\r\n        var cacheIsValid = (this._cachedModelDecorationsResolver !== null);\r\n        cacheIsValid = cacheIsValid && (viewRange.equalsRange(this._cachedModelDecorationsResolverViewRange));\r\n        if (!cacheIsValid) {\r\n            this._cachedModelDecorationsResolver = this._getDecorationsViewportData(viewRange);\r\n            this._cachedModelDecorationsResolverViewRange = viewRange;\r\n        }\r\n        return this._cachedModelDecorationsResolver;\r\n    };\r\n    ViewModelDecorations.prototype._getDecorationsViewportData = function (viewportRange) {\r\n        var modelDecorations = this._linesCollection.getDecorationsInRange(viewportRange, this.editorId, filterValidationDecorations(this.configuration.options));\r\n        var startLineNumber = viewportRange.startLineNumber;\r\n        var endLineNumber = viewportRange.endLineNumber;\r\n        var decorationsInViewport = [], decorationsInViewportLen = 0;\r\n        var inlineDecorations = [];\r\n        for (var j = startLineNumber; j <= endLineNumber; j++) {\r\n            inlineDecorations[j - startLineNumber] = [];\r\n        }\r\n        for (var i = 0, len = modelDecorations.length; i < len; i++) {\r\n            var modelDecoration = modelDecorations[i];\r\n            var decorationOptions = modelDecoration.options;\r\n            var viewModelDecoration = this._getOrCreateViewModelDecoration(modelDecoration);\r\n            var viewRange = viewModelDecoration.range;\r\n            decorationsInViewport[decorationsInViewportLen++] = viewModelDecoration;\r\n            if (decorationOptions.inlineClassName) {\r\n                var inlineDecoration = new InlineDecoration(viewRange, decorationOptions.inlineClassName, decorationOptions.inlineClassNameAffectsLetterSpacing ? 3 /* RegularAffectingLetterSpacing */ : 0 /* Regular */);\r\n                var intersectedStartLineNumber = Math.max(startLineNumber, viewRange.startLineNumber);\r\n                var intersectedEndLineNumber = Math.min(endLineNumber, viewRange.endLineNumber);\r\n                for (var j = intersectedStartLineNumber; j <= intersectedEndLineNumber; j++) {\r\n                    inlineDecorations[j - startLineNumber].push(inlineDecoration);\r\n                }\r\n            }\r\n            if (decorationOptions.beforeContentClassName) {\r\n                if (startLineNumber <= viewRange.startLineNumber && viewRange.startLineNumber <= endLineNumber) {\r\n                    var inlineDecoration = new InlineDecoration(new Range(viewRange.startLineNumber, viewRange.startColumn, viewRange.startLineNumber, viewRange.startColumn), decorationOptions.beforeContentClassName, 1 /* Before */);\r\n                    inlineDecorations[viewRange.startLineNumber - startLineNumber].push(inlineDecoration);\r\n                }\r\n            }\r\n            if (decorationOptions.afterContentClassName) {\r\n                if (startLineNumber <= viewRange.endLineNumber && viewRange.endLineNumber <= endLineNumber) {\r\n                    var inlineDecoration = new InlineDecoration(new Range(viewRange.endLineNumber, viewRange.endColumn, viewRange.endLineNumber, viewRange.endColumn), decorationOptions.afterContentClassName, 2 /* After */);\r\n                    inlineDecorations[viewRange.endLineNumber - startLineNumber].push(inlineDecoration);\r\n                }\r\n            }\r\n        }\r\n        return {\r\n            decorations: decorationsInViewport,\r\n            inlineDecorations: inlineDecorations\r\n        };\r\n    };\r\n    return ViewModelDecorations;\r\n}());\r\nexport { ViewModelDecorations };\r\n"]},"metadata":{},"sourceType":"module"}