{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { Emitter } from '../../../base/common/event.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { Range } from '../../common/core/range.js';\n\nfunction effectiveOptionValue(override, value) {\n  if (override === 1\n  /* True */\n  ) {\n      return true;\n    }\n\n  if (override === 2\n  /* False */\n  ) {\n      return false;\n    }\n\n  return value;\n}\n\nvar FindReplaceState =\n/** @class */\nfunction (_super) {\n  __extends(FindReplaceState, _super);\n\n  function FindReplaceState() {\n    var _this = _super.call(this) || this;\n\n    _this._onFindReplaceStateChange = _this._register(new Emitter());\n    _this.onFindReplaceStateChange = _this._onFindReplaceStateChange.event;\n    _this._searchString = '';\n    _this._replaceString = '';\n    _this._isRevealed = false;\n    _this._isReplaceRevealed = false;\n    _this._isRegex = false;\n    _this._isRegexOverride = 0\n    /* NotSet */\n    ;\n    _this._wholeWord = false;\n    _this._wholeWordOverride = 0\n    /* NotSet */\n    ;\n    _this._matchCase = false;\n    _this._matchCaseOverride = 0\n    /* NotSet */\n    ;\n    _this._preserveCase = false;\n    _this._preserveCaseOverride = 0\n    /* NotSet */\n    ;\n    _this._searchScope = null;\n    _this._matchesPosition = 0;\n    _this._matchesCount = 0;\n    _this._currentMatch = null;\n    return _this;\n  }\n\n  Object.defineProperty(FindReplaceState.prototype, \"searchString\", {\n    get: function () {\n      return this._searchString;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(FindReplaceState.prototype, \"replaceString\", {\n    get: function () {\n      return this._replaceString;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(FindReplaceState.prototype, \"isRevealed\", {\n    get: function () {\n      return this._isRevealed;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(FindReplaceState.prototype, \"isReplaceRevealed\", {\n    get: function () {\n      return this._isReplaceRevealed;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(FindReplaceState.prototype, \"isRegex\", {\n    get: function () {\n      return effectiveOptionValue(this._isRegexOverride, this._isRegex);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(FindReplaceState.prototype, \"wholeWord\", {\n    get: function () {\n      return effectiveOptionValue(this._wholeWordOverride, this._wholeWord);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(FindReplaceState.prototype, \"matchCase\", {\n    get: function () {\n      return effectiveOptionValue(this._matchCaseOverride, this._matchCase);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(FindReplaceState.prototype, \"preserveCase\", {\n    get: function () {\n      return effectiveOptionValue(this._preserveCaseOverride, this._preserveCase);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(FindReplaceState.prototype, \"actualIsRegex\", {\n    get: function () {\n      return this._isRegex;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(FindReplaceState.prototype, \"actualWholeWord\", {\n    get: function () {\n      return this._wholeWord;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(FindReplaceState.prototype, \"actualMatchCase\", {\n    get: function () {\n      return this._matchCase;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(FindReplaceState.prototype, \"actualPreserveCase\", {\n    get: function () {\n      return this._preserveCase;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(FindReplaceState.prototype, \"searchScope\", {\n    get: function () {\n      return this._searchScope;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(FindReplaceState.prototype, \"matchesPosition\", {\n    get: function () {\n      return this._matchesPosition;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(FindReplaceState.prototype, \"matchesCount\", {\n    get: function () {\n      return this._matchesCount;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(FindReplaceState.prototype, \"currentMatch\", {\n    get: function () {\n      return this._currentMatch;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  FindReplaceState.prototype.changeMatchInfo = function (matchesPosition, matchesCount, currentMatch) {\n    var changeEvent = {\n      moveCursor: false,\n      updateHistory: false,\n      searchString: false,\n      replaceString: false,\n      isRevealed: false,\n      isReplaceRevealed: false,\n      isRegex: false,\n      wholeWord: false,\n      matchCase: false,\n      preserveCase: false,\n      searchScope: false,\n      matchesPosition: false,\n      matchesCount: false,\n      currentMatch: false\n    };\n    var somethingChanged = false;\n\n    if (matchesCount === 0) {\n      matchesPosition = 0;\n    }\n\n    if (matchesPosition > matchesCount) {\n      matchesPosition = matchesCount;\n    }\n\n    if (this._matchesPosition !== matchesPosition) {\n      this._matchesPosition = matchesPosition;\n      changeEvent.matchesPosition = true;\n      somethingChanged = true;\n    }\n\n    if (this._matchesCount !== matchesCount) {\n      this._matchesCount = matchesCount;\n      changeEvent.matchesCount = true;\n      somethingChanged = true;\n    }\n\n    if (typeof currentMatch !== 'undefined') {\n      if (!Range.equalsRange(this._currentMatch, currentMatch)) {\n        this._currentMatch = currentMatch;\n        changeEvent.currentMatch = true;\n        somethingChanged = true;\n      }\n    }\n\n    if (somethingChanged) {\n      this._onFindReplaceStateChange.fire(changeEvent);\n    }\n  };\n\n  FindReplaceState.prototype.change = function (newState, moveCursor, updateHistory) {\n    if (updateHistory === void 0) {\n      updateHistory = true;\n    }\n\n    var changeEvent = {\n      moveCursor: moveCursor,\n      updateHistory: updateHistory,\n      searchString: false,\n      replaceString: false,\n      isRevealed: false,\n      isReplaceRevealed: false,\n      isRegex: false,\n      wholeWord: false,\n      matchCase: false,\n      preserveCase: false,\n      searchScope: false,\n      matchesPosition: false,\n      matchesCount: false,\n      currentMatch: false\n    };\n    var somethingChanged = false;\n    var oldEffectiveIsRegex = this.isRegex;\n    var oldEffectiveWholeWords = this.wholeWord;\n    var oldEffectiveMatchCase = this.matchCase;\n    var oldEffectivePreserveCase = this.preserveCase;\n\n    if (typeof newState.searchString !== 'undefined') {\n      if (this._searchString !== newState.searchString) {\n        this._searchString = newState.searchString;\n        changeEvent.searchString = true;\n        somethingChanged = true;\n      }\n    }\n\n    if (typeof newState.replaceString !== 'undefined') {\n      if (this._replaceString !== newState.replaceString) {\n        this._replaceString = newState.replaceString;\n        changeEvent.replaceString = true;\n        somethingChanged = true;\n      }\n    }\n\n    if (typeof newState.isRevealed !== 'undefined') {\n      if (this._isRevealed !== newState.isRevealed) {\n        this._isRevealed = newState.isRevealed;\n        changeEvent.isRevealed = true;\n        somethingChanged = true;\n      }\n    }\n\n    if (typeof newState.isReplaceRevealed !== 'undefined') {\n      if (this._isReplaceRevealed !== newState.isReplaceRevealed) {\n        this._isReplaceRevealed = newState.isReplaceRevealed;\n        changeEvent.isReplaceRevealed = true;\n        somethingChanged = true;\n      }\n    }\n\n    if (typeof newState.isRegex !== 'undefined') {\n      this._isRegex = newState.isRegex;\n    }\n\n    if (typeof newState.wholeWord !== 'undefined') {\n      this._wholeWord = newState.wholeWord;\n    }\n\n    if (typeof newState.matchCase !== 'undefined') {\n      this._matchCase = newState.matchCase;\n    }\n\n    if (typeof newState.preserveCase !== 'undefined') {\n      this._preserveCase = newState.preserveCase;\n    }\n\n    if (typeof newState.searchScope !== 'undefined') {\n      if (!Range.equalsRange(this._searchScope, newState.searchScope)) {\n        this._searchScope = newState.searchScope;\n        changeEvent.searchScope = true;\n        somethingChanged = true;\n      }\n    } // Overrides get set when they explicitly come in and get reset anytime something else changes\n\n\n    this._isRegexOverride = typeof newState.isRegexOverride !== 'undefined' ? newState.isRegexOverride : 0\n    /* NotSet */\n    ;\n    this._wholeWordOverride = typeof newState.wholeWordOverride !== 'undefined' ? newState.wholeWordOverride : 0\n    /* NotSet */\n    ;\n    this._matchCaseOverride = typeof newState.matchCaseOverride !== 'undefined' ? newState.matchCaseOverride : 0\n    /* NotSet */\n    ;\n    this._preserveCaseOverride = typeof newState.preserveCaseOverride !== 'undefined' ? newState.preserveCaseOverride : 0\n    /* NotSet */\n    ;\n\n    if (oldEffectiveIsRegex !== this.isRegex) {\n      somethingChanged = true;\n      changeEvent.isRegex = true;\n    }\n\n    if (oldEffectiveWholeWords !== this.wholeWord) {\n      somethingChanged = true;\n      changeEvent.wholeWord = true;\n    }\n\n    if (oldEffectiveMatchCase !== this.matchCase) {\n      somethingChanged = true;\n      changeEvent.matchCase = true;\n    }\n\n    if (oldEffectivePreserveCase !== this.preserveCase) {\n      somethingChanged = true;\n      changeEvent.preserveCase = true;\n    }\n\n    if (somethingChanged) {\n      this._onFindReplaceStateChange.fire(changeEvent);\n    }\n  };\n\n  return FindReplaceState;\n}(Disposable);\n\nexport { FindReplaceState };","map":{"version":3,"sources":["/Users/ifudata/eclipse-workspace/screen-web/node_modules/monaco-editor/esm/vs/editor/contrib/find/findState.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","Emitter","Disposable","Range","effectiveOptionValue","override","value","FindReplaceState","_super","_this","call","_onFindReplaceStateChange","_register","onFindReplaceStateChange","event","_searchString","_replaceString","_isRevealed","_isReplaceRevealed","_isRegex","_isRegexOverride","_wholeWord","_wholeWordOverride","_matchCase","_matchCaseOverride","_preserveCase","_preserveCaseOverride","_searchScope","_matchesPosition","_matchesCount","_currentMatch","defineProperty","get","enumerable","configurable","changeMatchInfo","matchesPosition","matchesCount","currentMatch","changeEvent","moveCursor","updateHistory","searchString","replaceString","isRevealed","isReplaceRevealed","isRegex","wholeWord","matchCase","preserveCase","searchScope","somethingChanged","equalsRange","fire","change","newState","oldEffectiveIsRegex","oldEffectiveWholeWords","oldEffectiveMatchCase","oldEffectivePreserveCase","isRegexOverride","wholeWordOverride","matchCaseOverride","preserveCaseOverride"],"mappings":"AAAA;;;;AAIA,IAAIA,SAAS,GAAI,QAAQ,KAAKA,SAAd,IAA6B,YAAY;AACrD,MAAIC,aAAa,GAAG,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AAChCF,IAAAA,aAAa,GAAGG,MAAM,CAACC,cAAP,IACX;AAAEC,MAAAA,SAAS,EAAE;AAAb,iBAA6BC,KAA7B,IAAsC,UAAUL,CAAV,EAAaC,CAAb,EAAgB;AAAED,MAAAA,CAAC,CAACI,SAAF,GAAcH,CAAd;AAAkB,KAD/D,IAEZ,UAAUD,CAAV,EAAaC,CAAb,EAAgB;AAAE,WAAK,IAAIK,CAAT,IAAcL,CAAd,EAAiB,IAAIA,CAAC,CAACM,cAAF,CAAiBD,CAAjB,CAAJ,EAAyBN,CAAC,CAACM,CAAD,CAAD,GAAOL,CAAC,CAACK,CAAD,CAAR;AAAc,KAF9E;;AAGA,WAAOP,aAAa,CAACC,CAAD,EAAIC,CAAJ,CAApB;AACH,GALD;;AAMA,SAAO,UAAUD,CAAV,EAAaC,CAAb,EAAgB;AACnBF,IAAAA,aAAa,CAACC,CAAD,EAAIC,CAAJ,CAAb;;AACA,aAASO,EAAT,GAAc;AAAE,WAAKC,WAAL,GAAmBT,CAAnB;AAAuB;;AACvCA,IAAAA,CAAC,CAACU,SAAF,GAAcT,CAAC,KAAK,IAAN,GAAaC,MAAM,CAACS,MAAP,CAAcV,CAAd,CAAb,IAAiCO,EAAE,CAACE,SAAH,GAAeT,CAAC,CAACS,SAAjB,EAA4B,IAAIF,EAAJ,EAA7D,CAAd;AACH,GAJD;AAKH,CAZ2C,EAA5C;;AAaA,SAASI,OAAT,QAAwB,+BAAxB;AACA,SAASC,UAAT,QAA2B,mCAA3B;AACA,SAASC,KAAT,QAAsB,4BAAtB;;AACA,SAASC,oBAAT,CAA8BC,QAA9B,EAAwCC,KAAxC,EAA+C;AAC3C,MAAID,QAAQ,KAAK;AAAE;AAAnB,IAA+B;AAC3B,aAAO,IAAP;AACH;;AACD,MAAIA,QAAQ,KAAK;AAAE;AAAnB,IAAgC;AAC5B,aAAO,KAAP;AACH;;AACD,SAAOC,KAAP;AACH;;AACD,IAAIC,gBAAgB;AAAG;AAAe,UAAUC,MAAV,EAAkB;AACpDrB,EAAAA,SAAS,CAACoB,gBAAD,EAAmBC,MAAnB,CAAT;;AACA,WAASD,gBAAT,GAA4B;AACxB,QAAIE,KAAK,GAAGD,MAAM,CAACE,IAAP,CAAY,IAAZ,KAAqB,IAAjC;;AACAD,IAAAA,KAAK,CAACE,yBAAN,GAAkCF,KAAK,CAACG,SAAN,CAAgB,IAAIX,OAAJ,EAAhB,CAAlC;AACAQ,IAAAA,KAAK,CAACI,wBAAN,GAAiCJ,KAAK,CAACE,yBAAN,CAAgCG,KAAjE;AACAL,IAAAA,KAAK,CAACM,aAAN,GAAsB,EAAtB;AACAN,IAAAA,KAAK,CAACO,cAAN,GAAuB,EAAvB;AACAP,IAAAA,KAAK,CAACQ,WAAN,GAAoB,KAApB;AACAR,IAAAA,KAAK,CAACS,kBAAN,GAA2B,KAA3B;AACAT,IAAAA,KAAK,CAACU,QAAN,GAAiB,KAAjB;AACAV,IAAAA,KAAK,CAACW,gBAAN,GAAyB;AAAE;AAA3B;AACAX,IAAAA,KAAK,CAACY,UAAN,GAAmB,KAAnB;AACAZ,IAAAA,KAAK,CAACa,kBAAN,GAA2B;AAAE;AAA7B;AACAb,IAAAA,KAAK,CAACc,UAAN,GAAmB,KAAnB;AACAd,IAAAA,KAAK,CAACe,kBAAN,GAA2B;AAAE;AAA7B;AACAf,IAAAA,KAAK,CAACgB,aAAN,GAAsB,KAAtB;AACAhB,IAAAA,KAAK,CAACiB,qBAAN,GAA8B;AAAE;AAAhC;AACAjB,IAAAA,KAAK,CAACkB,YAAN,GAAqB,IAArB;AACAlB,IAAAA,KAAK,CAACmB,gBAAN,GAAyB,CAAzB;AACAnB,IAAAA,KAAK,CAACoB,aAAN,GAAsB,CAAtB;AACApB,IAAAA,KAAK,CAACqB,aAAN,GAAsB,IAAtB;AACA,WAAOrB,KAAP;AACH;;AACDlB,EAAAA,MAAM,CAACwC,cAAP,CAAsBxB,gBAAgB,CAACR,SAAvC,EAAkD,cAAlD,EAAkE;AAC9DiC,IAAAA,GAAG,EAAE,YAAY;AAAE,aAAO,KAAKjB,aAAZ;AAA4B,KADe;AAE9DkB,IAAAA,UAAU,EAAE,IAFkD;AAG9DC,IAAAA,YAAY,EAAE;AAHgD,GAAlE;AAKA3C,EAAAA,MAAM,CAACwC,cAAP,CAAsBxB,gBAAgB,CAACR,SAAvC,EAAkD,eAAlD,EAAmE;AAC/DiC,IAAAA,GAAG,EAAE,YAAY;AAAE,aAAO,KAAKhB,cAAZ;AAA6B,KADe;AAE/DiB,IAAAA,UAAU,EAAE,IAFmD;AAG/DC,IAAAA,YAAY,EAAE;AAHiD,GAAnE;AAKA3C,EAAAA,MAAM,CAACwC,cAAP,CAAsBxB,gBAAgB,CAACR,SAAvC,EAAkD,YAAlD,EAAgE;AAC5DiC,IAAAA,GAAG,EAAE,YAAY;AAAE,aAAO,KAAKf,WAAZ;AAA0B,KADe;AAE5DgB,IAAAA,UAAU,EAAE,IAFgD;AAG5DC,IAAAA,YAAY,EAAE;AAH8C,GAAhE;AAKA3C,EAAAA,MAAM,CAACwC,cAAP,CAAsBxB,gBAAgB,CAACR,SAAvC,EAAkD,mBAAlD,EAAuE;AACnEiC,IAAAA,GAAG,EAAE,YAAY;AAAE,aAAO,KAAKd,kBAAZ;AAAiC,KADe;AAEnEe,IAAAA,UAAU,EAAE,IAFuD;AAGnEC,IAAAA,YAAY,EAAE;AAHqD,GAAvE;AAKA3C,EAAAA,MAAM,CAACwC,cAAP,CAAsBxB,gBAAgB,CAACR,SAAvC,EAAkD,SAAlD,EAA6D;AACzDiC,IAAAA,GAAG,EAAE,YAAY;AAAE,aAAO5B,oBAAoB,CAAC,KAAKgB,gBAAN,EAAwB,KAAKD,QAA7B,CAA3B;AAAoE,KAD9B;AAEzDc,IAAAA,UAAU,EAAE,IAF6C;AAGzDC,IAAAA,YAAY,EAAE;AAH2C,GAA7D;AAKA3C,EAAAA,MAAM,CAACwC,cAAP,CAAsBxB,gBAAgB,CAACR,SAAvC,EAAkD,WAAlD,EAA+D;AAC3DiC,IAAAA,GAAG,EAAE,YAAY;AAAE,aAAO5B,oBAAoB,CAAC,KAAKkB,kBAAN,EAA0B,KAAKD,UAA/B,CAA3B;AAAwE,KADhC;AAE3DY,IAAAA,UAAU,EAAE,IAF+C;AAG3DC,IAAAA,YAAY,EAAE;AAH6C,GAA/D;AAKA3C,EAAAA,MAAM,CAACwC,cAAP,CAAsBxB,gBAAgB,CAACR,SAAvC,EAAkD,WAAlD,EAA+D;AAC3DiC,IAAAA,GAAG,EAAE,YAAY;AAAE,aAAO5B,oBAAoB,CAAC,KAAKoB,kBAAN,EAA0B,KAAKD,UAA/B,CAA3B;AAAwE,KADhC;AAE3DU,IAAAA,UAAU,EAAE,IAF+C;AAG3DC,IAAAA,YAAY,EAAE;AAH6C,GAA/D;AAKA3C,EAAAA,MAAM,CAACwC,cAAP,CAAsBxB,gBAAgB,CAACR,SAAvC,EAAkD,cAAlD,EAAkE;AAC9DiC,IAAAA,GAAG,EAAE,YAAY;AAAE,aAAO5B,oBAAoB,CAAC,KAAKsB,qBAAN,EAA6B,KAAKD,aAAlC,CAA3B;AAA8E,KADnC;AAE9DQ,IAAAA,UAAU,EAAE,IAFkD;AAG9DC,IAAAA,YAAY,EAAE;AAHgD,GAAlE;AAKA3C,EAAAA,MAAM,CAACwC,cAAP,CAAsBxB,gBAAgB,CAACR,SAAvC,EAAkD,eAAlD,EAAmE;AAC/DiC,IAAAA,GAAG,EAAE,YAAY;AAAE,aAAO,KAAKb,QAAZ;AAAuB,KADqB;AAE/Dc,IAAAA,UAAU,EAAE,IAFmD;AAG/DC,IAAAA,YAAY,EAAE;AAHiD,GAAnE;AAKA3C,EAAAA,MAAM,CAACwC,cAAP,CAAsBxB,gBAAgB,CAACR,SAAvC,EAAkD,iBAAlD,EAAqE;AACjEiC,IAAAA,GAAG,EAAE,YAAY;AAAE,aAAO,KAAKX,UAAZ;AAAyB,KADqB;AAEjEY,IAAAA,UAAU,EAAE,IAFqD;AAGjEC,IAAAA,YAAY,EAAE;AAHmD,GAArE;AAKA3C,EAAAA,MAAM,CAACwC,cAAP,CAAsBxB,gBAAgB,CAACR,SAAvC,EAAkD,iBAAlD,EAAqE;AACjEiC,IAAAA,GAAG,EAAE,YAAY;AAAE,aAAO,KAAKT,UAAZ;AAAyB,KADqB;AAEjEU,IAAAA,UAAU,EAAE,IAFqD;AAGjEC,IAAAA,YAAY,EAAE;AAHmD,GAArE;AAKA3C,EAAAA,MAAM,CAACwC,cAAP,CAAsBxB,gBAAgB,CAACR,SAAvC,EAAkD,oBAAlD,EAAwE;AACpEiC,IAAAA,GAAG,EAAE,YAAY;AAAE,aAAO,KAAKP,aAAZ;AAA4B,KADqB;AAEpEQ,IAAAA,UAAU,EAAE,IAFwD;AAGpEC,IAAAA,YAAY,EAAE;AAHsD,GAAxE;AAKA3C,EAAAA,MAAM,CAACwC,cAAP,CAAsBxB,gBAAgB,CAACR,SAAvC,EAAkD,aAAlD,EAAiE;AAC7DiC,IAAAA,GAAG,EAAE,YAAY;AAAE,aAAO,KAAKL,YAAZ;AAA2B,KADe;AAE7DM,IAAAA,UAAU,EAAE,IAFiD;AAG7DC,IAAAA,YAAY,EAAE;AAH+C,GAAjE;AAKA3C,EAAAA,MAAM,CAACwC,cAAP,CAAsBxB,gBAAgB,CAACR,SAAvC,EAAkD,iBAAlD,EAAqE;AACjEiC,IAAAA,GAAG,EAAE,YAAY;AAAE,aAAO,KAAKJ,gBAAZ;AAA+B,KADe;AAEjEK,IAAAA,UAAU,EAAE,IAFqD;AAGjEC,IAAAA,YAAY,EAAE;AAHmD,GAArE;AAKA3C,EAAAA,MAAM,CAACwC,cAAP,CAAsBxB,gBAAgB,CAACR,SAAvC,EAAkD,cAAlD,EAAkE;AAC9DiC,IAAAA,GAAG,EAAE,YAAY;AAAE,aAAO,KAAKH,aAAZ;AAA4B,KADe;AAE9DI,IAAAA,UAAU,EAAE,IAFkD;AAG9DC,IAAAA,YAAY,EAAE;AAHgD,GAAlE;AAKA3C,EAAAA,MAAM,CAACwC,cAAP,CAAsBxB,gBAAgB,CAACR,SAAvC,EAAkD,cAAlD,EAAkE;AAC9DiC,IAAAA,GAAG,EAAE,YAAY;AAAE,aAAO,KAAKF,aAAZ;AAA4B,KADe;AAE9DG,IAAAA,UAAU,EAAE,IAFkD;AAG9DC,IAAAA,YAAY,EAAE;AAHgD,GAAlE;;AAKA3B,EAAAA,gBAAgB,CAACR,SAAjB,CAA2BoC,eAA3B,GAA6C,UAAUC,eAAV,EAA2BC,YAA3B,EAAyCC,YAAzC,EAAuD;AAChG,QAAIC,WAAW,GAAG;AACdC,MAAAA,UAAU,EAAE,KADE;AAEdC,MAAAA,aAAa,EAAE,KAFD;AAGdC,MAAAA,YAAY,EAAE,KAHA;AAIdC,MAAAA,aAAa,EAAE,KAJD;AAKdC,MAAAA,UAAU,EAAE,KALE;AAMdC,MAAAA,iBAAiB,EAAE,KANL;AAOdC,MAAAA,OAAO,EAAE,KAPK;AAQdC,MAAAA,SAAS,EAAE,KARG;AASdC,MAAAA,SAAS,EAAE,KATG;AAUdC,MAAAA,YAAY,EAAE,KAVA;AAWdC,MAAAA,WAAW,EAAE,KAXC;AAYdd,MAAAA,eAAe,EAAE,KAZH;AAadC,MAAAA,YAAY,EAAE,KAbA;AAcdC,MAAAA,YAAY,EAAE;AAdA,KAAlB;AAgBA,QAAIa,gBAAgB,GAAG,KAAvB;;AACA,QAAId,YAAY,KAAK,CAArB,EAAwB;AACpBD,MAAAA,eAAe,GAAG,CAAlB;AACH;;AACD,QAAIA,eAAe,GAAGC,YAAtB,EAAoC;AAChCD,MAAAA,eAAe,GAAGC,YAAlB;AACH;;AACD,QAAI,KAAKT,gBAAL,KAA0BQ,eAA9B,EAA+C;AAC3C,WAAKR,gBAAL,GAAwBQ,eAAxB;AACAG,MAAAA,WAAW,CAACH,eAAZ,GAA8B,IAA9B;AACAe,MAAAA,gBAAgB,GAAG,IAAnB;AACH;;AACD,QAAI,KAAKtB,aAAL,KAAuBQ,YAA3B,EAAyC;AACrC,WAAKR,aAAL,GAAqBQ,YAArB;AACAE,MAAAA,WAAW,CAACF,YAAZ,GAA2B,IAA3B;AACAc,MAAAA,gBAAgB,GAAG,IAAnB;AACH;;AACD,QAAI,OAAOb,YAAP,KAAwB,WAA5B,EAAyC;AACrC,UAAI,CAACnC,KAAK,CAACiD,WAAN,CAAkB,KAAKtB,aAAvB,EAAsCQ,YAAtC,CAAL,EAA0D;AACtD,aAAKR,aAAL,GAAqBQ,YAArB;AACAC,QAAAA,WAAW,CAACD,YAAZ,GAA2B,IAA3B;AACAa,QAAAA,gBAAgB,GAAG,IAAnB;AACH;AACJ;;AACD,QAAIA,gBAAJ,EAAsB;AAClB,WAAKxC,yBAAL,CAA+B0C,IAA/B,CAAoCd,WAApC;AACH;AACJ,GA5CD;;AA6CAhC,EAAAA,gBAAgB,CAACR,SAAjB,CAA2BuD,MAA3B,GAAoC,UAAUC,QAAV,EAAoBf,UAApB,EAAgCC,aAAhC,EAA+C;AAC/E,QAAIA,aAAa,KAAK,KAAK,CAA3B,EAA8B;AAAEA,MAAAA,aAAa,GAAG,IAAhB;AAAuB;;AACvD,QAAIF,WAAW,GAAG;AACdC,MAAAA,UAAU,EAAEA,UADE;AAEdC,MAAAA,aAAa,EAAEA,aAFD;AAGdC,MAAAA,YAAY,EAAE,KAHA;AAIdC,MAAAA,aAAa,EAAE,KAJD;AAKdC,MAAAA,UAAU,EAAE,KALE;AAMdC,MAAAA,iBAAiB,EAAE,KANL;AAOdC,MAAAA,OAAO,EAAE,KAPK;AAQdC,MAAAA,SAAS,EAAE,KARG;AASdC,MAAAA,SAAS,EAAE,KATG;AAUdC,MAAAA,YAAY,EAAE,KAVA;AAWdC,MAAAA,WAAW,EAAE,KAXC;AAYdd,MAAAA,eAAe,EAAE,KAZH;AAadC,MAAAA,YAAY,EAAE,KAbA;AAcdC,MAAAA,YAAY,EAAE;AAdA,KAAlB;AAgBA,QAAIa,gBAAgB,GAAG,KAAvB;AACA,QAAIK,mBAAmB,GAAG,KAAKV,OAA/B;AACA,QAAIW,sBAAsB,GAAG,KAAKV,SAAlC;AACA,QAAIW,qBAAqB,GAAG,KAAKV,SAAjC;AACA,QAAIW,wBAAwB,GAAG,KAAKV,YAApC;;AACA,QAAI,OAAOM,QAAQ,CAACb,YAAhB,KAAiC,WAArC,EAAkD;AAC9C,UAAI,KAAK3B,aAAL,KAAuBwC,QAAQ,CAACb,YAApC,EAAkD;AAC9C,aAAK3B,aAAL,GAAqBwC,QAAQ,CAACb,YAA9B;AACAH,QAAAA,WAAW,CAACG,YAAZ,GAA2B,IAA3B;AACAS,QAAAA,gBAAgB,GAAG,IAAnB;AACH;AACJ;;AACD,QAAI,OAAOI,QAAQ,CAACZ,aAAhB,KAAkC,WAAtC,EAAmD;AAC/C,UAAI,KAAK3B,cAAL,KAAwBuC,QAAQ,CAACZ,aAArC,EAAoD;AAChD,aAAK3B,cAAL,GAAsBuC,QAAQ,CAACZ,aAA/B;AACAJ,QAAAA,WAAW,CAACI,aAAZ,GAA4B,IAA5B;AACAQ,QAAAA,gBAAgB,GAAG,IAAnB;AACH;AACJ;;AACD,QAAI,OAAOI,QAAQ,CAACX,UAAhB,KAA+B,WAAnC,EAAgD;AAC5C,UAAI,KAAK3B,WAAL,KAAqBsC,QAAQ,CAACX,UAAlC,EAA8C;AAC1C,aAAK3B,WAAL,GAAmBsC,QAAQ,CAACX,UAA5B;AACAL,QAAAA,WAAW,CAACK,UAAZ,GAAyB,IAAzB;AACAO,QAAAA,gBAAgB,GAAG,IAAnB;AACH;AACJ;;AACD,QAAI,OAAOI,QAAQ,CAACV,iBAAhB,KAAsC,WAA1C,EAAuD;AACnD,UAAI,KAAK3B,kBAAL,KAA4BqC,QAAQ,CAACV,iBAAzC,EAA4D;AACxD,aAAK3B,kBAAL,GAA0BqC,QAAQ,CAACV,iBAAnC;AACAN,QAAAA,WAAW,CAACM,iBAAZ,GAAgC,IAAhC;AACAM,QAAAA,gBAAgB,GAAG,IAAnB;AACH;AACJ;;AACD,QAAI,OAAOI,QAAQ,CAACT,OAAhB,KAA4B,WAAhC,EAA6C;AACzC,WAAK3B,QAAL,GAAgBoC,QAAQ,CAACT,OAAzB;AACH;;AACD,QAAI,OAAOS,QAAQ,CAACR,SAAhB,KAA8B,WAAlC,EAA+C;AAC3C,WAAK1B,UAAL,GAAkBkC,QAAQ,CAACR,SAA3B;AACH;;AACD,QAAI,OAAOQ,QAAQ,CAACP,SAAhB,KAA8B,WAAlC,EAA+C;AAC3C,WAAKzB,UAAL,GAAkBgC,QAAQ,CAACP,SAA3B;AACH;;AACD,QAAI,OAAOO,QAAQ,CAACN,YAAhB,KAAiC,WAArC,EAAkD;AAC9C,WAAKxB,aAAL,GAAqB8B,QAAQ,CAACN,YAA9B;AACH;;AACD,QAAI,OAAOM,QAAQ,CAACL,WAAhB,KAAgC,WAApC,EAAiD;AAC7C,UAAI,CAAC/C,KAAK,CAACiD,WAAN,CAAkB,KAAKzB,YAAvB,EAAqC4B,QAAQ,CAACL,WAA9C,CAAL,EAAiE;AAC7D,aAAKvB,YAAL,GAAoB4B,QAAQ,CAACL,WAA7B;AACAX,QAAAA,WAAW,CAACW,WAAZ,GAA0B,IAA1B;AACAC,QAAAA,gBAAgB,GAAG,IAAnB;AACH;AACJ,KArE8E,CAsE/E;;;AACA,SAAK/B,gBAAL,GAAyB,OAAOmC,QAAQ,CAACK,eAAhB,KAAoC,WAApC,GAAkDL,QAAQ,CAACK,eAA3D,GAA6E;AAAE;AAAxG;AACA,SAAKtC,kBAAL,GAA2B,OAAOiC,QAAQ,CAACM,iBAAhB,KAAsC,WAAtC,GAAoDN,QAAQ,CAACM,iBAA7D,GAAiF;AAAE;AAA9G;AACA,SAAKrC,kBAAL,GAA2B,OAAO+B,QAAQ,CAACO,iBAAhB,KAAsC,WAAtC,GAAoDP,QAAQ,CAACO,iBAA7D,GAAiF;AAAE;AAA9G;AACA,SAAKpC,qBAAL,GAA8B,OAAO6B,QAAQ,CAACQ,oBAAhB,KAAyC,WAAzC,GAAuDR,QAAQ,CAACQ,oBAAhE,GAAuF;AAAE;AAAvH;;AACA,QAAIP,mBAAmB,KAAK,KAAKV,OAAjC,EAA0C;AACtCK,MAAAA,gBAAgB,GAAG,IAAnB;AACAZ,MAAAA,WAAW,CAACO,OAAZ,GAAsB,IAAtB;AACH;;AACD,QAAIW,sBAAsB,KAAK,KAAKV,SAApC,EAA+C;AAC3CI,MAAAA,gBAAgB,GAAG,IAAnB;AACAZ,MAAAA,WAAW,CAACQ,SAAZ,GAAwB,IAAxB;AACH;;AACD,QAAIW,qBAAqB,KAAK,KAAKV,SAAnC,EAA8C;AAC1CG,MAAAA,gBAAgB,GAAG,IAAnB;AACAZ,MAAAA,WAAW,CAACS,SAAZ,GAAwB,IAAxB;AACH;;AACD,QAAIW,wBAAwB,KAAK,KAAKV,YAAtC,EAAoD;AAChDE,MAAAA,gBAAgB,GAAG,IAAnB;AACAZ,MAAAA,WAAW,CAACU,YAAZ,GAA2B,IAA3B;AACH;;AACD,QAAIE,gBAAJ,EAAsB;AAClB,WAAKxC,yBAAL,CAA+B0C,IAA/B,CAAoCd,WAApC;AACH;AACJ,GA9FD;;AA+FA,SAAOhC,gBAAP;AACH,CArPqC,CAqPpCL,UArPoC,CAAtC;;AAsPA,SAASK,gBAAT","sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Emitter } from '../../../base/common/event.js';\r\nimport { Disposable } from '../../../base/common/lifecycle.js';\r\nimport { Range } from '../../common/core/range.js';\r\nfunction effectiveOptionValue(override, value) {\r\n    if (override === 1 /* True */) {\r\n        return true;\r\n    }\r\n    if (override === 2 /* False */) {\r\n        return false;\r\n    }\r\n    return value;\r\n}\r\nvar FindReplaceState = /** @class */ (function (_super) {\r\n    __extends(FindReplaceState, _super);\r\n    function FindReplaceState() {\r\n        var _this = _super.call(this) || this;\r\n        _this._onFindReplaceStateChange = _this._register(new Emitter());\r\n        _this.onFindReplaceStateChange = _this._onFindReplaceStateChange.event;\r\n        _this._searchString = '';\r\n        _this._replaceString = '';\r\n        _this._isRevealed = false;\r\n        _this._isReplaceRevealed = false;\r\n        _this._isRegex = false;\r\n        _this._isRegexOverride = 0 /* NotSet */;\r\n        _this._wholeWord = false;\r\n        _this._wholeWordOverride = 0 /* NotSet */;\r\n        _this._matchCase = false;\r\n        _this._matchCaseOverride = 0 /* NotSet */;\r\n        _this._preserveCase = false;\r\n        _this._preserveCaseOverride = 0 /* NotSet */;\r\n        _this._searchScope = null;\r\n        _this._matchesPosition = 0;\r\n        _this._matchesCount = 0;\r\n        _this._currentMatch = null;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(FindReplaceState.prototype, \"searchString\", {\r\n        get: function () { return this._searchString; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FindReplaceState.prototype, \"replaceString\", {\r\n        get: function () { return this._replaceString; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FindReplaceState.prototype, \"isRevealed\", {\r\n        get: function () { return this._isRevealed; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FindReplaceState.prototype, \"isReplaceRevealed\", {\r\n        get: function () { return this._isReplaceRevealed; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FindReplaceState.prototype, \"isRegex\", {\r\n        get: function () { return effectiveOptionValue(this._isRegexOverride, this._isRegex); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FindReplaceState.prototype, \"wholeWord\", {\r\n        get: function () { return effectiveOptionValue(this._wholeWordOverride, this._wholeWord); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FindReplaceState.prototype, \"matchCase\", {\r\n        get: function () { return effectiveOptionValue(this._matchCaseOverride, this._matchCase); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FindReplaceState.prototype, \"preserveCase\", {\r\n        get: function () { return effectiveOptionValue(this._preserveCaseOverride, this._preserveCase); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FindReplaceState.prototype, \"actualIsRegex\", {\r\n        get: function () { return this._isRegex; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FindReplaceState.prototype, \"actualWholeWord\", {\r\n        get: function () { return this._wholeWord; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FindReplaceState.prototype, \"actualMatchCase\", {\r\n        get: function () { return this._matchCase; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FindReplaceState.prototype, \"actualPreserveCase\", {\r\n        get: function () { return this._preserveCase; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FindReplaceState.prototype, \"searchScope\", {\r\n        get: function () { return this._searchScope; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FindReplaceState.prototype, \"matchesPosition\", {\r\n        get: function () { return this._matchesPosition; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FindReplaceState.prototype, \"matchesCount\", {\r\n        get: function () { return this._matchesCount; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FindReplaceState.prototype, \"currentMatch\", {\r\n        get: function () { return this._currentMatch; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    FindReplaceState.prototype.changeMatchInfo = function (matchesPosition, matchesCount, currentMatch) {\r\n        var changeEvent = {\r\n            moveCursor: false,\r\n            updateHistory: false,\r\n            searchString: false,\r\n            replaceString: false,\r\n            isRevealed: false,\r\n            isReplaceRevealed: false,\r\n            isRegex: false,\r\n            wholeWord: false,\r\n            matchCase: false,\r\n            preserveCase: false,\r\n            searchScope: false,\r\n            matchesPosition: false,\r\n            matchesCount: false,\r\n            currentMatch: false\r\n        };\r\n        var somethingChanged = false;\r\n        if (matchesCount === 0) {\r\n            matchesPosition = 0;\r\n        }\r\n        if (matchesPosition > matchesCount) {\r\n            matchesPosition = matchesCount;\r\n        }\r\n        if (this._matchesPosition !== matchesPosition) {\r\n            this._matchesPosition = matchesPosition;\r\n            changeEvent.matchesPosition = true;\r\n            somethingChanged = true;\r\n        }\r\n        if (this._matchesCount !== matchesCount) {\r\n            this._matchesCount = matchesCount;\r\n            changeEvent.matchesCount = true;\r\n            somethingChanged = true;\r\n        }\r\n        if (typeof currentMatch !== 'undefined') {\r\n            if (!Range.equalsRange(this._currentMatch, currentMatch)) {\r\n                this._currentMatch = currentMatch;\r\n                changeEvent.currentMatch = true;\r\n                somethingChanged = true;\r\n            }\r\n        }\r\n        if (somethingChanged) {\r\n            this._onFindReplaceStateChange.fire(changeEvent);\r\n        }\r\n    };\r\n    FindReplaceState.prototype.change = function (newState, moveCursor, updateHistory) {\r\n        if (updateHistory === void 0) { updateHistory = true; }\r\n        var changeEvent = {\r\n            moveCursor: moveCursor,\r\n            updateHistory: updateHistory,\r\n            searchString: false,\r\n            replaceString: false,\r\n            isRevealed: false,\r\n            isReplaceRevealed: false,\r\n            isRegex: false,\r\n            wholeWord: false,\r\n            matchCase: false,\r\n            preserveCase: false,\r\n            searchScope: false,\r\n            matchesPosition: false,\r\n            matchesCount: false,\r\n            currentMatch: false\r\n        };\r\n        var somethingChanged = false;\r\n        var oldEffectiveIsRegex = this.isRegex;\r\n        var oldEffectiveWholeWords = this.wholeWord;\r\n        var oldEffectiveMatchCase = this.matchCase;\r\n        var oldEffectivePreserveCase = this.preserveCase;\r\n        if (typeof newState.searchString !== 'undefined') {\r\n            if (this._searchString !== newState.searchString) {\r\n                this._searchString = newState.searchString;\r\n                changeEvent.searchString = true;\r\n                somethingChanged = true;\r\n            }\r\n        }\r\n        if (typeof newState.replaceString !== 'undefined') {\r\n            if (this._replaceString !== newState.replaceString) {\r\n                this._replaceString = newState.replaceString;\r\n                changeEvent.replaceString = true;\r\n                somethingChanged = true;\r\n            }\r\n        }\r\n        if (typeof newState.isRevealed !== 'undefined') {\r\n            if (this._isRevealed !== newState.isRevealed) {\r\n                this._isRevealed = newState.isRevealed;\r\n                changeEvent.isRevealed = true;\r\n                somethingChanged = true;\r\n            }\r\n        }\r\n        if (typeof newState.isReplaceRevealed !== 'undefined') {\r\n            if (this._isReplaceRevealed !== newState.isReplaceRevealed) {\r\n                this._isReplaceRevealed = newState.isReplaceRevealed;\r\n                changeEvent.isReplaceRevealed = true;\r\n                somethingChanged = true;\r\n            }\r\n        }\r\n        if (typeof newState.isRegex !== 'undefined') {\r\n            this._isRegex = newState.isRegex;\r\n        }\r\n        if (typeof newState.wholeWord !== 'undefined') {\r\n            this._wholeWord = newState.wholeWord;\r\n        }\r\n        if (typeof newState.matchCase !== 'undefined') {\r\n            this._matchCase = newState.matchCase;\r\n        }\r\n        if (typeof newState.preserveCase !== 'undefined') {\r\n            this._preserveCase = newState.preserveCase;\r\n        }\r\n        if (typeof newState.searchScope !== 'undefined') {\r\n            if (!Range.equalsRange(this._searchScope, newState.searchScope)) {\r\n                this._searchScope = newState.searchScope;\r\n                changeEvent.searchScope = true;\r\n                somethingChanged = true;\r\n            }\r\n        }\r\n        // Overrides get set when they explicitly come in and get reset anytime something else changes\r\n        this._isRegexOverride = (typeof newState.isRegexOverride !== 'undefined' ? newState.isRegexOverride : 0 /* NotSet */);\r\n        this._wholeWordOverride = (typeof newState.wholeWordOverride !== 'undefined' ? newState.wholeWordOverride : 0 /* NotSet */);\r\n        this._matchCaseOverride = (typeof newState.matchCaseOverride !== 'undefined' ? newState.matchCaseOverride : 0 /* NotSet */);\r\n        this._preserveCaseOverride = (typeof newState.preserveCaseOverride !== 'undefined' ? newState.preserveCaseOverride : 0 /* NotSet */);\r\n        if (oldEffectiveIsRegex !== this.isRegex) {\r\n            somethingChanged = true;\r\n            changeEvent.isRegex = true;\r\n        }\r\n        if (oldEffectiveWholeWords !== this.wholeWord) {\r\n            somethingChanged = true;\r\n            changeEvent.wholeWord = true;\r\n        }\r\n        if (oldEffectiveMatchCase !== this.matchCase) {\r\n            somethingChanged = true;\r\n            changeEvent.matchCase = true;\r\n        }\r\n        if (oldEffectivePreserveCase !== this.preserveCase) {\r\n            somethingChanged = true;\r\n            changeEvent.preserveCase = true;\r\n        }\r\n        if (somethingChanged) {\r\n            this._onFindReplaceStateChange.fire(changeEvent);\r\n        }\r\n    };\r\n    return FindReplaceState;\r\n}(Disposable));\r\nexport { FindReplaceState };\r\n"]},"metadata":{},"sourceType":"module"}