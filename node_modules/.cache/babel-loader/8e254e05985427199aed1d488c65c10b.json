{"ast":null,"code":"var _jsxFileName = \"/Users/ifudata/eclipse-workspace/screen-web/src/components/Editor/ModulesPanel/index.js\";\nimport React, { Component } from 'react';\nimport classnames from 'classnames';\nimport { connect } from 'react-redux';\nimport { Tabs, Row, Col } from 'antd';\nimport { addModule } from '../../../store/actions/screen-actions';\nimport PanelTitle from '../../Common/PanelTitle';\nimport { lineModule, barModule } from '../../../data/modules';\nconst {\n  TabPane\n} = Tabs;\n\nclass ModulePanel extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.addLineModule = () => {\n      let modulesList = {};\n      let id = this.getNewId(this.props.modulesList);\n      lineModule.id = id;\n      modulesList = {\n        modules: [lineModule]\n      };\n      this.props.addModule(modulesList);\n    };\n\n    this.addBarModule = () => {\n      let modulesList = {};\n      let id = this.getNewId(this.props.modulesList);\n      barModule.id = id;\n      modulesList = {\n        modules: [barModule]\n      };\n      this.props.addModule(modulesList);\n    };\n\n    this.getNewId = list => {\n      let id = Math.random().toString().split(\".\")[1];\n      let isNewId = true;\n      list.forEach(item => {\n        if (item.id == id) {\n          isNewId = false;\n        }\n      });\n\n      if (isNewId) {\n        return id;\n      } else {\n        this.getNewId(list);\n      }\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: classnames(\"modules-panel\", this.props.status),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, React.createElement(PanelTitle, {\n      icon: \"icon-box\",\n      name: \"\\u7EC4\\u4EF6\\u96C6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"modules-bar-bg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }), React.createElement(Tabs, {\n      defaultActiveKey: \"1\",\n      tabPosition: \"left\",\n      tabBarGutter: 0,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(TabPane, {\n      tab: React.createElement(\"i\", {\n        title: \"\\u57FA\\u7840\",\n        style: {\n          fontSize: 20\n        },\n        className: \"iconfont icon-base\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }),\n      key: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(Col, {\n      span: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"module-item\",\n      onClick: this.addBarModule,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"item-poster item-base-bar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, \"\\u57FA\\u7840\\u67F1\\u56FE\"))), React.createElement(Col, {\n      span: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"module-item\",\n      onClick: this.addLineModule,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"item-poster item-base-line\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, \"\\u57FA\\u7840\\u6298\\u7EBF\"))))), React.createElement(TabPane, {\n      tab: React.createElement(\"i\", {\n        title: \"\\u5730\\u56FE\",\n        style: {\n          fontSize: 26\n        },\n        className: \"iconfont icon-china\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }),\n      key: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(Col, {\n      span: 24,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"module-item module-item-fluid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"item-poster item-base-map\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"\\u57FA\\u7840\\u5730\\u56FE\"))), React.createElement(Col, {\n      span: 24,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"module-item module-item-fluid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"item-poster item-base-map-move\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"\\u8FC1\\u5F99\\u5730\\u56FE\"))))), React.createElement(TabPane, {\n      tab: React.createElement(\"i\", {\n        title: \"\\u6587\\u672C\",\n        style: {\n          fontSize: 22\n        },\n        className: \"iconfont icon-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }),\n      key: \"3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(Col, {\n      span: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"module-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"item-poster item-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"\\u666E\\u901A\\u6587\\u672C\"))))), React.createElement(TabPane, {\n      tab: React.createElement(\"i\", {\n        title: \"\\u8FB9\\u6846\",\n        style: {\n          fontSize: 22\n        },\n        className: \"iconfont icon-border\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }),\n      key: \"4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(Col, {\n      span: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"module-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"item-poster item-border\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"\\u57FA\\u7840\\u8FB9\\u6846\"))))), React.createElement(TabPane, {\n      tab: React.createElement(\"i\", {\n        title: \"\\u5176\\u4ED6\",\n        style: {\n          fontSize: 22\n        },\n        className: \"iconfont icon-more\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }),\n      key: \"5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(Col, {\n      span: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"module-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"item-poster item-block\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \"\\u56DB\\u8FB9\\u5F62\")))))));\n  }\n\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    modulesList: state.screenState.get(\"modules\").toJS()\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    addModule(data) {\n      const action = addModule(data);\n      dispatch(action);\n    }\n\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ModulePanel);","map":{"version":3,"sources":["/Users/ifudata/eclipse-workspace/screen-web/src/components/Editor/ModulesPanel/index.js"],"names":["React","Component","classnames","connect","Tabs","Row","Col","addModule","PanelTitle","lineModule","barModule","TabPane","ModulePanel","addLineModule","modulesList","id","getNewId","props","modules","addBarModule","list","Math","random","toString","split","isNewId","forEach","item","render","status","fontSize","mapStateToProps","state","ownProps","screenState","get","toJS","mapDispatchToProps","dispatch","data","action"],"mappings":"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","sourcesContent":["import React,{Component} from 'react'\nimport classnames from 'classnames'\nimport {connect} from 'react-redux'\nimport { Tabs, Row, Col } from 'antd'\nimport { addModule } from '../../../store/actions/screen-actions'\nimport PanelTitle from '../../Common/PanelTitle'\nimport { lineModule,barModule } from '../../../data/modules'\nconst { TabPane } = Tabs;\nclass ModulePanel extends Component{\n    addLineModule = ()=>{\n        let modulesList = {}\n        let id = this.getNewId(this.props.modulesList)\n        lineModule.id = id\n        modulesList = {\n            modules:[lineModule]\n        }\n        this.props.addModule(modulesList)\n    }\n    addBarModule = ()=>{\n        let modulesList = {}\n        let id = this.getNewId(this.props.modulesList)\n        barModule.id = id\n        modulesList = {\n            modules:[barModule]\n        }\n        this.props.addModule(modulesList)\n    }\n    getNewId = (list)=>{\n        let id = Math.random().toString().split(\".\")[1]\n        let isNewId = true\n        list.forEach(item=>{\n            if(item.id == id){\n                isNewId = false\n            }\n        })\n        if(isNewId){\n            return id\n        }else{\n            this.getNewId(list)\n        }\n    }\n    render(){\n        return(\n            <div className={classnames(\"modules-panel\",this.props.status)}>\n                <PanelTitle\n                    icon=\"icon-box\"\n                    name=\"组件集\"\n                />\n                <div className=\"modules-bar-bg\"></div>\n                <Tabs \n                    defaultActiveKey=\"1\"\n                    tabPosition=\"left\"\n                    tabBarGutter={0}\n                >\n                    <TabPane tab={<i title=\"基础\" style={{fontSize:20}} className=\"iconfont icon-base\"></i>} key=\"1\">\n                        <Row>\n                            <Col span={12}>\n                                <div \n                                    className=\"module-item\"\n                                    onClick={this.addBarModule}\n                                >\n                                    <div className=\"item-poster item-base-bar\"></div>\n                                    <h2>基础柱图</h2>\n                                </div>\n                            </Col>\n                            <Col span={12}>\n                                <div \n                                    className=\"module-item\"\n                                    onClick={this.addLineModule}\n                                >\n                                    <div className=\"item-poster item-base-line\"></div>\n                                    <h2>基础折线</h2>\n                                </div>\n                            </Col>\n                        </Row>\n                    </TabPane>\n                    <TabPane tab={<i title=\"地图\" style={{fontSize:26}} className=\"iconfont icon-china\"></i>} key=\"2\">\n                        <Row>\n                            <Col span={24}>\n                                <div className=\"module-item module-item-fluid\">\n                                    <div className=\"item-poster item-base-map\"></div>\n                                    <h2>基础地图</h2>\n                                </div>\n                            </Col>\n                            <Col span={24}>\n                                <div className=\"module-item module-item-fluid\">\n                                    <div className=\"item-poster item-base-map-move\"></div>\n                                    <h2>迁徙地图</h2>\n                                </div>\n                            </Col>\n                        </Row>\n                    </TabPane>\n                    <TabPane tab={<i title=\"文本\" style={{fontSize:22}} className=\"iconfont icon-text\"></i>} key=\"3\">\n                        <Row>\n                            <Col span={12}>\n                                <div className=\"module-item\">\n                                    <div className=\"item-poster item-text\"></div>\n                                    <h2>普通文本</h2>\n                                </div>\n                            </Col>\n                        </Row>\n                    </TabPane>\n                    <TabPane tab={<i title=\"边框\" style={{fontSize:22}} className=\"iconfont icon-border\"></i>} key=\"4\">\n                        <Row>\n                            <Col span={12}>\n                                <div className=\"module-item\">\n                                    <div className=\"item-poster item-border\"></div>\n                                    <h2>基础边框</h2>\n                                </div>\n                            </Col>\n                        </Row>\n                    </TabPane>\n                    <TabPane tab={<i title=\"其他\" style={{fontSize:22}} className=\"iconfont icon-more\"></i>} key=\"5\">\n                        <Row>\n                            <Col span={12}>\n                                <div className=\"module-item\">\n                                    <div className=\"item-poster item-block\"></div>\n                                    <h2>四边形</h2>\n                                </div>\n                            </Col>\n                        </Row>\n                    </TabPane>\n                </Tabs>\n            </div>\n        )\n    }\n}\nconst mapStateToProps = (state,ownProps)=>{\n    return {\n        modulesList:state.screenState.get(\"modules\").toJS()\n    }\n}\n\nconst mapDispatchToProps = dispatch=>{\n    return {\n        addModule(data){\n            const action = addModule(data)\n            dispatch(action)\n        }\n    }\n}\nexport default connect(mapStateToProps,mapDispatchToProps)(ModulePanel);"]},"metadata":{},"sourceType":"module"}