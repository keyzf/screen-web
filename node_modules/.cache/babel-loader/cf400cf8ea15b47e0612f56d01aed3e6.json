{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport './linesDecorations.css';\nimport { DecorationToRender, DedupOverlay } from '../glyphMargin/glyphMargin.js';\n\nvar LinesDecorationsOverlay =\n/** @class */\nfunction (_super) {\n  __extends(LinesDecorationsOverlay, _super);\n\n  function LinesDecorationsOverlay(context) {\n    var _this = _super.call(this) || this;\n\n    _this._context = context;\n    var options = _this._context.configuration.options;\n    var layoutInfo = options.get(107\n    /* layoutInfo */\n    );\n    _this._decorationsLeft = layoutInfo.decorationsLeft;\n    _this._decorationsWidth = layoutInfo.decorationsWidth;\n    _this._renderResult = null;\n\n    _this._context.addEventHandler(_this);\n\n    return _this;\n  }\n\n  LinesDecorationsOverlay.prototype.dispose = function () {\n    this._context.removeEventHandler(this);\n\n    this._renderResult = null;\n\n    _super.prototype.dispose.call(this);\n  }; // --- begin event handlers\n\n\n  LinesDecorationsOverlay.prototype.onConfigurationChanged = function (e) {\n    var options = this._context.configuration.options;\n    var layoutInfo = options.get(107\n    /* layoutInfo */\n    );\n    this._decorationsLeft = layoutInfo.decorationsLeft;\n    this._decorationsWidth = layoutInfo.decorationsWidth;\n    return true;\n  };\n\n  LinesDecorationsOverlay.prototype.onDecorationsChanged = function (e) {\n    return true;\n  };\n\n  LinesDecorationsOverlay.prototype.onFlushed = function (e) {\n    return true;\n  };\n\n  LinesDecorationsOverlay.prototype.onLinesChanged = function (e) {\n    return true;\n  };\n\n  LinesDecorationsOverlay.prototype.onLinesDeleted = function (e) {\n    return true;\n  };\n\n  LinesDecorationsOverlay.prototype.onLinesInserted = function (e) {\n    return true;\n  };\n\n  LinesDecorationsOverlay.prototype.onScrollChanged = function (e) {\n    return e.scrollTopChanged;\n  };\n\n  LinesDecorationsOverlay.prototype.onZonesChanged = function (e) {\n    return true;\n  }; // --- end event handlers\n\n\n  LinesDecorationsOverlay.prototype._getDecorations = function (ctx) {\n    var decorations = ctx.getDecorationsInViewport();\n    var r = [],\n        rLen = 0;\n\n    for (var i = 0, len = decorations.length; i < len; i++) {\n      var d = decorations[i];\n      var linesDecorationsClassName = d.options.linesDecorationsClassName;\n\n      if (linesDecorationsClassName) {\n        r[rLen++] = new DecorationToRender(d.range.startLineNumber, d.range.endLineNumber, linesDecorationsClassName);\n      }\n    }\n\n    return r;\n  };\n\n  LinesDecorationsOverlay.prototype.prepareRender = function (ctx) {\n    var visibleStartLineNumber = ctx.visibleRange.startLineNumber;\n    var visibleEndLineNumber = ctx.visibleRange.endLineNumber;\n\n    var toRender = this._render(visibleStartLineNumber, visibleEndLineNumber, this._getDecorations(ctx));\n\n    var left = this._decorationsLeft.toString();\n\n    var width = this._decorationsWidth.toString();\n\n    var common = '\" style=\"left:' + left + 'px;width:' + width + 'px;\"></div>';\n    var output = [];\n\n    for (var lineNumber = visibleStartLineNumber; lineNumber <= visibleEndLineNumber; lineNumber++) {\n      var lineIndex = lineNumber - visibleStartLineNumber;\n      var classNames = toRender[lineIndex];\n      var lineOutput = '';\n\n      for (var i = 0, len = classNames.length; i < len; i++) {\n        lineOutput += '<div class=\"cldr ' + classNames[i] + common;\n      }\n\n      output[lineIndex] = lineOutput;\n    }\n\n    this._renderResult = output;\n  };\n\n  LinesDecorationsOverlay.prototype.render = function (startLineNumber, lineNumber) {\n    if (!this._renderResult) {\n      return '';\n    }\n\n    return this._renderResult[lineNumber - startLineNumber];\n  };\n\n  return LinesDecorationsOverlay;\n}(DedupOverlay);\n\nexport { LinesDecorationsOverlay };","map":{"version":3,"sources":["/Users/ifudata/eclipse-workspace/screen-web/node_modules/monaco-editor/esm/vs/editor/browser/viewParts/linesDecorations/linesDecorations.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","DecorationToRender","DedupOverlay","LinesDecorationsOverlay","_super","context","_this","call","_context","options","configuration","layoutInfo","get","_decorationsLeft","decorationsLeft","_decorationsWidth","decorationsWidth","_renderResult","addEventHandler","dispose","removeEventHandler","onConfigurationChanged","e","onDecorationsChanged","onFlushed","onLinesChanged","onLinesDeleted","onLinesInserted","onScrollChanged","scrollTopChanged","onZonesChanged","_getDecorations","ctx","decorations","getDecorationsInViewport","r","rLen","i","len","length","linesDecorationsClassName","range","startLineNumber","endLineNumber","prepareRender","visibleStartLineNumber","visibleRange","visibleEndLineNumber","toRender","_render","left","toString","width","common","output","lineNumber","lineIndex","classNames","lineOutput","render"],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport './linesDecorations.css';\r\nimport { DecorationToRender, DedupOverlay } from '../glyphMargin/glyphMargin.js';\r\nvar LinesDecorationsOverlay = /** @class */ (function (_super) {\r\n    __extends(LinesDecorationsOverlay, _super);\r\n    function LinesDecorationsOverlay(context) {\r\n        var _this = _super.call(this) || this;\r\n        _this._context = context;\r\n        var options = _this._context.configuration.options;\r\n        var layoutInfo = options.get(107 /* layoutInfo */);\r\n        _this._decorationsLeft = layoutInfo.decorationsLeft;\r\n        _this._decorationsWidth = layoutInfo.decorationsWidth;\r\n        _this._renderResult = null;\r\n        _this._context.addEventHandler(_this);\r\n        return _this;\r\n    }\r\n    LinesDecorationsOverlay.prototype.dispose = function () {\r\n        this._context.removeEventHandler(this);\r\n        this._renderResult = null;\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    // --- begin event handlers\r\n    LinesDecorationsOverlay.prototype.onConfigurationChanged = function (e) {\r\n        var options = this._context.configuration.options;\r\n        var layoutInfo = options.get(107 /* layoutInfo */);\r\n        this._decorationsLeft = layoutInfo.decorationsLeft;\r\n        this._decorationsWidth = layoutInfo.decorationsWidth;\r\n        return true;\r\n    };\r\n    LinesDecorationsOverlay.prototype.onDecorationsChanged = function (e) {\r\n        return true;\r\n    };\r\n    LinesDecorationsOverlay.prototype.onFlushed = function (e) {\r\n        return true;\r\n    };\r\n    LinesDecorationsOverlay.prototype.onLinesChanged = function (e) {\r\n        return true;\r\n    };\r\n    LinesDecorationsOverlay.prototype.onLinesDeleted = function (e) {\r\n        return true;\r\n    };\r\n    LinesDecorationsOverlay.prototype.onLinesInserted = function (e) {\r\n        return true;\r\n    };\r\n    LinesDecorationsOverlay.prototype.onScrollChanged = function (e) {\r\n        return e.scrollTopChanged;\r\n    };\r\n    LinesDecorationsOverlay.prototype.onZonesChanged = function (e) {\r\n        return true;\r\n    };\r\n    // --- end event handlers\r\n    LinesDecorationsOverlay.prototype._getDecorations = function (ctx) {\r\n        var decorations = ctx.getDecorationsInViewport();\r\n        var r = [], rLen = 0;\r\n        for (var i = 0, len = decorations.length; i < len; i++) {\r\n            var d = decorations[i];\r\n            var linesDecorationsClassName = d.options.linesDecorationsClassName;\r\n            if (linesDecorationsClassName) {\r\n                r[rLen++] = new DecorationToRender(d.range.startLineNumber, d.range.endLineNumber, linesDecorationsClassName);\r\n            }\r\n        }\r\n        return r;\r\n    };\r\n    LinesDecorationsOverlay.prototype.prepareRender = function (ctx) {\r\n        var visibleStartLineNumber = ctx.visibleRange.startLineNumber;\r\n        var visibleEndLineNumber = ctx.visibleRange.endLineNumber;\r\n        var toRender = this._render(visibleStartLineNumber, visibleEndLineNumber, this._getDecorations(ctx));\r\n        var left = this._decorationsLeft.toString();\r\n        var width = this._decorationsWidth.toString();\r\n        var common = '\" style=\"left:' + left + 'px;width:' + width + 'px;\"></div>';\r\n        var output = [];\r\n        for (var lineNumber = visibleStartLineNumber; lineNumber <= visibleEndLineNumber; lineNumber++) {\r\n            var lineIndex = lineNumber - visibleStartLineNumber;\r\n            var classNames = toRender[lineIndex];\r\n            var lineOutput = '';\r\n            for (var i = 0, len = classNames.length; i < len; i++) {\r\n                lineOutput += '<div class=\"cldr ' + classNames[i] + common;\r\n            }\r\n            output[lineIndex] = lineOutput;\r\n        }\r\n        this._renderResult = output;\r\n    };\r\n    LinesDecorationsOverlay.prototype.render = function (startLineNumber, lineNumber) {\r\n        if (!this._renderResult) {\r\n            return '';\r\n        }\r\n        return this._renderResult[lineNumber - startLineNumber];\r\n    };\r\n    return LinesDecorationsOverlay;\r\n}(DedupOverlay));\r\nexport { LinesDecorationsOverlay };\r\n"]},"metadata":{},"sourceType":"module"}