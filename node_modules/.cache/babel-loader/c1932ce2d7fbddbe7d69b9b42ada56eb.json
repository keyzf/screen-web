{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\n'use strict';\n\nimport * as jsonService from './_deps/vscode-json-languageservice/jsonLanguageService.js';\nvar defaultSchemaRequestService;\n\nif (typeof fetch !== 'undefined') {\n  defaultSchemaRequestService = function (url) {\n    return fetch(url).then(function (response) {\n      return response.text();\n    });\n  };\n}\n\nvar PromiseAdapter =\n/** @class */\nfunction () {\n  function PromiseAdapter(executor) {\n    this.wrapped = new Promise(executor);\n  }\n\n  PromiseAdapter.prototype.then = function (onfulfilled, onrejected) {\n    var thenable = this.wrapped;\n    return thenable.then(onfulfilled, onrejected);\n  };\n\n  PromiseAdapter.prototype.getWrapped = function () {\n    return this.wrapped;\n  };\n\n  PromiseAdapter.resolve = function (v) {\n    return Promise.resolve(v);\n  };\n\n  PromiseAdapter.reject = function (v) {\n    return Promise.reject(v);\n  };\n\n  PromiseAdapter.all = function (values) {\n    return Promise.all(values);\n  };\n\n  return PromiseAdapter;\n}();\n\nvar JSONWorker =\n/** @class */\nfunction () {\n  function JSONWorker(ctx, createData) {\n    this._ctx = ctx;\n    this._languageSettings = createData.languageSettings;\n    this._languageId = createData.languageId;\n    this._languageService = jsonService.getLanguageService({\n      schemaRequestService: createData.enableSchemaRequest && defaultSchemaRequestService,\n      promiseConstructor: PromiseAdapter\n    });\n\n    this._languageService.configure(this._languageSettings);\n  }\n\n  JSONWorker.prototype.doValidation = function (uri) {\n    var document = this._getTextDocument(uri);\n\n    if (document) {\n      var jsonDocument = this._languageService.parseJSONDocument(document);\n\n      return this._languageService.doValidation(document, jsonDocument);\n    }\n\n    return Promise.resolve([]);\n  };\n\n  JSONWorker.prototype.doComplete = function (uri, position) {\n    var document = this._getTextDocument(uri);\n\n    var jsonDocument = this._languageService.parseJSONDocument(document);\n\n    return this._languageService.doComplete(document, position, jsonDocument);\n  };\n\n  JSONWorker.prototype.doResolve = function (item) {\n    return this._languageService.doResolve(item);\n  };\n\n  JSONWorker.prototype.doHover = function (uri, position) {\n    var document = this._getTextDocument(uri);\n\n    var jsonDocument = this._languageService.parseJSONDocument(document);\n\n    return this._languageService.doHover(document, position, jsonDocument);\n  };\n\n  JSONWorker.prototype.format = function (uri, range, options) {\n    var document = this._getTextDocument(uri);\n\n    var textEdits = this._languageService.format(document, range, options);\n\n    return Promise.resolve(textEdits);\n  };\n\n  JSONWorker.prototype.resetSchema = function (uri) {\n    return Promise.resolve(this._languageService.resetSchema(uri));\n  };\n\n  JSONWorker.prototype.findDocumentSymbols = function (uri) {\n    var document = this._getTextDocument(uri);\n\n    var jsonDocument = this._languageService.parseJSONDocument(document);\n\n    var symbols = this._languageService.findDocumentSymbols(document, jsonDocument);\n\n    return Promise.resolve(symbols);\n  };\n\n  JSONWorker.prototype.findDocumentColors = function (uri) {\n    var document = this._getTextDocument(uri);\n\n    var jsonDocument = this._languageService.parseJSONDocument(document);\n\n    var colorSymbols = this._languageService.findDocumentColors(document, jsonDocument);\n\n    return Promise.resolve(colorSymbols);\n  };\n\n  JSONWorker.prototype.getColorPresentations = function (uri, color, range) {\n    var document = this._getTextDocument(uri);\n\n    var jsonDocument = this._languageService.parseJSONDocument(document);\n\n    var colorPresentations = this._languageService.getColorPresentations(document, jsonDocument, color, range);\n\n    return Promise.resolve(colorPresentations);\n  };\n\n  JSONWorker.prototype.getFoldingRanges = function (uri, context) {\n    var document = this._getTextDocument(uri);\n\n    var ranges = this._languageService.getFoldingRanges(document, context);\n\n    return Promise.resolve(ranges);\n  };\n\n  JSONWorker.prototype.getSelectionRanges = function (uri, positions) {\n    var document = this._getTextDocument(uri);\n\n    var jsonDocument = this._languageService.parseJSONDocument(document);\n\n    var ranges = this._languageService.getSelectionRanges(document, positions, jsonDocument);\n\n    return Promise.resolve(ranges);\n  };\n\n  JSONWorker.prototype._getTextDocument = function (uri) {\n    var models = this._ctx.getMirrorModels();\n\n    for (var _i = 0, models_1 = models; _i < models_1.length; _i++) {\n      var model = models_1[_i];\n\n      if (model.uri.toString() === uri) {\n        return jsonService.TextDocument.create(uri, this._languageId, model.version, model.getValue());\n      }\n    }\n\n    return null;\n  };\n\n  return JSONWorker;\n}();\n\nexport { JSONWorker };\nexport function create(ctx, createData) {\n  return new JSONWorker(ctx, createData);\n}","map":{"version":3,"sources":["/Users/ifudata/eclipse-workspace/screen-web/node_modules/monaco-editor/esm/vs/language/json/jsonWorker.js"],"names":["jsonService","defaultSchemaRequestService","fetch","url","then","response","text","PromiseAdapter","executor","wrapped","Promise","prototype","onfulfilled","onrejected","thenable","getWrapped","resolve","v","reject","all","values","JSONWorker","ctx","createData","_ctx","_languageSettings","languageSettings","_languageId","languageId","_languageService","getLanguageService","schemaRequestService","enableSchemaRequest","promiseConstructor","configure","doValidation","uri","document","_getTextDocument","jsonDocument","parseJSONDocument","doComplete","position","doResolve","item","doHover","format","range","options","textEdits","resetSchema","findDocumentSymbols","symbols","findDocumentColors","colorSymbols","getColorPresentations","color","colorPresentations","getFoldingRanges","context","ranges","getSelectionRanges","positions","models","getMirrorModels","_i","models_1","length","model","toString","TextDocument","create","version","getValue"],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport * as jsonService from './_deps/vscode-json-languageservice/jsonLanguageService.js';\r\nvar defaultSchemaRequestService;\r\nif (typeof fetch !== 'undefined') {\r\n    defaultSchemaRequestService = function (url) { return fetch(url).then(function (response) { return response.text(); }); };\r\n}\r\nvar PromiseAdapter = /** @class */ (function () {\r\n    function PromiseAdapter(executor) {\r\n        this.wrapped = new Promise(executor);\r\n    }\r\n    PromiseAdapter.prototype.then = function (onfulfilled, onrejected) {\r\n        var thenable = this.wrapped;\r\n        return thenable.then(onfulfilled, onrejected);\r\n    };\r\n    PromiseAdapter.prototype.getWrapped = function () {\r\n        return this.wrapped;\r\n    };\r\n    PromiseAdapter.resolve = function (v) {\r\n        return Promise.resolve(v);\r\n    };\r\n    PromiseAdapter.reject = function (v) {\r\n        return Promise.reject(v);\r\n    };\r\n    PromiseAdapter.all = function (values) {\r\n        return Promise.all(values);\r\n    };\r\n    return PromiseAdapter;\r\n}());\r\nvar JSONWorker = /** @class */ (function () {\r\n    function JSONWorker(ctx, createData) {\r\n        this._ctx = ctx;\r\n        this._languageSettings = createData.languageSettings;\r\n        this._languageId = createData.languageId;\r\n        this._languageService = jsonService.getLanguageService({\r\n            schemaRequestService: createData.enableSchemaRequest && defaultSchemaRequestService,\r\n            promiseConstructor: PromiseAdapter\r\n        });\r\n        this._languageService.configure(this._languageSettings);\r\n    }\r\n    JSONWorker.prototype.doValidation = function (uri) {\r\n        var document = this._getTextDocument(uri);\r\n        if (document) {\r\n            var jsonDocument = this._languageService.parseJSONDocument(document);\r\n            return this._languageService.doValidation(document, jsonDocument);\r\n        }\r\n        return Promise.resolve([]);\r\n    };\r\n    JSONWorker.prototype.doComplete = function (uri, position) {\r\n        var document = this._getTextDocument(uri);\r\n        var jsonDocument = this._languageService.parseJSONDocument(document);\r\n        return this._languageService.doComplete(document, position, jsonDocument);\r\n    };\r\n    JSONWorker.prototype.doResolve = function (item) {\r\n        return this._languageService.doResolve(item);\r\n    };\r\n    JSONWorker.prototype.doHover = function (uri, position) {\r\n        var document = this._getTextDocument(uri);\r\n        var jsonDocument = this._languageService.parseJSONDocument(document);\r\n        return this._languageService.doHover(document, position, jsonDocument);\r\n    };\r\n    JSONWorker.prototype.format = function (uri, range, options) {\r\n        var document = this._getTextDocument(uri);\r\n        var textEdits = this._languageService.format(document, range, options);\r\n        return Promise.resolve(textEdits);\r\n    };\r\n    JSONWorker.prototype.resetSchema = function (uri) {\r\n        return Promise.resolve(this._languageService.resetSchema(uri));\r\n    };\r\n    JSONWorker.prototype.findDocumentSymbols = function (uri) {\r\n        var document = this._getTextDocument(uri);\r\n        var jsonDocument = this._languageService.parseJSONDocument(document);\r\n        var symbols = this._languageService.findDocumentSymbols(document, jsonDocument);\r\n        return Promise.resolve(symbols);\r\n    };\r\n    JSONWorker.prototype.findDocumentColors = function (uri) {\r\n        var document = this._getTextDocument(uri);\r\n        var jsonDocument = this._languageService.parseJSONDocument(document);\r\n        var colorSymbols = this._languageService.findDocumentColors(document, jsonDocument);\r\n        return Promise.resolve(colorSymbols);\r\n    };\r\n    JSONWorker.prototype.getColorPresentations = function (uri, color, range) {\r\n        var document = this._getTextDocument(uri);\r\n        var jsonDocument = this._languageService.parseJSONDocument(document);\r\n        var colorPresentations = this._languageService.getColorPresentations(document, jsonDocument, color, range);\r\n        return Promise.resolve(colorPresentations);\r\n    };\r\n    JSONWorker.prototype.getFoldingRanges = function (uri, context) {\r\n        var document = this._getTextDocument(uri);\r\n        var ranges = this._languageService.getFoldingRanges(document, context);\r\n        return Promise.resolve(ranges);\r\n    };\r\n    JSONWorker.prototype.getSelectionRanges = function (uri, positions) {\r\n        var document = this._getTextDocument(uri);\r\n        var jsonDocument = this._languageService.parseJSONDocument(document);\r\n        var ranges = this._languageService.getSelectionRanges(document, positions, jsonDocument);\r\n        return Promise.resolve(ranges);\r\n    };\r\n    JSONWorker.prototype._getTextDocument = function (uri) {\r\n        var models = this._ctx.getMirrorModels();\r\n        for (var _i = 0, models_1 = models; _i < models_1.length; _i++) {\r\n            var model = models_1[_i];\r\n            if (model.uri.toString() === uri) {\r\n                return jsonService.TextDocument.create(uri, this._languageId, model.version, model.getValue());\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    return JSONWorker;\r\n}());\r\nexport { JSONWorker };\r\nexport function create(ctx, createData) {\r\n    return new JSONWorker(ctx, createData);\r\n}\r\n"]},"metadata":{},"sourceType":"module"}