{"ast":null,"code":"var _jsxFileName = \"/Users/ifudata/eclipse-workspace/screen-web/src/components/Home/MenuList/index.js\";\nimport React, { Component, Fragment } from 'react';\nimport { Row, Col, Form, Input, Button, Card, Modal, message } from 'antd';\nimport { PlusOutlined } from '@ant-design/icons';\nimport Util from '../../../util';\nimport Datatable from './table.js';\nconst {\n  TextArea\n} = Input;\nconst layout = {\n  //弹窗表单布局\n  labelCol: {\n    span: 8\n  },\n  wrapperCol: {\n    span: 12\n  }\n};\nconst pageLoading = \"key\";\n\nclass MenuList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      searchValue: {},\n      modalVisible: false,\n      loading: false,\n      modalTitle: \"\"\n    };\n\n    this.onSearch = value => {\n      value['refresh'] = Math.random();\n      this.setState({\n        searchValue: value\n      });\n    };\n\n    this.onReset = () => {\n      this.formRef.current.resetFields();\n    };\n\n    this.addItem = () => {\n      this.setState({\n        modalVisible: true,\n        modalTitle: \"新增菜单\"\n      });\n    };\n\n    this.addItemOk = () => {\n      let value = this.addItemForm.current.getFieldsValue();\n      this.setState({\n        loading: true\n      });\n\n      let _this = this;\n\n      let param = {};\n      let url = \"\";\n\n      if (value.menuId == null) {\n        param = {\n          'menuName': value.menuName,\n          'menuUrl': value.menuUrl,\n          'sort': value.sort,\n          'className': value.className,\n          'remark': value.remark\n        };\n        url = \"/menu/save/\";\n      } else {\n        param = {\n          'menuId': value.menuId,\n          'menuName': value.menuName,\n          'menuUrl': value.menuUrl,\n          'sort': value.sort,\n          'className': value.className,\n          'remark': value.remark\n        };\n        url = '/menu/update/';\n      }\n\n      Util.ajax({\n        url: url,\n        data: param\n      }).then(res => {\n        _this.setState({\n          loading: false\n        });\n\n        if (res.code === 200) {\n          message.success(res.message);\n\n          _this.setState({\n            modalVisible: false,\n            searchValue: {}\n          });\n\n          _this.addItemForm.current.resetFields();\n        } else {\n          message.error(res.message);\n        }\n      });\n    };\n\n    this.addItemCancel = () => {\n      this.setState({\n        modalVisible: false\n      });\n    };\n\n    this.handleEdit = record => {\n      let _this = this;\n\n      Util.ajax({\n        url: '/menu/get/' + record.key,\n        data: {}\n      }).then(res => {\n        if (res.code === 200) {\n          _this.setState({\n            modalVisible: true,\n            modalTitle: \"修改菜单\"\n          });\n\n          _this.addItemForm.current.setFieldsValue({\n            menuId: res.data.data.menuId,\n            menuName: res.data.data.menuName,\n            menuUrl: res.data.data.menuUrl,\n            sort: res.data.data.sort,\n            className: res.data.data.className,\n            remark: res.data.data.remark\n          });\n        } else {\n          message.error(res.message);\n        }\n      });\n    };\n\n    this.addItemForm = React.createRef();\n    this.formRef = React.createRef();\n    message.loading({\n      content: \"页面正在加载...\",\n      duration: 0,\n      key: pageLoading\n    });\n  }\n\n  componentDidMount() {\n    message.success({\n      content: \"页面加载成功！\",\n      duration: 2,\n      key: pageLoading\n    });\n  }\n\n  render() {\n    return React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, React.createElement(Row, {\n      gutter: [10, 10],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, React.createElement(Col, {\n      span: 24,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(Card, {\n      title: \"\\u67E5\\u8BE2\\u6761\\u4EF6\",\n      bordered: false,\n      size: \"small\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, React.createElement(Form, {\n      onFinish: this.onSearch,\n      layout: \"inline\",\n      ref: this.formRef,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(Form.Item, {\n      label: \"\\u83DC\\u5355\\u540D\\u79F0\",\n      name: \"menuName\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(Input, {\n      placeholder: \"\\u8BF7\\u8F93\\u5165\\u5173\\u952E\\u5B57\",\n      autoComplete: \"off\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    })), React.createElement(Form.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, React.createElement(Button, {\n      type: \"primary\",\n      htmlType: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, \"\\u67E5\\u8BE2\")), React.createElement(Form.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, React.createElement(Button, {\n      htmlType: \"button\",\n      onClick: this.onReset,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, \"\\u91CD\\u7F6E\"))))), React.createElement(Col, {\n      span: 24,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, React.createElement(Card, {\n      title: \"\\u67E5\\u8BE2\\u7ED3\\u679C\",\n      bordered: false,\n      size: \"small\",\n      extra: React.createElement(Button, {\n        type: \"primary\",\n        icon: React.createElement(PlusOutlined, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 186\n          },\n          __self: this\n        }),\n        onClick: this.addItem,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, \"\\u65B0\\u589E\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, React.createElement(Datatable, {\n      searchValue: this.state.searchValue,\n      handleEdit: this.handleEdit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    })))), React.createElement(Modal, {\n      title: this.state.modalTitle,\n      maskClosable: false,\n      visible: this.state.modalVisible,\n      onOk: this.addItemOk,\n      onCancel: this.addItemCancel,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }, React.createElement(Form, Object.assign({}, layout, {\n      ref: this.addItemForm,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }), React.createElement(Form.Item, {\n      name: \"menuId\",\n      rules: [],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, React.createElement(Input, {\n      type: \"hidden\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    })), React.createElement(Form.Item, {\n      label: \"\\u83DC\\u5355\\u540D\\u79F0\",\n      name: \"menuName\",\n      rules: [{\n        required: true,\n        message: '菜单名称不能为空！'\n      }],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, React.createElement(Input, {\n      placeholder: \"\\u8BF7\\u8F93\\u5165\\u83DC\\u5355\\u540D\\u79F0\",\n      autoComplete: \"off\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    })), React.createElement(Form.Item, {\n      label: \"\\u83DC\\u5355URL\",\n      name: \"menuUrl\",\n      rules: [{\n        required: true,\n        message: '菜单URL不能为空！'\n      }],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, React.createElement(Input, {\n      placeholder: \"\\u8BF7\\u8F93\\u5165\\u83DC\\u5355URL\",\n      autoComplete: \"off\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    })), React.createElement(Form.Item, {\n      label: \"\\u83DC\\u5355\\u987A\\u5E8F\",\n      name: \"sort\",\n      rules: [{\n        required: true,\n        message: '菜单顺序不能为空！'\n      }],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240\n      },\n      __self: this\n    }, React.createElement(Input, {\n      placeholder: \"\\u8BF7\\u8F93\\u5165\\u83DC\\u5355\\u987A\\u5E8F\",\n      autoComplete: \"off\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    })), React.createElement(Form.Item, {\n      label: \"\\u56FE\\u6807\\u540D\\u79F0\",\n      name: \"className\",\n      rules: [{\n        required: true,\n        message: '图标名称不能为空！'\n      }],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253\n      },\n      __self: this\n    }, React.createElement(Input, {\n      placeholder: \"\\u8BF7\\u8F93\\u5165\\u56FE\\u6807\\u540D\\u79F0\",\n      autoComplete: \"off\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261\n      },\n      __self: this\n    })), React.createElement(Form.Item, {\n      label: \"\\u5907\\u6CE8\",\n      name: \"remark\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266\n      },\n      __self: this\n    }, React.createElement(TextArea, {\n      style: {\n        height: 100,\n        overflowY: \"auto\"\n      },\n      placeholder: \"\\u8BF7\\u8F93\\u5165\\u5907\\u6CE8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nexport default MenuList;","map":{"version":3,"sources":["/Users/ifudata/eclipse-workspace/screen-web/src/components/Home/MenuList/index.js"],"names":["React","Component","Fragment","Row","Col","Form","Input","Button","Card","Modal","message","PlusOutlined","Util","Datatable","TextArea","layout","labelCol","span","wrapperCol","pageLoading","MenuList","constructor","props","state","searchValue","modalVisible","loading","modalTitle","onSearch","value","Math","random","setState","onReset","formRef","current","resetFields","addItem","addItemOk","addItemForm","getFieldsValue","_this","param","url","menuId","menuName","menuUrl","sort","className","remark","ajax","data","then","res","code","success","error","addItemCancel","handleEdit","record","key","setFieldsValue","createRef","content","duration","componentDidMount","render","required","height","overflowY"],"mappings":";AAAA,OAAOA,KAAP,IAAcC,SAAd,EAAwBC,QAAxB,QAAuC,OAAvC;AACA,SACCC,GADD,EAECC,GAFD,EAGCC,IAHD,EAICC,KAJD,EAKCC,MALD,EAMCC,IAND,EAOCC,KAPD,EAQCC,OARD,QASO,MATP;AAUA,SAASC,YAAT,QAA6B,mBAA7B;AACA,OAAOC,IAAP,MAAiB,eAAjB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AAEA,MAAM;AAAEC,EAAAA;AAAF,IAAeR,KAArB;AAEA,MAAMS,MAAM,GAAG;AAAC;AACfC,EAAAA,QAAQ,EAAE;AAAEC,IAAAA,IAAI,EAAE;AAAR,GADI;AAEdC,EAAAA,UAAU,EAAE;AAAED,IAAAA,IAAI,EAAE;AAAR;AAFE,CAAf;AAKA,MAAME,WAAW,GAAG,KAApB;;AAEA,MAAMC,QAAN,SAAuBnB,SAAvB,CAAgC;AAC/BoB,EAAAA,WAAW,CAACC,KAAD,EAAO;AACjB,UAAMA,KAAN;AADiB,SAUlBC,KAVkB,GAUV;AACPC,MAAAA,WAAW,EAAC,EADL;AAEPC,MAAAA,YAAY,EAAC,KAFN;AAGPC,MAAAA,OAAO,EAAC,KAHD;AAIPC,MAAAA,UAAU,EAAC;AAJJ,KAVU;;AAAA,SAkBlBC,QAlBkB,GAkBNC,KAAD,IAAS;AACnBA,MAAAA,KAAK,CAAC,SAAD,CAAL,GAAiBC,IAAI,CAACC,MAAL,EAAjB;AACA,WAAKC,QAAL,CAAc;AACbR,QAAAA,WAAW,EAACK;AADC,OAAd;AAGA,KAvBiB;;AAAA,SAyBlBI,OAzBkB,GAyBR,MAAM;AACf,WAAKC,OAAL,CAAaC,OAAb,CAAqBC,WAArB;AACA,KA3BiB;;AAAA,SA6BlBC,OA7BkB,GA6BR,MAAI;AACb,WAAKL,QAAL,CAAc;AACbP,QAAAA,YAAY,EAAC,IADA;AAEbE,QAAAA,UAAU,EAAC;AAFE,OAAd;AAIA,KAlCiB;;AAAA,SAoClBW,SApCkB,GAoCN,MAAI;AACf,UAAIT,KAAK,GAAG,KAAKU,WAAL,CAAiBJ,OAAjB,CAAyBK,cAAzB,EAAZ;AACA,WAAKR,QAAL,CAAc;AAACN,QAAAA,OAAO,EAAC;AAAT,OAAd;;AACA,UAAIe,KAAK,GAAG,IAAZ;;AACA,UAAIC,KAAK,GAAG,EAAZ;AACA,UAAIC,GAAG,GAAG,EAAV;;AACA,UAAId,KAAK,CAACe,MAAN,IAAc,IAAlB,EAAwB;AACvBF,QAAAA,KAAK,GAAG;AACP,sBAAWb,KAAK,CAACgB,QADV;AAEP,qBAAUhB,KAAK,CAACiB,OAFT;AAGP,kBAAOjB,KAAK,CAACkB,IAHN;AAIP,uBAAYlB,KAAK,CAACmB,SAJX;AAKP,oBAASnB,KAAK,CAACoB;AALR,SAAR;AAOAN,QAAAA,GAAG,GAAG,aAAN;AACA,OATD,MASO;AACND,QAAAA,KAAK,GAAG;AACP,oBAASb,KAAK,CAACe,MADR;AAEP,sBAAWf,KAAK,CAACgB,QAFV;AAGP,qBAAUhB,KAAK,CAACiB,OAHT;AAIP,kBAAOjB,KAAK,CAACkB,IAJN;AAKP,uBAAYlB,KAAK,CAACmB,SALX;AAMP,oBAASnB,KAAK,CAACoB;AANR,SAAR;AAQAN,QAAAA,GAAG,GAAG,eAAN;AACA;;AACD/B,MAAAA,IAAI,CAACsC,IAAL,CAAU;AACTP,QAAAA,GAAG,EAACA,GADK;AAETQ,QAAAA,IAAI,EAACT;AAFI,OAAV,EAGGU,IAHH,CAGSC,GAAD,IAAO;AACdZ,QAAAA,KAAK,CAACT,QAAN,CAAe;AAACN,UAAAA,OAAO,EAAC;AAAT,SAAf;;AACA,YAAG2B,GAAG,CAACC,IAAJ,KAAa,GAAhB,EAAoB;AACnB5C,UAAAA,OAAO,CAAC6C,OAAR,CAAgBF,GAAG,CAAC3C,OAApB;;AACA+B,UAAAA,KAAK,CAACT,QAAN,CAAe;AACdP,YAAAA,YAAY,EAAC,KADC;AACMD,YAAAA,WAAW,EAAC;AADlB,WAAf;;AAGAiB,UAAAA,KAAK,CAACF,WAAN,CAAkBJ,OAAlB,CAA0BC,WAA1B;AACA,SAND,MAMK;AACJ1B,UAAAA,OAAO,CAAC8C,KAAR,CAAcH,GAAG,CAAC3C,OAAlB;AACA;AACD,OAdD;AAeA,KA7EiB;;AAAA,SA+ElB+C,aA/EkB,GA+EF,MAAI;AACnB,WAAKzB,QAAL,CAAc;AACbP,QAAAA,YAAY,EAAC;AADA,OAAd;AAGA,KAnFiB;;AAAA,SAqFlBiC,UArFkB,GAqFJC,MAAD,IAAU;AACtB,UAAIlB,KAAK,GAAG,IAAZ;;AACA7B,MAAAA,IAAI,CAACsC,IAAL,CAAU;AACTP,QAAAA,GAAG,EAAC,eAAagB,MAAM,CAACC,GADf;AAETT,QAAAA,IAAI,EAAC;AAFI,OAAV,EAGGC,IAHH,CAGSC,GAAD,IAAO;AACd,YAAGA,GAAG,CAACC,IAAJ,KAAa,GAAhB,EAAoB;AACnBb,UAAAA,KAAK,CAACT,QAAN,CAAe;AAACP,YAAAA,YAAY,EAAC,IAAd;AACdE,YAAAA,UAAU,EAAC;AADG,WAAf;;AAGAc,UAAAA,KAAK,CAACF,WAAN,CAAkBJ,OAAlB,CAA0B0B,cAA1B,CAAyC;AACxCjB,YAAAA,MAAM,EAACS,GAAG,CAACF,IAAJ,CAASA,IAAT,CAAcP,MADmB;AAExCC,YAAAA,QAAQ,EAACQ,GAAG,CAACF,IAAJ,CAASA,IAAT,CAAcN,QAFiB;AAGxCC,YAAAA,OAAO,EAACO,GAAG,CAACF,IAAJ,CAASA,IAAT,CAAcL,OAHkB;AAIxCC,YAAAA,IAAI,EAACM,GAAG,CAACF,IAAJ,CAASA,IAAT,CAAcJ,IAJqB;AAKxCC,YAAAA,SAAS,EAACK,GAAG,CAACF,IAAJ,CAASA,IAAT,CAAcH,SALgB;AAMxCC,YAAAA,MAAM,EAACI,GAAG,CAACF,IAAJ,CAASA,IAAT,CAAcF;AANmB,WAAzC;AAQA,SAZD,MAYK;AACJvC,UAAAA,OAAO,CAAC8C,KAAR,CAAcH,GAAG,CAAC3C,OAAlB;AACA;AACD,OAnBD;AAoBA,KA3GiB;;AAEjB,SAAK6B,WAAL,GAAmBvC,KAAK,CAAC8D,SAAN,EAAnB;AACA,SAAK5B,OAAL,GAAelC,KAAK,CAAC8D,SAAN,EAAf;AACApD,IAAAA,OAAO,CAACgB,OAAR,CAAgB;AACNqC,MAAAA,OAAO,EAAC,WADF;AAENC,MAAAA,QAAQ,EAAC,CAFH;AAGNJ,MAAAA,GAAG,EAACzC;AAHE,KAAhB;AAKA;;AAoGD8C,EAAAA,iBAAiB,GAAE;AAClBvD,IAAAA,OAAO,CAAC6C,OAAR,CAAgB;AACNQ,MAAAA,OAAO,EAAC,SADF;AAENC,MAAAA,QAAQ,EAAC,CAFH;AAGNJ,MAAAA,GAAG,EAACzC;AAHE,KAAhB;AAKA;;AAED+C,EAAAA,MAAM,GAAG;AACR,WACC,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,oBAAC,GAAD;AACC,MAAA,MAAM,EAAE,CAAC,EAAD,EAAI,EAAJ,CADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAGC,oBAAC,GAAD;AAAK,MAAA,IAAI,EAAE,EAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,oBAAC,IAAD;AACC,MAAA,KAAK,EAAC,0BADP;AAEC,MAAA,QAAQ,EAAE,KAFX;AAGC,MAAA,IAAI,EAAC,OAHN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAKC,oBAAC,IAAD;AACC,MAAA,QAAQ,EAAE,KAAKtC,QADhB;AAEC,MAAA,MAAM,EAAC,QAFR;AAGC,MAAA,GAAG,EAAE,KAAKM,OAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAKC,oBAAC,IAAD,CAAM,IAAN;AACC,MAAA,KAAK,EAAC,0BADP;AAEC,MAAA,IAAI,EAAC,UAFN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAIC,oBAAC,KAAD;AACC,MAAA,WAAW,EAAC,sCADb;AAEC,MAAA,YAAY,EAAC,KAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJD,CALD,EAcC,oBAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,SAAb;AAAuB,MAAA,QAAQ,EAAC,QAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADD,CAdD,EAiBC,oBAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,oBAAC,MAAD;AAAQ,MAAA,QAAQ,EAAC,QAAjB;AAA0B,MAAA,OAAO,EAAE,KAAKD,OAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADD,CAjBD,CALD,CADD,CAHD,EAgCC,oBAAC,GAAD;AAAK,MAAA,IAAI,EAAE,EAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,oBAAC,IAAD;AACC,MAAA,KAAK,EAAC,0BADP;AAEC,MAAA,QAAQ,EAAE,KAFX;AAGC,MAAA,IAAI,EAAC,OAHN;AAIC,MAAA,KAAK,EACJ,oBAAC,MAAD;AACC,QAAA,IAAI,EAAC,SADN;AAEC,QAAA,IAAI,EAAE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFP;AAGC,QAAA,OAAO,EAAE,KAAKI,OAHf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBALF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAYC,oBAAC,SAAD;AACC,MAAA,WAAW,EAAE,KAAKd,KAAL,CAAWC,WADzB;AACsC,MAAA,UAAU,EAAE,KAAKkC,UADvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAZD,CADD,CAhCD,CADD,EAoDC,oBAAC,KAAD;AACC,MAAA,KAAK,EAAE,KAAKnC,KAAL,CAAWI,UADnB;AAEC,MAAA,YAAY,EAAE,KAFf;AAGC,MAAA,OAAO,EAAE,KAAKJ,KAAL,CAAWE,YAHrB;AAIC,MAAA,IAAI,EAAE,KAAKa,SAJZ;AAKC,MAAA,QAAQ,EAAE,KAAKmB,aALhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAOC,oBAAC,IAAD,oBACK1C,MADL;AAEC,MAAA,GAAG,EAAE,KAAKwB,WAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAIC,oBAAC,IAAD,CAAM,IAAN;AACC,MAAA,IAAI,EAAC,QADN;AAEC,MAAA,KAAK,EAAE,EAFR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAIC,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,QAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJD,CAJD,EAUC,oBAAC,IAAD,CAAM,IAAN;AACC,MAAA,KAAK,EAAC,0BADP;AAEC,MAAA,IAAI,EAAC,UAFN;AAGC,MAAA,KAAK,EAAE,CAAC;AACP4B,QAAAA,QAAQ,EAAE,IADH;AAEPzD,QAAAA,OAAO,EAAE;AAFF,OAAD,CAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAQC,oBAAC,KAAD;AACC,MAAA,WAAW,EAAC,4CADb;AAEC,MAAA,YAAY,EAAC,KAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MARD,CAVD,EAuBC,oBAAC,IAAD,CAAM,IAAN;AACC,MAAA,KAAK,EAAC,iBADP;AAEC,MAAA,IAAI,EAAC,SAFN;AAGC,MAAA,KAAK,EAAE,CAAC;AACPyD,QAAAA,QAAQ,EAAE,IADH;AAEPzD,QAAAA,OAAO,EAAE;AAFF,OAAD,CAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAQC,oBAAC,KAAD;AACC,MAAA,WAAW,EAAC,mCADb;AAEC,MAAA,YAAY,EAAC,KAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MARD,CAvBD,EAoCC,oBAAC,IAAD,CAAM,IAAN;AACC,MAAA,KAAK,EAAC,0BADP;AAEC,MAAA,IAAI,EAAC,MAFN;AAGC,MAAA,KAAK,EAAE,CAAC;AACPyD,QAAAA,QAAQ,EAAE,IADH;AAEPzD,QAAAA,OAAO,EAAE;AAFF,OAAD,CAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAQC,oBAAC,KAAD;AACC,MAAA,WAAW,EAAC,4CADb;AAEC,MAAA,YAAY,EAAC,KAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MARD,CApCD,EAiDC,oBAAC,IAAD,CAAM,IAAN;AACC,MAAA,KAAK,EAAC,0BADP;AAEC,MAAA,IAAI,EAAC,WAFN;AAGC,MAAA,KAAK,EAAE,CAAC;AACPyD,QAAAA,QAAQ,EAAE,IADH;AAEPzD,QAAAA,OAAO,EAAE;AAFF,OAAD,CAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAQC,oBAAC,KAAD;AACC,MAAA,WAAW,EAAC,4CADb;AAEC,MAAA,YAAY,EAAC,KAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MARD,CAjDD,EA8DC,oBAAC,IAAD,CAAM,IAAN;AACC,MAAA,KAAK,EAAC,cADP;AAEC,MAAA,IAAI,EAAC,QAFN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAIC,oBAAC,QAAD;AAAU,MAAA,KAAK,EAAE;AAAC0D,QAAAA,MAAM,EAAC,GAAR;AAAYC,QAAAA,SAAS,EAAC;AAAtB,OAAjB;AAAgD,MAAA,WAAW,EAAC,gCAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJD,CA9DD,CAPD,CApDD,CADD;AAqIA;;AA5P8B;;AA8PhC,eAAejD,QAAf","sourcesContent":["import React,{Component,Fragment} from 'react';\r\nimport { \r\n\tRow,\r\n\tCol,\r\n\tForm,\r\n\tInput,\r\n\tButton,\r\n\tCard,\r\n\tModal,\r\n\tmessage\r\n} from 'antd';\r\nimport { PlusOutlined } from '@ant-design/icons'\r\nimport Util from '../../../util';\r\nimport Datatable from './table.js'\r\n\r\nconst { TextArea } = Input;\r\n\r\nconst layout = {//弹窗表单布局\r\n\tlabelCol: { span: 8 },\r\n\twrapperCol: { span: 12 },\r\n};\r\n\r\nconst pageLoading = \"key\"\r\n\r\nclass MenuList extends Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.addItemForm = React.createRef();\r\n\t\tthis.formRef = React.createRef();\r\n\t\tmessage.loading({\r\n            content:\"页面正在加载...\",\r\n            duration:0,\r\n            key:pageLoading\r\n        })\r\n\t}\r\n\tstate = {\r\n\t\tsearchValue:{},\r\n\t\tmodalVisible:false,\r\n\t\tloading:false,\r\n\t\tmodalTitle:\"\"\r\n\r\n\t};\r\n\r\n\tonSearch = (value)=>{\r\n\t\tvalue['refresh']=Math.random();\r\n\t\tthis.setState({\r\n\t\t\tsearchValue:value\r\n\t\t})\r\n\t};\r\n\r\n\tonReset = () => {\r\n\t\tthis.formRef.current.resetFields();\r\n\t};\r\n\r\n\taddItem = ()=>{\r\n\t\tthis.setState({\r\n\t\t\tmodalVisible:true,\r\n\t\t\tmodalTitle:\"新增菜单\"\r\n\t\t})\r\n\t};\r\n\r\n\taddItemOk = ()=>{\r\n\t\tlet value = this.addItemForm.current.getFieldsValue();\r\n\t\tthis.setState({loading:true})\r\n\t\tlet _this = this;\r\n\t\tlet param = {};\r\n\t\tlet url = \"\";\r\n\t\tif (value.menuId==null) {\r\n\t\t\tparam = {\r\n\t\t\t\t'menuName':value.menuName,\r\n\t\t\t\t'menuUrl':value.menuUrl,\r\n\t\t\t\t'sort':value.sort,\r\n\t\t\t\t'className':value.className,\r\n\t\t\t\t'remark':value.remark\r\n\t\t\t};\r\n\t\t\turl = \"/menu/save/\";\r\n\t\t} else {\r\n\t\t\tparam = {\r\n\t\t\t\t'menuId':value.menuId,\r\n\t\t\t\t'menuName':value.menuName,\r\n\t\t\t\t'menuUrl':value.menuUrl,\r\n\t\t\t\t'sort':value.sort,\r\n\t\t\t\t'className':value.className,\r\n\t\t\t\t'remark':value.remark\r\n\t\t\t};\r\n\t\t\turl = '/menu/update/';\r\n\t\t}\r\n\t\tUtil.ajax({\r\n\t\t\turl:url,\r\n\t\t\tdata:param\r\n\t\t}).then((res)=>{\r\n\t\t\t_this.setState({loading:false});\r\n\t\t\tif(res.code === 200){\r\n\t\t\t\tmessage.success(res.message);\r\n\t\t\t\t_this.setState({\r\n\t\t\t\t\tmodalVisible:false, searchValue:{}\r\n\t\t\t\t});\r\n\t\t\t\t_this.addItemForm.current.resetFields();\r\n\t\t\t}else{\r\n\t\t\t\tmessage.error(res.message);\r\n\t\t\t}\r\n\t\t})\r\n\t};\r\n\r\n\taddItemCancel = ()=>{\r\n\t\tthis.setState({\r\n\t\t\tmodalVisible:false\r\n\t\t})\r\n\t};\r\n\r\n\thandleEdit = (record)=>{\r\n\t\tlet _this = this;\r\n\t\tUtil.ajax({\r\n\t\t\turl:'/menu/get/'+record.key,\r\n\t\t\tdata:{}\r\n\t\t}).then((res)=>{\r\n\t\t\tif(res.code === 200){\r\n\t\t\t\t_this.setState({modalVisible:true,\r\n\t\t\t\t\tmodalTitle:\"修改菜单\"\r\n\t\t\t\t})\r\n\t\t\t\t_this.addItemForm.current.setFieldsValue({\r\n\t\t\t\t\tmenuId:res.data.data.menuId,\r\n\t\t\t\t\tmenuName:res.data.data.menuName,\r\n\t\t\t\t\tmenuUrl:res.data.data.menuUrl,\r\n\t\t\t\t\tsort:res.data.data.sort,\r\n\t\t\t\t\tclassName:res.data.data.className,\r\n\t\t\t\t\tremark:res.data.data.remark\r\n\t\t\t\t});\r\n\t\t\t}else{\r\n\t\t\t\tmessage.error(res.message);\r\n\t\t\t}\r\n\t\t})\r\n\t};\r\n\r\n\tcomponentDidMount(){\r\n\t\tmessage.success({\r\n            content:\"页面加载成功！\",\r\n            duration:2,\r\n            key:pageLoading\r\n        })\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t\t<Row\r\n\t\t\t\t\tgutter={[10,10]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Col span={24}>\r\n\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\ttitle=\"查询条件\" \r\n\t\t\t\t\t\t\tbordered={false}\r\n\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Form\r\n\t\t\t\t\t\t\t\tonFinish={this.onSearch}\r\n\t\t\t\t\t\t\t\tlayout=\"inline\"\r\n\t\t\t\t\t\t\t\tref={this.formRef}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tlabel=\"菜单名称\"\r\n\t\t\t\t\t\t\t\t\tname=\"menuName\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Input \r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"请输入关键字\"\r\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item>\r\n\t\t\t\t\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">查询</Button>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item>\r\n\t\t\t\t\t\t\t\t\t<Button htmlType=\"button\" onClick={this.onReset}>重置</Button>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col span={24}>\r\n\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\ttitle=\"查询结果\" \r\n\t\t\t\t\t\t\tbordered={false}\r\n\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\textra={\r\n\t\t\t\t\t\t\t\t<Button \r\n\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\ticon={<PlusOutlined />}\r\n\t\t\t\t\t\t\t\t\tonClick={this.addItem}\r\n\t\t\t\t\t\t\t\t>新增</Button>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Datatable\r\n\t\t\t\t\t\t\t\tsearchValue={this.state.searchValue} handleEdit={this.handleEdit}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<Modal\r\n\t\t\t\t\ttitle={this.state.modalTitle}\r\n\t\t\t\t\tmaskClosable={false}\r\n\t\t\t\t\tvisible={this.state.modalVisible}\r\n\t\t\t\t\tonOk={this.addItemOk}\r\n\t\t\t\t\tonCancel={this.addItemCancel}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Form\r\n\t\t\t\t\t\t{...layout}\r\n\t\t\t\t\t\tref={this.addItemForm}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tname=\"menuId\"\r\n\t\t\t\t\t\t\trules={[]}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Input type=\"hidden\"/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tlabel=\"菜单名称\"\r\n\t\t\t\t\t\t\tname=\"menuName\"\r\n\t\t\t\t\t\t\trules={[{\r\n\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\tmessage: '菜单名称不能为空！',\r\n\t\t\t\t\t\t\t}]}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Input \r\n\t\t\t\t\t\t\t\tplaceholder=\"请输入菜单名称\"\r\n\t\t\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tlabel=\"菜单URL\"\r\n\t\t\t\t\t\t\tname=\"menuUrl\"\r\n\t\t\t\t\t\t\trules={[{\r\n\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\tmessage: '菜单URL不能为空！',\r\n\t\t\t\t\t\t\t}]}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Input \r\n\t\t\t\t\t\t\t\tplaceholder=\"请输入菜单URL\"\r\n\t\t\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tlabel=\"菜单顺序\"\r\n\t\t\t\t\t\t\tname=\"sort\"\r\n\t\t\t\t\t\t\trules={[{\r\n\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\tmessage: '菜单顺序不能为空！',\r\n\t\t\t\t\t\t\t}]}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Input \r\n\t\t\t\t\t\t\t\tplaceholder=\"请输入菜单顺序\"\r\n\t\t\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tlabel=\"图标名称\"\r\n\t\t\t\t\t\t\tname=\"className\"\r\n\t\t\t\t\t\t\trules={[{\r\n\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\tmessage: '图标名称不能为空！',\r\n\t\t\t\t\t\t\t}]}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\tplaceholder=\"请输入图标名称\"\r\n\t\t\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tlabel=\"备注\"\r\n\t\t\t\t\t\t\tname=\"remark\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<TextArea style={{height:100,overflowY:\"auto\"}} placeholder=\"请输入备注\"/>\r\n\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</Modal>\r\n\t\t\t</Fragment>\r\n\t\t)\r\n\t}\r\n}\r\nexport default MenuList;"]},"metadata":{},"sourceType":"module"}