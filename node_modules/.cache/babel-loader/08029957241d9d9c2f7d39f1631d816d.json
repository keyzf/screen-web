{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\n// ------ internal util\nexport var _util;\n\n(function (_util) {\n  _util.serviceIds = new Map();\n  _util.DI_TARGET = '$di$target';\n  _util.DI_DEPENDENCIES = '$di$dependencies';\n\n  function getServiceDependencies(ctor) {\n    return ctor[_util.DI_DEPENDENCIES] || [];\n  }\n\n  _util.getServiceDependencies = getServiceDependencies;\n})(_util || (_util = {}));\n\nexport var IInstantiationService = createDecorator('instantiationService');\n\nfunction storeServiceDependency(id, target, index, optional) {\n  if (target[_util.DI_TARGET] === target) {\n    target[_util.DI_DEPENDENCIES].push({\n      id: id,\n      index: index,\n      optional: optional\n    });\n  } else {\n    target[_util.DI_DEPENDENCIES] = [{\n      id: id,\n      index: index,\n      optional: optional\n    }];\n    target[_util.DI_TARGET] = target;\n  }\n}\n/**\r\n * A *only* valid way to create a {{ServiceIdentifier}}.\r\n */\n\n\nexport function createDecorator(serviceId) {\n  if (_util.serviceIds.has(serviceId)) {\n    return _util.serviceIds.get(serviceId);\n  }\n\n  var id = function (target, key, index) {\n    if (arguments.length !== 3) {\n      throw new Error('@IServiceName-decorator can only be used to decorate a parameter');\n    }\n\n    storeServiceDependency(id, target, index, false);\n  };\n\n  id.toString = function () {\n    return serviceId;\n  };\n\n  _util.serviceIds.set(serviceId, id);\n\n  return id;\n}\n/**\r\n * Mark a service dependency as optional.\r\n */\n\nexport function optional(serviceIdentifier) {\n  return function (target, key, index) {\n    if (arguments.length !== 3) {\n      throw new Error('@optional-decorator can only be used to decorate a parameter');\n    }\n\n    storeServiceDependency(serviceIdentifier, target, index, true);\n  };\n}","map":{"version":3,"sources":["/Users/ifudata/eclipse-workspace/screen-web/node_modules/monaco-editor/esm/vs/platform/instantiation/common/instantiation.js"],"names":["_util","serviceIds","Map","DI_TARGET","DI_DEPENDENCIES","getServiceDependencies","ctor","IInstantiationService","createDecorator","storeServiceDependency","id","target","index","optional","push","serviceId","has","get","key","arguments","length","Error","toString","set","serviceIdentifier"],"mappings":"AAAA;;;;AAIA;AACA,OAAO,IAAIA,KAAJ;;AACP,CAAC,UAAUA,KAAV,EAAiB;AACdA,EAAAA,KAAK,CAACC,UAAN,GAAmB,IAAIC,GAAJ,EAAnB;AACAF,EAAAA,KAAK,CAACG,SAAN,GAAkB,YAAlB;AACAH,EAAAA,KAAK,CAACI,eAAN,GAAwB,kBAAxB;;AACA,WAASC,sBAAT,CAAgCC,IAAhC,EAAsC;AAClC,WAAOA,IAAI,CAACN,KAAK,CAACI,eAAP,CAAJ,IAA+B,EAAtC;AACH;;AACDJ,EAAAA,KAAK,CAACK,sBAAN,GAA+BA,sBAA/B;AACH,CARD,EAQGL,KAAK,KAAKA,KAAK,GAAG,EAAb,CARR;;AASA,OAAO,IAAIO,qBAAqB,GAAGC,eAAe,CAAC,sBAAD,CAA3C;;AACP,SAASC,sBAAT,CAAgCC,EAAhC,EAAoCC,MAApC,EAA4CC,KAA5C,EAAmDC,QAAnD,EAA6D;AACzD,MAAIF,MAAM,CAACX,KAAK,CAACG,SAAP,CAAN,KAA4BQ,MAAhC,EAAwC;AACpCA,IAAAA,MAAM,CAACX,KAAK,CAACI,eAAP,CAAN,CAA8BU,IAA9B,CAAmC;AAAEJ,MAAAA,EAAE,EAAEA,EAAN;AAAUE,MAAAA,KAAK,EAAEA,KAAjB;AAAwBC,MAAAA,QAAQ,EAAEA;AAAlC,KAAnC;AACH,GAFD,MAGK;AACDF,IAAAA,MAAM,CAACX,KAAK,CAACI,eAAP,CAAN,GAAgC,CAAC;AAAEM,MAAAA,EAAE,EAAEA,EAAN;AAAUE,MAAAA,KAAK,EAAEA,KAAjB;AAAwBC,MAAAA,QAAQ,EAAEA;AAAlC,KAAD,CAAhC;AACAF,IAAAA,MAAM,CAACX,KAAK,CAACG,SAAP,CAAN,GAA0BQ,MAA1B;AACH;AACJ;AACD;;;;;AAGA,OAAO,SAASH,eAAT,CAAyBO,SAAzB,EAAoC;AACvC,MAAIf,KAAK,CAACC,UAAN,CAAiBe,GAAjB,CAAqBD,SAArB,CAAJ,EAAqC;AACjC,WAAOf,KAAK,CAACC,UAAN,CAAiBgB,GAAjB,CAAqBF,SAArB,CAAP;AACH;;AACD,MAAIL,EAAE,GAAG,UAAUC,MAAV,EAAkBO,GAAlB,EAAuBN,KAAvB,EAA8B;AACnC,QAAIO,SAAS,CAACC,MAAV,KAAqB,CAAzB,EAA4B;AACxB,YAAM,IAAIC,KAAJ,CAAU,kEAAV,CAAN;AACH;;AACDZ,IAAAA,sBAAsB,CAACC,EAAD,EAAKC,MAAL,EAAaC,KAAb,EAAoB,KAApB,CAAtB;AACH,GALD;;AAMAF,EAAAA,EAAE,CAACY,QAAH,GAAc,YAAY;AAAE,WAAOP,SAAP;AAAmB,GAA/C;;AACAf,EAAAA,KAAK,CAACC,UAAN,CAAiBsB,GAAjB,CAAqBR,SAArB,EAAgCL,EAAhC;;AACA,SAAOA,EAAP;AACH;AACD;;;;AAGA,OAAO,SAASG,QAAT,CAAkBW,iBAAlB,EAAqC;AACxC,SAAO,UAAUb,MAAV,EAAkBO,GAAlB,EAAuBN,KAAvB,EAA8B;AACjC,QAAIO,SAAS,CAACC,MAAV,KAAqB,CAAzB,EAA4B;AACxB,YAAM,IAAIC,KAAJ,CAAU,8DAAV,CAAN;AACH;;AACDZ,IAAAA,sBAAsB,CAACe,iBAAD,EAAoBb,MAApB,EAA4BC,KAA5B,EAAmC,IAAnC,CAAtB;AACH,GALD;AAMH","sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n// ------ internal util\r\nexport var _util;\r\n(function (_util) {\r\n    _util.serviceIds = new Map();\r\n    _util.DI_TARGET = '$di$target';\r\n    _util.DI_DEPENDENCIES = '$di$dependencies';\r\n    function getServiceDependencies(ctor) {\r\n        return ctor[_util.DI_DEPENDENCIES] || [];\r\n    }\r\n    _util.getServiceDependencies = getServiceDependencies;\r\n})(_util || (_util = {}));\r\nexport var IInstantiationService = createDecorator('instantiationService');\r\nfunction storeServiceDependency(id, target, index, optional) {\r\n    if (target[_util.DI_TARGET] === target) {\r\n        target[_util.DI_DEPENDENCIES].push({ id: id, index: index, optional: optional });\r\n    }\r\n    else {\r\n        target[_util.DI_DEPENDENCIES] = [{ id: id, index: index, optional: optional }];\r\n        target[_util.DI_TARGET] = target;\r\n    }\r\n}\r\n/**\r\n * A *only* valid way to create a {{ServiceIdentifier}}.\r\n */\r\nexport function createDecorator(serviceId) {\r\n    if (_util.serviceIds.has(serviceId)) {\r\n        return _util.serviceIds.get(serviceId);\r\n    }\r\n    var id = function (target, key, index) {\r\n        if (arguments.length !== 3) {\r\n            throw new Error('@IServiceName-decorator can only be used to decorate a parameter');\r\n        }\r\n        storeServiceDependency(id, target, index, false);\r\n    };\r\n    id.toString = function () { return serviceId; };\r\n    _util.serviceIds.set(serviceId, id);\r\n    return id;\r\n}\r\n/**\r\n * Mark a service dependency as optional.\r\n */\r\nexport function optional(serviceIdentifier) {\r\n    return function (target, key, index) {\r\n        if (arguments.length !== 3) {\r\n            throw new Error('@optional-decorator can only be used to decorate a parameter');\r\n        }\r\n        storeServiceDependency(serviceIdentifier, target, index, true);\r\n    };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}