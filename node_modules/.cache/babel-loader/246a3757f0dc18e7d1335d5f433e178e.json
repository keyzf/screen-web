{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport './progressbar.css';\nimport { Disposable } from '../../../common/lifecycle.js';\nimport { Color } from '../../../common/color.js';\nimport { mixin } from '../../../common/objects.js';\nimport { removeClasses, addClass, hasClass, hide, show } from '../../dom.js';\nimport { RunOnceScheduler } from '../../../common/async.js';\nvar css_done = 'done';\nvar css_active = 'active';\nvar css_infinite = 'infinite';\nvar css_discrete = 'discrete';\nvar css_progress_container = 'monaco-progress-container';\nvar css_progress_bit = 'progress-bit';\nvar defaultOpts = {\n  progressBarBackground: Color.fromHex('#0E70C0')\n};\n/**\r\n * A progress bar with support for infinite or discrete progress.\r\n */\n\nvar ProgressBar =\n/** @class */\nfunction (_super) {\n  __extends(ProgressBar, _super);\n\n  function ProgressBar(container, options) {\n    var _this = _super.call(this) || this;\n\n    _this.options = options || Object.create(null);\n    mixin(_this.options, defaultOpts, false);\n    _this.workedVal = 0;\n    _this.progressBarBackground = _this.options.progressBarBackground;\n\n    _this._register(_this.showDelayedScheduler = new RunOnceScheduler(function () {\n      return show(_this.element);\n    }, 0));\n\n    _this.create(container);\n\n    return _this;\n  }\n\n  ProgressBar.prototype.create = function (container) {\n    this.element = document.createElement('div');\n    addClass(this.element, css_progress_container);\n    container.appendChild(this.element);\n    this.bit = document.createElement('div');\n    addClass(this.bit, css_progress_bit);\n    this.element.appendChild(this.bit);\n    this.applyStyles();\n  };\n\n  ProgressBar.prototype.off = function () {\n    this.bit.style.width = 'inherit';\n    this.bit.style.opacity = '1';\n    removeClasses(this.element, css_active, css_infinite, css_discrete);\n    this.workedVal = 0;\n    this.totalWork = undefined;\n  };\n  /**\r\n   * Stops the progressbar from showing any progress instantly without fading out.\r\n   */\n\n\n  ProgressBar.prototype.stop = function () {\n    return this.doDone(false);\n  };\n\n  ProgressBar.prototype.doDone = function (delayed) {\n    var _this = this;\n\n    addClass(this.element, css_done); // let it grow to 100% width and hide afterwards\n\n    if (!hasClass(this.element, css_infinite)) {\n      this.bit.style.width = 'inherit';\n\n      if (delayed) {\n        setTimeout(function () {\n          return _this.off();\n        }, 200);\n      } else {\n        this.off();\n      }\n    } // let it fade out and hide afterwards\n    else {\n        this.bit.style.opacity = '0';\n\n        if (delayed) {\n          setTimeout(function () {\n            return _this.off();\n          }, 200);\n        } else {\n          this.off();\n        }\n      }\n\n    return this;\n  };\n\n  ProgressBar.prototype.hide = function () {\n    hide(this.element);\n    this.showDelayedScheduler.cancel();\n  };\n\n  ProgressBar.prototype.style = function (styles) {\n    this.progressBarBackground = styles.progressBarBackground;\n    this.applyStyles();\n  };\n\n  ProgressBar.prototype.applyStyles = function () {\n    if (this.bit) {\n      var background = this.progressBarBackground ? this.progressBarBackground.toString() : '';\n      this.bit.style.backgroundColor = background;\n    }\n  };\n\n  return ProgressBar;\n}(Disposable);\n\nexport { ProgressBar };","map":{"version":3,"sources":["/Users/ifudata/eclipse-workspace/screen-web/node_modules/monaco-editor/esm/vs/base/browser/ui/progressbar/progressbar.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","Disposable","Color","mixin","removeClasses","addClass","hasClass","hide","show","RunOnceScheduler","css_done","css_active","css_infinite","css_discrete","css_progress_container","css_progress_bit","defaultOpts","progressBarBackground","fromHex","ProgressBar","_super","container","options","_this","call","workedVal","_register","showDelayedScheduler","element","document","createElement","appendChild","bit","applyStyles","off","style","width","opacity","totalWork","undefined","stop","doDone","delayed","setTimeout","cancel","styles","background","toString","backgroundColor"],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport './progressbar.css';\r\nimport { Disposable } from '../../../common/lifecycle.js';\r\nimport { Color } from '../../../common/color.js';\r\nimport { mixin } from '../../../common/objects.js';\r\nimport { removeClasses, addClass, hasClass, hide, show } from '../../dom.js';\r\nimport { RunOnceScheduler } from '../../../common/async.js';\r\nvar css_done = 'done';\r\nvar css_active = 'active';\r\nvar css_infinite = 'infinite';\r\nvar css_discrete = 'discrete';\r\nvar css_progress_container = 'monaco-progress-container';\r\nvar css_progress_bit = 'progress-bit';\r\nvar defaultOpts = {\r\n    progressBarBackground: Color.fromHex('#0E70C0')\r\n};\r\n/**\r\n * A progress bar with support for infinite or discrete progress.\r\n */\r\nvar ProgressBar = /** @class */ (function (_super) {\r\n    __extends(ProgressBar, _super);\r\n    function ProgressBar(container, options) {\r\n        var _this = _super.call(this) || this;\r\n        _this.options = options || Object.create(null);\r\n        mixin(_this.options, defaultOpts, false);\r\n        _this.workedVal = 0;\r\n        _this.progressBarBackground = _this.options.progressBarBackground;\r\n        _this._register(_this.showDelayedScheduler = new RunOnceScheduler(function () { return show(_this.element); }, 0));\r\n        _this.create(container);\r\n        return _this;\r\n    }\r\n    ProgressBar.prototype.create = function (container) {\r\n        this.element = document.createElement('div');\r\n        addClass(this.element, css_progress_container);\r\n        container.appendChild(this.element);\r\n        this.bit = document.createElement('div');\r\n        addClass(this.bit, css_progress_bit);\r\n        this.element.appendChild(this.bit);\r\n        this.applyStyles();\r\n    };\r\n    ProgressBar.prototype.off = function () {\r\n        this.bit.style.width = 'inherit';\r\n        this.bit.style.opacity = '1';\r\n        removeClasses(this.element, css_active, css_infinite, css_discrete);\r\n        this.workedVal = 0;\r\n        this.totalWork = undefined;\r\n    };\r\n    /**\r\n     * Stops the progressbar from showing any progress instantly without fading out.\r\n     */\r\n    ProgressBar.prototype.stop = function () {\r\n        return this.doDone(false);\r\n    };\r\n    ProgressBar.prototype.doDone = function (delayed) {\r\n        var _this = this;\r\n        addClass(this.element, css_done);\r\n        // let it grow to 100% width and hide afterwards\r\n        if (!hasClass(this.element, css_infinite)) {\r\n            this.bit.style.width = 'inherit';\r\n            if (delayed) {\r\n                setTimeout(function () { return _this.off(); }, 200);\r\n            }\r\n            else {\r\n                this.off();\r\n            }\r\n        }\r\n        // let it fade out and hide afterwards\r\n        else {\r\n            this.bit.style.opacity = '0';\r\n            if (delayed) {\r\n                setTimeout(function () { return _this.off(); }, 200);\r\n            }\r\n            else {\r\n                this.off();\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n    ProgressBar.prototype.hide = function () {\r\n        hide(this.element);\r\n        this.showDelayedScheduler.cancel();\r\n    };\r\n    ProgressBar.prototype.style = function (styles) {\r\n        this.progressBarBackground = styles.progressBarBackground;\r\n        this.applyStyles();\r\n    };\r\n    ProgressBar.prototype.applyStyles = function () {\r\n        if (this.bit) {\r\n            var background = this.progressBarBackground ? this.progressBarBackground.toString() : '';\r\n            this.bit.style.backgroundColor = background;\r\n        }\r\n    };\r\n    return ProgressBar;\r\n}(Disposable));\r\nexport { ProgressBar };\r\n"]},"metadata":{},"sourceType":"module"}