{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nimport { equals } from './arrays.js';\nimport { escapeCodicons } from './codicons.js';\n\nvar MarkdownString =\n/** @class */\nfunction () {\n  function MarkdownString(_value, isTrustedOrOptions) {\n    if (_value === void 0) {\n      _value = '';\n    }\n\n    if (isTrustedOrOptions === void 0) {\n      isTrustedOrOptions = false;\n    }\n\n    var _a, _b;\n\n    this._value = _value;\n\n    if (typeof isTrustedOrOptions === 'boolean') {\n      this._isTrusted = isTrustedOrOptions;\n      this._supportThemeIcons = false;\n    } else {\n      this._isTrusted = (_a = isTrustedOrOptions.isTrusted) !== null && _a !== void 0 ? _a : false;\n      this._supportThemeIcons = (_b = isTrustedOrOptions.supportThemeIcons) !== null && _b !== void 0 ? _b : false;\n    }\n  }\n\n  Object.defineProperty(MarkdownString.prototype, \"value\", {\n    get: function () {\n      return this._value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(MarkdownString.prototype, \"isTrusted\", {\n    get: function () {\n      return this._isTrusted;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(MarkdownString.prototype, \"supportThemeIcons\", {\n    get: function () {\n      return this._supportThemeIcons;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  MarkdownString.prototype.appendText = function (value) {\n    // escape markdown syntax tokens: http://daringfireball.net/projects/markdown/syntax#backslash\n    this._value += (this._supportThemeIcons ? escapeCodicons(value) : value).replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, '\\\\$&').replace('\\n', '\\n\\n');\n    return this;\n  };\n\n  MarkdownString.prototype.appendMarkdown = function (value) {\n    this._value += value;\n    return this;\n  };\n\n  MarkdownString.prototype.appendCodeblock = function (langId, code) {\n    this._value += '\\n```';\n    this._value += langId;\n    this._value += '\\n';\n    this._value += code;\n    this._value += '\\n```\\n';\n    return this;\n  };\n\n  return MarkdownString;\n}();\n\nexport { MarkdownString };\nexport function isEmptyMarkdownString(oneOrMany) {\n  if (isMarkdownString(oneOrMany)) {\n    return !oneOrMany.value;\n  } else if (Array.isArray(oneOrMany)) {\n    return oneOrMany.every(isEmptyMarkdownString);\n  } else {\n    return true;\n  }\n}\nexport function isMarkdownString(thing) {\n  if (thing instanceof MarkdownString) {\n    return true;\n  } else if (thing && typeof thing === 'object') {\n    return typeof thing.value === 'string' && (typeof thing.isTrusted === 'boolean' || thing.isTrusted === undefined) && (typeof thing.supportThemeIcons === 'boolean' || thing.supportThemeIcons === undefined);\n  }\n\n  return false;\n}\nexport function markedStringsEquals(a, b) {\n  if (!a && !b) {\n    return true;\n  } else if (!a || !b) {\n    return false;\n  } else if (Array.isArray(a) && Array.isArray(b)) {\n    return equals(a, b, markdownStringEqual);\n  } else if (isMarkdownString(a) && isMarkdownString(b)) {\n    return markdownStringEqual(a, b);\n  } else {\n    return false;\n  }\n}\n\nfunction markdownStringEqual(a, b) {\n  if (a === b) {\n    return true;\n  } else if (!a || !b) {\n    return false;\n  } else {\n    return a.value === b.value && a.isTrusted === b.isTrusted && a.supportThemeIcons === b.supportThemeIcons;\n  }\n}\n\nexport function removeMarkdownEscapes(text) {\n  if (!text) {\n    return text;\n  }\n\n  return text.replace(/\\\\([\\\\`*_{}[\\]()#+\\-.!])/g, '$1');\n}\nexport function parseHrefAndDimensions(href) {\n  var dimensions = [];\n  var splitted = href.split('|').map(function (s) {\n    return s.trim();\n  });\n  href = splitted[0];\n  var parameters = splitted[1];\n\n  if (parameters) {\n    var heightFromParams = /height=(\\d+)/.exec(parameters);\n    var widthFromParams = /width=(\\d+)/.exec(parameters);\n    var height = heightFromParams ? heightFromParams[1] : '';\n    var width = widthFromParams ? widthFromParams[1] : '';\n    var widthIsFinite = isFinite(parseInt(width));\n    var heightIsFinite = isFinite(parseInt(height));\n\n    if (widthIsFinite) {\n      dimensions.push(\"width=\\\"\" + width + \"\\\"\");\n    }\n\n    if (heightIsFinite) {\n      dimensions.push(\"height=\\\"\" + height + \"\\\"\");\n    }\n  }\n\n  return {\n    href: href,\n    dimensions: dimensions\n  };\n}","map":{"version":3,"sources":["/Users/ifudata/eclipse-workspace/screen-web/node_modules/monaco-editor/esm/vs/base/common/htmlContent.js"],"names":["equals","escapeCodicons","MarkdownString","_value","isTrustedOrOptions","_a","_b","_isTrusted","_supportThemeIcons","isTrusted","supportThemeIcons","Object","defineProperty","prototype","get","enumerable","configurable","appendText","value","replace","appendMarkdown","appendCodeblock","langId","code","isEmptyMarkdownString","oneOrMany","isMarkdownString","Array","isArray","every","thing","undefined","markedStringsEquals","a","b","markdownStringEqual","removeMarkdownEscapes","text","parseHrefAndDimensions","href","dimensions","splitted","split","map","s","trim","parameters","heightFromParams","exec","widthFromParams","height","width","widthIsFinite","isFinite","parseInt","heightIsFinite","push"],"mappings":"AAAA;;;;AAIA,SAASA,MAAT,QAAuB,aAAvB;AACA,SAASC,cAAT,QAA+B,eAA/B;;AACA,IAAIC,cAAc;AAAG;AAAe,YAAY;AAC5C,WAASA,cAAT,CAAwBC,MAAxB,EAAgCC,kBAAhC,EAAoD;AAChD,QAAID,MAAM,KAAK,KAAK,CAApB,EAAuB;AAAEA,MAAAA,MAAM,GAAG,EAAT;AAAc;;AACvC,QAAIC,kBAAkB,KAAK,KAAK,CAAhC,EAAmC;AAAEA,MAAAA,kBAAkB,GAAG,KAArB;AAA6B;;AAClE,QAAIC,EAAJ,EAAQC,EAAR;;AACA,SAAKH,MAAL,GAAcA,MAAd;;AACA,QAAI,OAAOC,kBAAP,KAA8B,SAAlC,EAA6C;AACzC,WAAKG,UAAL,GAAkBH,kBAAlB;AACA,WAAKI,kBAAL,GAA0B,KAA1B;AACH,KAHD,MAIK;AACD,WAAKD,UAAL,GAAkB,CAACF,EAAE,GAAGD,kBAAkB,CAACK,SAAzB,MAAwC,IAAxC,IAAgDJ,EAAE,KAAK,KAAK,CAA5D,GAAgEA,EAAhE,GAAqE,KAAvF;AACA,WAAKG,kBAAL,GAA0B,CAACF,EAAE,GAAGF,kBAAkB,CAACM,iBAAzB,MAAgD,IAAhD,IAAwDJ,EAAE,KAAK,KAAK,CAApE,GAAwEA,EAAxE,GAA6E,KAAvG;AACH;AACJ;;AACDK,EAAAA,MAAM,CAACC,cAAP,CAAsBV,cAAc,CAACW,SAArC,EAAgD,OAAhD,EAAyD;AACrDC,IAAAA,GAAG,EAAE,YAAY;AAAE,aAAO,KAAKX,MAAZ;AAAqB,KADa;AAErDY,IAAAA,UAAU,EAAE,IAFyC;AAGrDC,IAAAA,YAAY,EAAE;AAHuC,GAAzD;AAKAL,EAAAA,MAAM,CAACC,cAAP,CAAsBV,cAAc,CAACW,SAArC,EAAgD,WAAhD,EAA6D;AACzDC,IAAAA,GAAG,EAAE,YAAY;AAAE,aAAO,KAAKP,UAAZ;AAAyB,KADa;AAEzDQ,IAAAA,UAAU,EAAE,IAF6C;AAGzDC,IAAAA,YAAY,EAAE;AAH2C,GAA7D;AAKAL,EAAAA,MAAM,CAACC,cAAP,CAAsBV,cAAc,CAACW,SAArC,EAAgD,mBAAhD,EAAqE;AACjEC,IAAAA,GAAG,EAAE,YAAY;AAAE,aAAO,KAAKN,kBAAZ;AAAiC,KADa;AAEjEO,IAAAA,UAAU,EAAE,IAFqD;AAGjEC,IAAAA,YAAY,EAAE;AAHmD,GAArE;;AAKAd,EAAAA,cAAc,CAACW,SAAf,CAAyBI,UAAzB,GAAsC,UAAUC,KAAV,EAAiB;AACnD;AACA,SAAKf,MAAL,IAAe,CAAC,KAAKK,kBAAL,GAA0BP,cAAc,CAACiB,KAAD,CAAxC,GAAkDA,KAAnD,EACVC,OADU,CACF,uBADE,EACuB,MADvB,EAEVA,OAFU,CAEF,IAFE,EAEI,MAFJ,CAAf;AAGA,WAAO,IAAP;AACH,GAND;;AAOAjB,EAAAA,cAAc,CAACW,SAAf,CAAyBO,cAAzB,GAA0C,UAAUF,KAAV,EAAiB;AACvD,SAAKf,MAAL,IAAee,KAAf;AACA,WAAO,IAAP;AACH,GAHD;;AAIAhB,EAAAA,cAAc,CAACW,SAAf,CAAyBQ,eAAzB,GAA2C,UAAUC,MAAV,EAAkBC,IAAlB,EAAwB;AAC/D,SAAKpB,MAAL,IAAe,OAAf;AACA,SAAKA,MAAL,IAAemB,MAAf;AACA,SAAKnB,MAAL,IAAe,IAAf;AACA,SAAKA,MAAL,IAAeoB,IAAf;AACA,SAAKpB,MAAL,IAAe,SAAf;AACA,WAAO,IAAP;AACH,GAPD;;AAQA,SAAOD,cAAP;AACH,CAlDmC,EAApC;;AAmDA,SAASA,cAAT;AACA,OAAO,SAASsB,qBAAT,CAA+BC,SAA/B,EAA0C;AAC7C,MAAIC,gBAAgB,CAACD,SAAD,CAApB,EAAiC;AAC7B,WAAO,CAACA,SAAS,CAACP,KAAlB;AACH,GAFD,MAGK,IAAIS,KAAK,CAACC,OAAN,CAAcH,SAAd,CAAJ,EAA8B;AAC/B,WAAOA,SAAS,CAACI,KAAV,CAAgBL,qBAAhB,CAAP;AACH,GAFI,MAGA;AACD,WAAO,IAAP;AACH;AACJ;AACD,OAAO,SAASE,gBAAT,CAA0BI,KAA1B,EAAiC;AACpC,MAAIA,KAAK,YAAY5B,cAArB,EAAqC;AACjC,WAAO,IAAP;AACH,GAFD,MAGK,IAAI4B,KAAK,IAAI,OAAOA,KAAP,KAAiB,QAA9B,EAAwC;AACzC,WAAO,OAAOA,KAAK,CAACZ,KAAb,KAAuB,QAAvB,KACC,OAAOY,KAAK,CAACrB,SAAb,KAA2B,SAA3B,IAAwCqB,KAAK,CAACrB,SAAN,KAAoBsB,SAD7D,MAEC,OAAOD,KAAK,CAACpB,iBAAb,KAAmC,SAAnC,IAAgDoB,KAAK,CAACpB,iBAAN,KAA4BqB,SAF7E,CAAP;AAGH;;AACD,SAAO,KAAP;AACH;AACD,OAAO,SAASC,mBAAT,CAA6BC,CAA7B,EAAgCC,CAAhC,EAAmC;AACtC,MAAI,CAACD,CAAD,IAAM,CAACC,CAAX,EAAc;AACV,WAAO,IAAP;AACH,GAFD,MAGK,IAAI,CAACD,CAAD,IAAM,CAACC,CAAX,EAAc;AACf,WAAO,KAAP;AACH,GAFI,MAGA,IAAIP,KAAK,CAACC,OAAN,CAAcK,CAAd,KAAoBN,KAAK,CAACC,OAAN,CAAcM,CAAd,CAAxB,EAA0C;AAC3C,WAAOlC,MAAM,CAACiC,CAAD,EAAIC,CAAJ,EAAOC,mBAAP,CAAb;AACH,GAFI,MAGA,IAAIT,gBAAgB,CAACO,CAAD,CAAhB,IAAuBP,gBAAgB,CAACQ,CAAD,CAA3C,EAAgD;AACjD,WAAOC,mBAAmB,CAACF,CAAD,EAAIC,CAAJ,CAA1B;AACH,GAFI,MAGA;AACD,WAAO,KAAP;AACH;AACJ;;AACD,SAASC,mBAAT,CAA6BF,CAA7B,EAAgCC,CAAhC,EAAmC;AAC/B,MAAID,CAAC,KAAKC,CAAV,EAAa;AACT,WAAO,IAAP;AACH,GAFD,MAGK,IAAI,CAACD,CAAD,IAAM,CAACC,CAAX,EAAc;AACf,WAAO,KAAP;AACH,GAFI,MAGA;AACD,WAAOD,CAAC,CAACf,KAAF,KAAYgB,CAAC,CAAChB,KAAd,IAAuBe,CAAC,CAACxB,SAAF,KAAgByB,CAAC,CAACzB,SAAzC,IAAsDwB,CAAC,CAACvB,iBAAF,KAAwBwB,CAAC,CAACxB,iBAAvF;AACH;AACJ;;AACD,OAAO,SAAS0B,qBAAT,CAA+BC,IAA/B,EAAqC;AACxC,MAAI,CAACA,IAAL,EAAW;AACP,WAAOA,IAAP;AACH;;AACD,SAAOA,IAAI,CAAClB,OAAL,CAAa,2BAAb,EAA0C,IAA1C,CAAP;AACH;AACD,OAAO,SAASmB,sBAAT,CAAgCC,IAAhC,EAAsC;AACzC,MAAIC,UAAU,GAAG,EAAjB;AACA,MAAIC,QAAQ,GAAGF,IAAI,CAACG,KAAL,CAAW,GAAX,EAAgBC,GAAhB,CAAoB,UAAUC,CAAV,EAAa;AAAE,WAAOA,CAAC,CAACC,IAAF,EAAP;AAAkB,GAArD,CAAf;AACAN,EAAAA,IAAI,GAAGE,QAAQ,CAAC,CAAD,CAAf;AACA,MAAIK,UAAU,GAAGL,QAAQ,CAAC,CAAD,CAAzB;;AACA,MAAIK,UAAJ,EAAgB;AACZ,QAAIC,gBAAgB,GAAG,eAAeC,IAAf,CAAoBF,UAApB,CAAvB;AACA,QAAIG,eAAe,GAAG,cAAcD,IAAd,CAAmBF,UAAnB,CAAtB;AACA,QAAII,MAAM,GAAGH,gBAAgB,GAAGA,gBAAgB,CAAC,CAAD,CAAnB,GAAyB,EAAtD;AACA,QAAII,KAAK,GAAGF,eAAe,GAAGA,eAAe,CAAC,CAAD,CAAlB,GAAwB,EAAnD;AACA,QAAIG,aAAa,GAAGC,QAAQ,CAACC,QAAQ,CAACH,KAAD,CAAT,CAA5B;AACA,QAAII,cAAc,GAAGF,QAAQ,CAACC,QAAQ,CAACJ,MAAD,CAAT,CAA7B;;AACA,QAAIE,aAAJ,EAAmB;AACfZ,MAAAA,UAAU,CAACgB,IAAX,CAAgB,aAAaL,KAAb,GAAqB,IAArC;AACH;;AACD,QAAII,cAAJ,EAAoB;AAChBf,MAAAA,UAAU,CAACgB,IAAX,CAAgB,cAAcN,MAAd,GAAuB,IAAvC;AACH;AACJ;;AACD,SAAO;AAAEX,IAAAA,IAAI,EAAEA,IAAR;AAAcC,IAAAA,UAAU,EAAEA;AAA1B,GAAP;AACH","sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { equals } from './arrays.js';\r\nimport { escapeCodicons } from './codicons.js';\r\nvar MarkdownString = /** @class */ (function () {\r\n    function MarkdownString(_value, isTrustedOrOptions) {\r\n        if (_value === void 0) { _value = ''; }\r\n        if (isTrustedOrOptions === void 0) { isTrustedOrOptions = false; }\r\n        var _a, _b;\r\n        this._value = _value;\r\n        if (typeof isTrustedOrOptions === 'boolean') {\r\n            this._isTrusted = isTrustedOrOptions;\r\n            this._supportThemeIcons = false;\r\n        }\r\n        else {\r\n            this._isTrusted = (_a = isTrustedOrOptions.isTrusted) !== null && _a !== void 0 ? _a : false;\r\n            this._supportThemeIcons = (_b = isTrustedOrOptions.supportThemeIcons) !== null && _b !== void 0 ? _b : false;\r\n        }\r\n    }\r\n    Object.defineProperty(MarkdownString.prototype, \"value\", {\r\n        get: function () { return this._value; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(MarkdownString.prototype, \"isTrusted\", {\r\n        get: function () { return this._isTrusted; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(MarkdownString.prototype, \"supportThemeIcons\", {\r\n        get: function () { return this._supportThemeIcons; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    MarkdownString.prototype.appendText = function (value) {\r\n        // escape markdown syntax tokens: http://daringfireball.net/projects/markdown/syntax#backslash\r\n        this._value += (this._supportThemeIcons ? escapeCodicons(value) : value)\r\n            .replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, '\\\\$&')\r\n            .replace('\\n', '\\n\\n');\r\n        return this;\r\n    };\r\n    MarkdownString.prototype.appendMarkdown = function (value) {\r\n        this._value += value;\r\n        return this;\r\n    };\r\n    MarkdownString.prototype.appendCodeblock = function (langId, code) {\r\n        this._value += '\\n```';\r\n        this._value += langId;\r\n        this._value += '\\n';\r\n        this._value += code;\r\n        this._value += '\\n```\\n';\r\n        return this;\r\n    };\r\n    return MarkdownString;\r\n}());\r\nexport { MarkdownString };\r\nexport function isEmptyMarkdownString(oneOrMany) {\r\n    if (isMarkdownString(oneOrMany)) {\r\n        return !oneOrMany.value;\r\n    }\r\n    else if (Array.isArray(oneOrMany)) {\r\n        return oneOrMany.every(isEmptyMarkdownString);\r\n    }\r\n    else {\r\n        return true;\r\n    }\r\n}\r\nexport function isMarkdownString(thing) {\r\n    if (thing instanceof MarkdownString) {\r\n        return true;\r\n    }\r\n    else if (thing && typeof thing === 'object') {\r\n        return typeof thing.value === 'string'\r\n            && (typeof thing.isTrusted === 'boolean' || thing.isTrusted === undefined)\r\n            && (typeof thing.supportThemeIcons === 'boolean' || thing.supportThemeIcons === undefined);\r\n    }\r\n    return false;\r\n}\r\nexport function markedStringsEquals(a, b) {\r\n    if (!a && !b) {\r\n        return true;\r\n    }\r\n    else if (!a || !b) {\r\n        return false;\r\n    }\r\n    else if (Array.isArray(a) && Array.isArray(b)) {\r\n        return equals(a, b, markdownStringEqual);\r\n    }\r\n    else if (isMarkdownString(a) && isMarkdownString(b)) {\r\n        return markdownStringEqual(a, b);\r\n    }\r\n    else {\r\n        return false;\r\n    }\r\n}\r\nfunction markdownStringEqual(a, b) {\r\n    if (a === b) {\r\n        return true;\r\n    }\r\n    else if (!a || !b) {\r\n        return false;\r\n    }\r\n    else {\r\n        return a.value === b.value && a.isTrusted === b.isTrusted && a.supportThemeIcons === b.supportThemeIcons;\r\n    }\r\n}\r\nexport function removeMarkdownEscapes(text) {\r\n    if (!text) {\r\n        return text;\r\n    }\r\n    return text.replace(/\\\\([\\\\`*_{}[\\]()#+\\-.!])/g, '$1');\r\n}\r\nexport function parseHrefAndDimensions(href) {\r\n    var dimensions = [];\r\n    var splitted = href.split('|').map(function (s) { return s.trim(); });\r\n    href = splitted[0];\r\n    var parameters = splitted[1];\r\n    if (parameters) {\r\n        var heightFromParams = /height=(\\d+)/.exec(parameters);\r\n        var widthFromParams = /width=(\\d+)/.exec(parameters);\r\n        var height = heightFromParams ? heightFromParams[1] : '';\r\n        var width = widthFromParams ? widthFromParams[1] : '';\r\n        var widthIsFinite = isFinite(parseInt(width));\r\n        var heightIsFinite = isFinite(parseInt(height));\r\n        if (widthIsFinite) {\r\n            dimensions.push(\"width=\\\"\" + width + \"\\\"\");\r\n        }\r\n        if (heightIsFinite) {\r\n            dimensions.push(\"height=\\\"\" + height + \"\\\"\");\r\n        }\r\n    }\r\n    return { href: href, dimensions: dimensions };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}