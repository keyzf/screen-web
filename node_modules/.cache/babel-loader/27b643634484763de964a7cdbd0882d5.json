{"ast":null,"code":"var _jsxFileName = \"/Users/ifudata/eclipse-workspace/screen-web/src/components/Home/RoleList/index.js\";\nimport React, { Component, Fragment } from 'react';\nimport { Row, Col, Form, Input, Button, Card, Modal, message } from 'antd';\nimport { PlusOutlined } from '@ant-design/icons';\nimport Util from '../../../util';\nimport Datatable from './table.js';\nimport TreeSet from './tree.js';\nconst {\n  TextArea\n} = Input;\nconst layout = {\n  //弹窗表单布局\n  labelCol: {\n    span: 8\n  },\n  wrapperCol: {\n    span: 12\n  }\n};\nconst pageLoading = \"key\";\n\nclass RoleList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      searchValue: {},\n      modalVisible: false,\n      loading: false,\n      modalTitle: \"\",\n      //角色菜单权限弹框相关值\n      menuRoleModalVisible: false,\n      selectRoleId: 0,\n      selectMenuIds: [],\n      initTreeNodeData: {}\n    };\n\n    this.onSearch = value => {\n      value['refresh'] = Math.random();\n      this.setState({\n        searchValue: value\n      });\n    };\n\n    this.onReset = () => {\n      this.formRef.current.resetFields();\n    };\n\n    this.addItem = () => {\n      this.setState({\n        modalVisible: true,\n        modalTitle: \"新增角色\"\n      });\n    };\n\n    this.addItemOk = () => {\n      let value = this.addItemForm.current.getFieldsValue();\n      this.setState({\n        loading: true\n      });\n\n      let _this = this;\n\n      let param = {};\n      let url = \"\";\n\n      if (value.roleId == null) {\n        param = {\n          'roleName': value.roleName,\n          'roleCode': value.roleCode,\n          'remark': value.remark\n        };\n        url = \"/role/save/\";\n      } else {\n        param = {\n          'roleId': value.roleId,\n          'roleName': value.roleName,\n          'roleCode': value.roleCode,\n          'remark': value.remark\n        };\n        url = '/role/update/';\n      }\n\n      Util.ajax({\n        url: url,\n        data: param\n      }).then(res => {\n        _this.setState({\n          loading: false\n        });\n\n        if (res.code === 200) {\n          message.success(res.message);\n\n          _this.setState({\n            modalVisible: false,\n            searchValue: {}\n          });\n\n          _this.addItemForm.current.resetFields();\n        } else {\n          message.error(res.message);\n        }\n      });\n    };\n\n    this.addItemCancel = () => {\n      this.setState({\n        modalVisible: false\n      });\n    };\n\n    this.handleEdit = record => {\n      let _this = this;\n\n      Util.ajax({\n        url: '/role/get/' + record.key,\n        data: {}\n      }).then(res => {\n        if (res.code === 200) {\n          _this.setState({\n            modalVisible: true,\n            modalTitle: \"修改角色\"\n          });\n\n          _this.addItemForm.current.setFieldsValue({\n            roleId: res.data.data.roleId,\n            roleName: res.data.data.roleName,\n            roleCode: res.data.data.roleCode,\n            remark: res.data.data.remark\n          });\n        } else {\n          message.error(res.message);\n        }\n      });\n    };\n\n    this.menuRoleItemCancel = () => {\n      this.setState({\n        menuRoleModalVisible: false\n      });\n    };\n\n    this.handleSetMenu = record => {\n      const _this = this;\n\n      this.setState({\n        loading: true\n      });\n      Util.ajax({\n        url: '/user/queryRoleMenu/' + record.key,\n        data: {}\n      }).then(res => {\n        if (res.code === 200) {\n          _this.setState({\n            selectRoleId: record.key,\n            menuRoleModalVisible: true,\n            loading: false,\n            selectMenuIds: res.data.data.map(item => {\n              return item.menuId + \"\";\n            })\n          });\n        } else {\n          message.error(res.message);\n        }\n      });\n    };\n\n    this.handleSetRoleMenu = values => {\n      let _this = this;\n\n      _this.setState({\n        loading: true,\n        menuRoleModalVisible: false\n      });\n\n      Util.ajax({\n        url: '/user/setRoleMenu/',\n        data: {\n          'roleId': _this.state.selectRoleId,\n          'menuIds': _this.state.selectMenuIds\n        }\n      }).then(res => {\n        _this.setState({\n          loading: false\n        });\n\n        if (res.code === 200) {\n          message.success(res.message);\n\n          _this.setState({\n            loading: false,\n            menuRoleModalVisible: false\n          });\n        } else {\n          message.error(res.message);\n        }\n      });\n    };\n\n    this.addItemForm = React.createRef();\n    this.formRef = React.createRef();\n    this.initTreeNode();\n    message.loading({\n      content: \"页面正在加载...\",\n      duration: 0,\n      key: pageLoading\n    });\n  }\n\n  //第一次加载树形菜单数据\n  initTreeNode() {\n    Util.ajax({\n      url: '/menu/query',\n      data: {\n        \"startIndex\": 1,\n        \"pageSize\": 9999\n      }\n    }).then(res => {\n      if (res.code === 200) {\n        this.setState({\n          initTreeNodeData: res.data.data\n        });\n      } else {\n        message.error(res.message);\n      }\n    });\n  }\n\n  //从tree组件获取所选值\n  getSelectRoleMenu(values) {\n    this.setState({\n      selectMenuIds: values\n    });\n  } //获取角色已经设置的菜单\n\n\n  componentDidMount() {\n    message.success({\n      content: \"页面加载成功！\",\n      duration: 2,\n      key: pageLoading\n    });\n  }\n\n  render() {\n    return React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }, React.createElement(Row, {\n      gutter: [10, 10],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }, React.createElement(Col, {\n      span: 24,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, React.createElement(Card, {\n      title: \"\\u67E5\\u8BE2\\u6761\\u4EF6\",\n      bordered: false,\n      size: \"small\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }, React.createElement(Form, {\n      onFinish: this.onSearch,\n      layout: \"inline\",\n      ref: this.formRef,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, React.createElement(Form.Item, {\n      label: \"\\u89D2\\u8272\\u540D\\u79F0\",\n      name: \"roleName\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    }, React.createElement(Input, {\n      placeholder: \"\\u8BF7\\u8F93\\u5165\\u5173\\u952E\\u5B57\",\n      autoComplete: \"off\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    })), React.createElement(Form.Item, {\n      label: \"\\u89D2\\u8272\\u7F16\\u7801\",\n      name: \"roleCode\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241\n      },\n      __self: this\n    }, React.createElement(Input, {\n      placeholder: \"\\u8BF7\\u8F93\\u5165\\u5173\\u952E\\u5B57\",\n      autoComplete: \"off\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245\n      },\n      __self: this\n    })), React.createElement(Form.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    }, React.createElement(Button, {\n      type: \"primary\",\n      htmlType: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      },\n      __self: this\n    }, \"\\u67E5\\u8BE2\")), React.createElement(Form.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253\n      },\n      __self: this\n    }, React.createElement(Button, {\n      htmlType: \"button\",\n      onClick: this.onReset,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254\n      },\n      __self: this\n    }, \"\\u91CD\\u7F6E\"))))), React.createElement(Col, {\n      span: 24,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259\n      },\n      __self: this\n    }, React.createElement(Card, {\n      title: \"\\u67E5\\u8BE2\\u7ED3\\u679C\",\n      bordered: false,\n      size: \"small\",\n      extra: React.createElement(Button, {\n        type: \"primary\",\n        icon: React.createElement(PlusOutlined, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 267\n          },\n          __self: this\n        }),\n        onClick: this.addItem,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265\n        },\n        __self: this\n      }, \"\\u65B0\\u589E\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260\n      },\n      __self: this\n    }, React.createElement(Datatable, {\n      searchValue: this.state.searchValue,\n      handleEdit: this.handleEdit,\n      handleSetMenu: this.handleSetMenu,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272\n      },\n      __self: this\n    })))), React.createElement(Modal, {\n      title: this.state.modalTitle,\n      maskClosable: false,\n      visible: this.state.modalVisible,\n      onOk: this.addItemOk,\n      onCancel: this.addItemCancel,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278\n      },\n      __self: this\n    }, React.createElement(Form, Object.assign({}, layout, {\n      ref: this.addItemForm,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285\n      },\n      __self: this\n    }), React.createElement(Form.Item, {\n      name: \"roleId\",\n      rules: [],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289\n      },\n      __self: this\n    }, React.createElement(Input, {\n      type: \"hidden\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293\n      },\n      __self: this\n    })), React.createElement(Form.Item, {\n      label: \"\\u89D2\\u8272\\u540D\\u79F0\",\n      name: \"roleName\",\n      rules: [{\n        required: true,\n        message: '角色名称不能为空！'\n      }],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295\n      },\n      __self: this\n    }, React.createElement(Input, {\n      placeholder: \"\\u8BF7\\u8F93\\u5165\\u89D2\\u8272\\u540D\\u79F0\",\n      autoComplete: \"off\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303\n      },\n      __self: this\n    })), React.createElement(Form.Item, {\n      label: \"\\u89D2\\u8272\\u7F16\\u7801\",\n      name: \"roleCode\",\n      rules: [{\n        required: true,\n        message: '角色编码不能为空！'\n      }],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308\n      },\n      __self: this\n    }, React.createElement(Input, {\n      placeholder: \"\\u8BF7\\u8F93\\u5165\\u89D2\\u8272\\u7F16\\u7801\",\n      autoComplete: \"off\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316\n      },\n      __self: this\n    })), React.createElement(Form.Item, {\n      label: \"\\u5907\\u6CE8\",\n      name: \"remark\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321\n      },\n      __self: this\n    }, React.createElement(TextArea, {\n      style: {\n        height: 100,\n        overflowY: \"auto\"\n      },\n      placeholder: \"\\u8BF7\\u8F93\\u5165\\u5907\\u6CE8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325\n      },\n      __self: this\n    })))), React.createElement(Modal, {\n      title: '设置菜单',\n      visible: this.state.menuRoleModalVisible,\n      maskClosable: false,\n      confirmLoading: this.state.loading,\n      onCancel: this.menuRoleItemCancel,\n      onOk: this.handleSetRoleMenu,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331\n      },\n      __self: this\n    }, React.createElement(TreeSet, {\n      selectMenuIds: this.state.selectMenuIds,\n      getSelectRoleMenu: this.getSelectRoleMenu.bind(this),\n      initTreeNodeData: this.state.initTreeNodeData,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default RoleList;","map":{"version":3,"sources":["/Users/ifudata/eclipse-workspace/screen-web/src/components/Home/RoleList/index.js"],"names":["React","Component","Fragment","Row","Col","Form","Input","Button","Card","Modal","message","PlusOutlined","Util","Datatable","TreeSet","TextArea","layout","labelCol","span","wrapperCol","pageLoading","RoleList","constructor","props","state","searchValue","modalVisible","loading","modalTitle","menuRoleModalVisible","selectRoleId","selectMenuIds","initTreeNodeData","onSearch","value","Math","random","setState","onReset","formRef","current","resetFields","addItem","addItemOk","addItemForm","getFieldsValue","_this","param","url","roleId","roleName","roleCode","remark","ajax","data","then","res","code","success","error","addItemCancel","handleEdit","record","key","setFieldsValue","menuRoleItemCancel","handleSetMenu","map","item","menuId","handleSetRoleMenu","values","createRef","initTreeNode","content","duration","getSelectRoleMenu","componentDidMount","render","required","height","overflowY","bind"],"mappings":"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","sourcesContent":["import React,{Component,Fragment} from 'react'\r\nimport { \r\n\tRow,\r\n\tCol,\r\n\tForm,\r\n\tInput,\r\n\tButton,\r\n\tCard,\r\n\tModal,\r\n\tmessage\r\n} from 'antd';\r\nimport { PlusOutlined } from '@ant-design/icons';\r\nimport Util from '../../../util';\r\nimport Datatable from './table.js';\r\nimport TreeSet from './tree.js';\r\n\r\nconst { TextArea } = Input;\r\n\r\nconst layout = {//弹窗表单布局\r\n\tlabelCol: { span: 8 },\r\n\twrapperCol: { span: 12 },\r\n};\r\n\r\nconst pageLoading = \"key\"\r\n\r\nclass RoleList extends Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.addItemForm = React.createRef();\r\n\t\tthis.formRef = React.createRef();\r\n\t\tthis.initTreeNode();\r\n\t\tmessage.loading({\r\n            content:\"页面正在加载...\",\r\n            duration:0,\r\n            key:pageLoading\r\n        })\r\n\t}\r\n\r\n\tstate = {\r\n\t\tsearchValue:{},\r\n\t\tmodalVisible:false,\r\n\t\tloading:false,\r\n\t\tmodalTitle:\"\",\r\n\r\n\t\t//角色菜单权限弹框相关值\r\n\t\tmenuRoleModalVisible : false,\r\n\t\tselectRoleId:0,\r\n\t\tselectMenuIds:[],\r\n\t\tinitTreeNodeData : {},\r\n\r\n\t};\r\n\r\n\tonSearch = (value)=>{\r\n\t\tvalue['refresh']=Math.random();\r\n\t\tthis.setState({\r\n\t\t\tsearchValue:value\r\n\t\t})\r\n\t};\r\n\r\n\tonReset = () => {\r\n\t\tthis.formRef.current.resetFields();\r\n\t};\r\n\r\n\taddItem = ()=>{\r\n\t\tthis.setState({\r\n\t\t\tmodalVisible:true,\r\n\t\t\tmodalTitle:\"新增角色\"\r\n\t\t})\r\n\t};\r\n\r\n\taddItemOk = ()=>{\r\n\t\tlet value = this.addItemForm.current.getFieldsValue();\r\n\t\tthis.setState({loading:true})\r\n\t\tlet _this = this;\r\n\t\tlet param = {};\r\n\t\tlet url = \"\";\r\n\t\tif (value.roleId==null) {\r\n\t\t\tparam = {\r\n\t\t\t\t'roleName':value.roleName,\r\n\t\t\t\t'roleCode':value.roleCode,\r\n\t\t\t\t'remark':value.remark\r\n\t\t\t};\r\n\t\t\turl = \"/role/save/\";\r\n\t\t} else {\r\n\t\t\tparam = {\r\n\t\t\t\t'roleId':value.roleId,\r\n\t\t\t\t'roleName':value.roleName,\r\n\t\t\t\t'roleCode':value.roleCode,\r\n\t\t\t\t'remark':value.remark\r\n\t\t\t};\r\n\t\t\turl = '/role/update/';\r\n\t\t}\r\n\t\tUtil.ajax({\r\n\t\t\turl:url,\r\n\t\t\tdata:param\r\n\t\t}).then((res)=>{\r\n\t\t\t_this.setState({loading:false});\r\n\t\t\tif(res.code === 200){\r\n\t\t\t\tmessage.success(res.message);\r\n\t\t\t\t_this.setState({\r\n\t\t\t\t\tmodalVisible:false, searchValue:{}\r\n\t\t\t\t});\r\n\t\t\t\t_this.addItemForm.current.resetFields();\r\n\t\t\t}else{\r\n\t\t\t\tmessage.error(res.message);\r\n\t\t\t}\r\n\t\t})\r\n\t};\r\n\r\n\taddItemCancel = ()=>{\r\n\t\tthis.setState({\r\n\t\t\tmodalVisible:false\r\n\t\t})\r\n\t};\r\n\r\n\thandleEdit = (record)=>{\r\n\t\tlet _this = this;\r\n\t\tUtil.ajax({\r\n\t\t\turl:'/role/get/'+record.key,\r\n\t\t\tdata:{}\r\n\t\t}).then((res)=>{\r\n\t\t\tif(res.code === 200){\r\n\t\t\t\t_this.setState({modalVisible:true,\r\n\t\t\t\t\tmodalTitle:\"修改角色\"\r\n\t\t\t\t})\r\n\t\t\t\t_this.addItemForm.current.setFieldsValue({\r\n\t\t\t\t\troleId:res.data.data.roleId,\r\n\t\t\t\t\troleName:res.data.data.roleName,\r\n\t\t\t\t\troleCode:res.data.data.roleCode,\r\n\t\t\t\t\tremark:res.data.data.remark\r\n\t\t\t\t});\r\n\t\t\t}else{\r\n\t\t\t\tmessage.error(res.message);\r\n\t\t\t}\r\n\t\t})\r\n\t};\r\n\r\n\r\n\t//第一次加载树形菜单数据\r\n\tinitTreeNode(){\r\n\t\tUtil.ajax({\r\n\t\t\turl:'/menu/query',\r\n\t\t\tdata:{\"startIndex\":1,\"pageSize\":9999\r\n\t\t\t}\r\n\t\t}).then((res)=>{\r\n\t\t\tif(res.code === 200){\r\n\t\t\t\tthis.setState({initTreeNodeData: res.data.data})\r\n\t\t\t}else{\r\n\t\t\t\tmessage.error(res.message);\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tmenuRoleItemCancel = ()=>{\r\n\t\tthis.setState({\r\n\t\t\tmenuRoleModalVisible:false\r\n\t\t})\r\n\t};\r\n\r\n\t//从tree组件获取所选值\r\n\tgetSelectRoleMenu(values){\r\n\t\tthis.setState({selectMenuIds:values});\r\n\t}\r\n\r\n\t//获取角色已经设置的菜单\r\n\thandleSetMenu = (record)=>{\r\n\t\tconst _this = this;\r\n\t\tthis.setState({loading: true})\r\n\t\tUtil.ajax({\r\n\t\t\turl:'/user/queryRoleMenu/'+record.key,\r\n\t\t\tdata:{}\r\n\t\t}).then((res)=>{\r\n\t\t\tif(res.code === 200){\r\n\t\t\t\t_this.setState({\r\n\t\t\t\t\tselectRoleId:record.key,\r\n\t\t\t\t\tmenuRoleModalVisible:true,\r\n\t\t\t\t\tloading: false,\r\n\t\t\t\t\tselectMenuIds:res.data.data.map((item)=>{\r\n\t\t\t\t\t\treturn item.menuId+\"\"\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t}else{\r\n\t\t\t\tmessage.error(res.message);\r\n\t\t\t}\r\n\t\t})\r\n\t};\r\n\r\n\t//设置角色菜单关系     确定按钮事件\r\n\thandleSetRoleMenu = (values)=>{\r\n\t\tlet _this = this;\r\n\t\t_this.setState({loading: true,menuRoleModalVisible:false});\r\n\t\tUtil.ajax({\r\n\t\t\turl:'/user/setRoleMenu/',\r\n\t\t\tdata:{'roleId':_this.state.selectRoleId,'menuIds':_this.state.selectMenuIds}\r\n\t\t}).then((res)=>{\r\n\t\t\t_this.setState({loading:false})\r\n\t\t\tif(res.code === 200){\r\n\t\t\t\tmessage.success(res.message);\r\n\t\t\t\t_this.setState({loading: false,menuRoleModalVisible:false});\r\n\t\t\t}else{\r\n\t\t\t\tmessage.error(res.message);\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tcomponentDidMount(){\r\n        message.success({\r\n            content:\"页面加载成功！\",\r\n            duration:2,\r\n            key:pageLoading\r\n        })\r\n    }\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t\t<Row\r\n\t\t\t\t\tgutter={[10,10]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Col span={24}>\r\n\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\ttitle=\"查询条件\" \r\n\t\t\t\t\t\t\tbordered={false}\r\n\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Form\r\n\t\t\t\t\t\t\t\tonFinish={this.onSearch}\r\n\t\t\t\t\t\t\t\tlayout=\"inline\"\r\n\t\t\t\t\t\t\t\tref={this.formRef}\r\n\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tlabel=\"角色名称\"\r\n\t\t\t\t\t\t\t\t\tname=\"roleName\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Input \r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"请输入关键字\"\r\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tlabel=\"角色编码\"\r\n\t\t\t\t\t\t\t\t\tname=\"roleCode\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"请输入关键字\"\r\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item>\r\n\t\t\t\t\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">查询</Button>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item>\r\n\t\t\t\t\t\t\t\t\t<Button htmlType=\"button\" onClick={this.onReset}>重置</Button>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col span={24}>\r\n\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\ttitle=\"查询结果\" \r\n\t\t\t\t\t\t\tbordered={false}\r\n\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\textra={\r\n\t\t\t\t\t\t\t\t<Button \r\n\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\ticon={<PlusOutlined />}\r\n\t\t\t\t\t\t\t\t\tonClick={this.addItem}\r\n\t\t\t\t\t\t\t\t>新增</Button>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Datatable\r\n\t\t\t\t\t\t\t\tsearchValue={this.state.searchValue} handleEdit={this.handleEdit} handleSetMenu={this.handleSetMenu}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<Modal\r\n\t\t\t\t\ttitle={this.state.modalTitle}\r\n\t\t\t\t\tmaskClosable={false}\r\n\t\t\t\t\tvisible={this.state.modalVisible}\r\n\t\t\t\t\tonOk={this.addItemOk}\r\n\t\t\t\t\tonCancel={this.addItemCancel}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Form\r\n\t\t\t\t\t\t{...layout}\r\n\t\t\t\t\t\tref={this.addItemForm}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tname=\"roleId\"\r\n\t\t\t\t\t\t\trules={[]}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Input type=\"hidden\"/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tlabel=\"角色名称\"\r\n\t\t\t\t\t\t\tname=\"roleName\"\r\n\t\t\t\t\t\t\trules={[{\r\n\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\tmessage: '角色名称不能为空！',\r\n\t\t\t\t\t\t\t}]}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Input \r\n\t\t\t\t\t\t\t\tplaceholder=\"请输入角色名称\"\r\n\t\t\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tlabel=\"角色编码\"\r\n\t\t\t\t\t\t\tname=\"roleCode\"\r\n\t\t\t\t\t\t\trules={[{\r\n\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\tmessage: '角色编码不能为空！',\r\n\t\t\t\t\t\t\t}]}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Input \r\n\t\t\t\t\t\t\t\tplaceholder=\"请输入角色编码\"\r\n\t\t\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tlabel=\"备注\"\r\n\t\t\t\t\t\t\tname=\"remark\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<TextArea style={{height:100,overflowY:\"auto\"}} placeholder=\"请输入备注\"/>\r\n\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</Modal>\r\n\r\n\t\t\t\t<Modal\r\n\t\t\t\t\ttitle={'设置菜单'}\r\n\t\t\t\t\tvisible={this.state.menuRoleModalVisible}\r\n\t\t\t\t\tmaskClosable={false}\r\n\t\t\t\t\tconfirmLoading={this.state.loading}\r\n\t\t\t\t\tonCancel={this.menuRoleItemCancel}\r\n\t\t\t\t\tonOk={this.handleSetRoleMenu}\r\n\t\t\t\t>\r\n\t\t\t\t\t<TreeSet selectMenuIds={this.state.selectMenuIds}  getSelectRoleMenu = {this.getSelectRoleMenu.bind(this)} initTreeNodeData={this.state.initTreeNodeData} ></TreeSet>\r\n\t\t\t\t</Modal>\r\n\r\n\t\t\t</Fragment>\r\n\t\t)\r\n\t}\r\n}\r\nexport default RoleList;"]},"metadata":{},"sourceType":"module"}