{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar __param = this && this.__param || function (paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\n\nimport { dispose } from '../../../base/common/lifecycle.js';\nimport { IContextKeyService, RawContextKey } from '../../../platform/contextkey/common/contextkey.js';\n\nvar SuggestAlternatives =\n/** @class */\nfunction () {\n  function SuggestAlternatives(_editor, contextKeyService) {\n    this._editor = _editor;\n    this._index = 0;\n    this._ckOtherSuggestions = SuggestAlternatives.OtherSuggestions.bindTo(contextKeyService);\n  }\n\n  SuggestAlternatives.prototype.dispose = function () {\n    this.reset();\n  };\n\n  SuggestAlternatives.prototype.reset = function () {\n    this._ckOtherSuggestions.reset();\n\n    dispose(this._listener);\n    this._model = undefined;\n    this._acceptNext = undefined;\n    this._ignore = false;\n  };\n\n  SuggestAlternatives.prototype.set = function (_a, acceptNext) {\n    var _this = this;\n\n    var model = _a.model,\n        index = _a.index; // no suggestions -> nothing to do\n\n    if (model.items.length === 0) {\n      this.reset();\n      return;\n    } // no alternative suggestions -> nothing to do\n\n\n    var nextIndex = SuggestAlternatives._moveIndex(true, model, index);\n\n    if (nextIndex === index) {\n      this.reset();\n      return;\n    }\n\n    this._acceptNext = acceptNext;\n    this._model = model;\n    this._index = index;\n    this._listener = this._editor.onDidChangeCursorPosition(function () {\n      if (!_this._ignore) {\n        _this.reset();\n      }\n    });\n\n    this._ckOtherSuggestions.set(true);\n  };\n\n  SuggestAlternatives._moveIndex = function (fwd, model, index) {\n    var newIndex = index;\n\n    while (true) {\n      newIndex = (newIndex + model.items.length + (fwd ? +1 : -1)) % model.items.length;\n\n      if (newIndex === index) {\n        break;\n      }\n\n      if (!model.items[newIndex].completion.additionalTextEdits) {\n        break;\n      }\n    }\n\n    return newIndex;\n  };\n\n  SuggestAlternatives.prototype.next = function () {\n    this._move(true);\n  };\n\n  SuggestAlternatives.prototype.prev = function () {\n    this._move(false);\n  };\n\n  SuggestAlternatives.prototype._move = function (fwd) {\n    if (!this._model) {\n      // nothing to reason about\n      return;\n    }\n\n    try {\n      this._ignore = true;\n      this._index = SuggestAlternatives._moveIndex(fwd, this._model, this._index);\n\n      this._acceptNext({\n        index: this._index,\n        item: this._model.items[this._index],\n        model: this._model\n      });\n    } finally {\n      this._ignore = false;\n    }\n  };\n\n  SuggestAlternatives.OtherSuggestions = new RawContextKey('hasOtherSuggestions', false);\n  SuggestAlternatives = __decorate([__param(1, IContextKeyService)], SuggestAlternatives);\n  return SuggestAlternatives;\n}();\n\nexport { SuggestAlternatives };","map":{"version":3,"sources":["/Users/ifudata/eclipse-workspace/screen-web/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/suggestAlternatives.js"],"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","dispose","IContextKeyService","RawContextKey","SuggestAlternatives","_editor","contextKeyService","_index","_ckOtherSuggestions","OtherSuggestions","bindTo","prototype","reset","_listener","_model","undefined","_acceptNext","_ignore","set","_a","acceptNext","_this","model","index","items","nextIndex","_moveIndex","onDidChangeCursorPosition","fwd","newIndex","completion","additionalTextEdits","next","_move","prev","item"],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport { dispose } from '../../../base/common/lifecycle.js';\r\nimport { IContextKeyService, RawContextKey } from '../../../platform/contextkey/common/contextkey.js';\r\nvar SuggestAlternatives = /** @class */ (function () {\r\n    function SuggestAlternatives(_editor, contextKeyService) {\r\n        this._editor = _editor;\r\n        this._index = 0;\r\n        this._ckOtherSuggestions = SuggestAlternatives.OtherSuggestions.bindTo(contextKeyService);\r\n    }\r\n    SuggestAlternatives.prototype.dispose = function () {\r\n        this.reset();\r\n    };\r\n    SuggestAlternatives.prototype.reset = function () {\r\n        this._ckOtherSuggestions.reset();\r\n        dispose(this._listener);\r\n        this._model = undefined;\r\n        this._acceptNext = undefined;\r\n        this._ignore = false;\r\n    };\r\n    SuggestAlternatives.prototype.set = function (_a, acceptNext) {\r\n        var _this = this;\r\n        var model = _a.model, index = _a.index;\r\n        // no suggestions -> nothing to do\r\n        if (model.items.length === 0) {\r\n            this.reset();\r\n            return;\r\n        }\r\n        // no alternative suggestions -> nothing to do\r\n        var nextIndex = SuggestAlternatives._moveIndex(true, model, index);\r\n        if (nextIndex === index) {\r\n            this.reset();\r\n            return;\r\n        }\r\n        this._acceptNext = acceptNext;\r\n        this._model = model;\r\n        this._index = index;\r\n        this._listener = this._editor.onDidChangeCursorPosition(function () {\r\n            if (!_this._ignore) {\r\n                _this.reset();\r\n            }\r\n        });\r\n        this._ckOtherSuggestions.set(true);\r\n    };\r\n    SuggestAlternatives._moveIndex = function (fwd, model, index) {\r\n        var newIndex = index;\r\n        while (true) {\r\n            newIndex = (newIndex + model.items.length + (fwd ? +1 : -1)) % model.items.length;\r\n            if (newIndex === index) {\r\n                break;\r\n            }\r\n            if (!model.items[newIndex].completion.additionalTextEdits) {\r\n                break;\r\n            }\r\n        }\r\n        return newIndex;\r\n    };\r\n    SuggestAlternatives.prototype.next = function () {\r\n        this._move(true);\r\n    };\r\n    SuggestAlternatives.prototype.prev = function () {\r\n        this._move(false);\r\n    };\r\n    SuggestAlternatives.prototype._move = function (fwd) {\r\n        if (!this._model) {\r\n            // nothing to reason about\r\n            return;\r\n        }\r\n        try {\r\n            this._ignore = true;\r\n            this._index = SuggestAlternatives._moveIndex(fwd, this._model, this._index);\r\n            this._acceptNext({ index: this._index, item: this._model.items[this._index], model: this._model });\r\n        }\r\n        finally {\r\n            this._ignore = false;\r\n        }\r\n    };\r\n    SuggestAlternatives.OtherSuggestions = new RawContextKey('hasOtherSuggestions', false);\r\n    SuggestAlternatives = __decorate([\r\n        __param(1, IContextKeyService)\r\n    ], SuggestAlternatives);\r\n    return SuggestAlternatives;\r\n}());\r\nexport { SuggestAlternatives };\r\n"]},"metadata":{},"sourceType":"module"}