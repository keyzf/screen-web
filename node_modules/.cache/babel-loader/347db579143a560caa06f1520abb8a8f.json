{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nimport { sanitizeRanges } from './syntaxRangeProvider.js';\nexport var ID_INIT_PROVIDER = 'init';\n\nvar InitializingRangeProvider =\n/** @class */\nfunction () {\n  function InitializingRangeProvider(editorModel, initialRanges, onTimeout, timeoutTime) {\n    this.editorModel = editorModel;\n    this.id = ID_INIT_PROVIDER;\n\n    if (initialRanges.length) {\n      var toDecorationRange = function (range) {\n        return {\n          range: {\n            startLineNumber: range.startLineNumber,\n            startColumn: 0,\n            endLineNumber: range.endLineNumber,\n            endColumn: editorModel.getLineLength(range.endLineNumber)\n          },\n          options: {\n            stickiness: 1\n            /* NeverGrowsWhenTypingAtEdges */\n\n          }\n        };\n      };\n\n      this.decorationIds = editorModel.deltaDecorations([], initialRanges.map(toDecorationRange));\n      this.timeout = setTimeout(onTimeout, timeoutTime);\n    }\n  }\n\n  InitializingRangeProvider.prototype.dispose = function () {\n    if (this.decorationIds) {\n      this.editorModel.deltaDecorations(this.decorationIds, []);\n      this.decorationIds = undefined;\n    }\n\n    if (typeof this.timeout === 'number') {\n      clearTimeout(this.timeout);\n      this.timeout = undefined;\n    }\n  };\n\n  InitializingRangeProvider.prototype.compute = function (cancelationToken) {\n    var foldingRangeData = [];\n\n    if (this.decorationIds) {\n      for (var _i = 0, _a = this.decorationIds; _i < _a.length; _i++) {\n        var id = _a[_i];\n        var range = this.editorModel.getDecorationRange(id);\n\n        if (range) {\n          foldingRangeData.push({\n            start: range.startLineNumber,\n            end: range.endLineNumber,\n            rank: 1\n          });\n        }\n      }\n    }\n\n    return Promise.resolve(sanitizeRanges(foldingRangeData, Number.MAX_VALUE));\n  };\n\n  return InitializingRangeProvider;\n}();\n\nexport { InitializingRangeProvider };","map":{"version":3,"sources":["/Users/ifudata/eclipse-workspace/screen-web/node_modules/monaco-editor/esm/vs/editor/contrib/folding/intializingRangeProvider.js"],"names":["sanitizeRanges","ID_INIT_PROVIDER","InitializingRangeProvider","editorModel","initialRanges","onTimeout","timeoutTime","id","length","toDecorationRange","range","startLineNumber","startColumn","endLineNumber","endColumn","getLineLength","options","stickiness","decorationIds","deltaDecorations","map","timeout","setTimeout","prototype","dispose","undefined","clearTimeout","compute","cancelationToken","foldingRangeData","_i","_a","getDecorationRange","push","start","end","rank","Promise","resolve","Number","MAX_VALUE"],"mappings":"AAAA;;;;AAIA,SAASA,cAAT,QAA+B,0BAA/B;AACA,OAAO,IAAIC,gBAAgB,GAAG,MAAvB;;AACP,IAAIC,yBAAyB;AAAG;AAAe,YAAY;AACvD,WAASA,yBAAT,CAAmCC,WAAnC,EAAgDC,aAAhD,EAA+DC,SAA/D,EAA0EC,WAA1E,EAAuF;AACnF,SAAKH,WAAL,GAAmBA,WAAnB;AACA,SAAKI,EAAL,GAAUN,gBAAV;;AACA,QAAIG,aAAa,CAACI,MAAlB,EAA0B;AACtB,UAAIC,iBAAiB,GAAG,UAAUC,KAAV,EAAiB;AACrC,eAAO;AACHA,UAAAA,KAAK,EAAE;AACHC,YAAAA,eAAe,EAAED,KAAK,CAACC,eADpB;AAEHC,YAAAA,WAAW,EAAE,CAFV;AAGHC,YAAAA,aAAa,EAAEH,KAAK,CAACG,aAHlB;AAIHC,YAAAA,SAAS,EAAEX,WAAW,CAACY,aAAZ,CAA0BL,KAAK,CAACG,aAAhC;AAJR,WADJ;AAOHG,UAAAA,OAAO,EAAE;AACLC,YAAAA,UAAU,EAAE;AAAE;;AADT;AAPN,SAAP;AAWH,OAZD;;AAaA,WAAKC,aAAL,GAAqBf,WAAW,CAACgB,gBAAZ,CAA6B,EAA7B,EAAiCf,aAAa,CAACgB,GAAd,CAAkBX,iBAAlB,CAAjC,CAArB;AACA,WAAKY,OAAL,GAAeC,UAAU,CAACjB,SAAD,EAAYC,WAAZ,CAAzB;AACH;AACJ;;AACDJ,EAAAA,yBAAyB,CAACqB,SAA1B,CAAoCC,OAApC,GAA8C,YAAY;AACtD,QAAI,KAAKN,aAAT,EAAwB;AACpB,WAAKf,WAAL,CAAiBgB,gBAAjB,CAAkC,KAAKD,aAAvC,EAAsD,EAAtD;AACA,WAAKA,aAAL,GAAqBO,SAArB;AACH;;AACD,QAAI,OAAO,KAAKJ,OAAZ,KAAwB,QAA5B,EAAsC;AAClCK,MAAAA,YAAY,CAAC,KAAKL,OAAN,CAAZ;AACA,WAAKA,OAAL,GAAeI,SAAf;AACH;AACJ,GATD;;AAUAvB,EAAAA,yBAAyB,CAACqB,SAA1B,CAAoCI,OAApC,GAA8C,UAAUC,gBAAV,EAA4B;AACtE,QAAIC,gBAAgB,GAAG,EAAvB;;AACA,QAAI,KAAKX,aAAT,EAAwB;AACpB,WAAK,IAAIY,EAAE,GAAG,CAAT,EAAYC,EAAE,GAAG,KAAKb,aAA3B,EAA0CY,EAAE,GAAGC,EAAE,CAACvB,MAAlD,EAA0DsB,EAAE,EAA5D,EAAgE;AAC5D,YAAIvB,EAAE,GAAGwB,EAAE,CAACD,EAAD,CAAX;AACA,YAAIpB,KAAK,GAAG,KAAKP,WAAL,CAAiB6B,kBAAjB,CAAoCzB,EAApC,CAAZ;;AACA,YAAIG,KAAJ,EAAW;AACPmB,UAAAA,gBAAgB,CAACI,IAAjB,CAAsB;AAAEC,YAAAA,KAAK,EAAExB,KAAK,CAACC,eAAf;AAAgCwB,YAAAA,GAAG,EAAEzB,KAAK,CAACG,aAA3C;AAA0DuB,YAAAA,IAAI,EAAE;AAAhE,WAAtB;AACH;AACJ;AACJ;;AACD,WAAOC,OAAO,CAACC,OAAR,CAAgBtC,cAAc,CAAC6B,gBAAD,EAAmBU,MAAM,CAACC,SAA1B,CAA9B,CAAP;AACH,GAZD;;AAaA,SAAOtC,yBAAP;AACH,CA9C8C,EAA/C;;AA+CA,SAASA,yBAAT","sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { sanitizeRanges } from './syntaxRangeProvider.js';\r\nexport var ID_INIT_PROVIDER = 'init';\r\nvar InitializingRangeProvider = /** @class */ (function () {\r\n    function InitializingRangeProvider(editorModel, initialRanges, onTimeout, timeoutTime) {\r\n        this.editorModel = editorModel;\r\n        this.id = ID_INIT_PROVIDER;\r\n        if (initialRanges.length) {\r\n            var toDecorationRange = function (range) {\r\n                return {\r\n                    range: {\r\n                        startLineNumber: range.startLineNumber,\r\n                        startColumn: 0,\r\n                        endLineNumber: range.endLineNumber,\r\n                        endColumn: editorModel.getLineLength(range.endLineNumber)\r\n                    },\r\n                    options: {\r\n                        stickiness: 1 /* NeverGrowsWhenTypingAtEdges */\r\n                    }\r\n                };\r\n            };\r\n            this.decorationIds = editorModel.deltaDecorations([], initialRanges.map(toDecorationRange));\r\n            this.timeout = setTimeout(onTimeout, timeoutTime);\r\n        }\r\n    }\r\n    InitializingRangeProvider.prototype.dispose = function () {\r\n        if (this.decorationIds) {\r\n            this.editorModel.deltaDecorations(this.decorationIds, []);\r\n            this.decorationIds = undefined;\r\n        }\r\n        if (typeof this.timeout === 'number') {\r\n            clearTimeout(this.timeout);\r\n            this.timeout = undefined;\r\n        }\r\n    };\r\n    InitializingRangeProvider.prototype.compute = function (cancelationToken) {\r\n        var foldingRangeData = [];\r\n        if (this.decorationIds) {\r\n            for (var _i = 0, _a = this.decorationIds; _i < _a.length; _i++) {\r\n                var id = _a[_i];\r\n                var range = this.editorModel.getDecorationRange(id);\r\n                if (range) {\r\n                    foldingRangeData.push({ start: range.startLineNumber, end: range.endLineNumber, rank: 1 });\r\n                }\r\n            }\r\n        }\r\n        return Promise.resolve(sanitizeRanges(foldingRangeData, Number.MAX_VALUE));\r\n    };\r\n    return InitializingRangeProvider;\r\n}());\r\nexport { InitializingRangeProvider };\r\n"]},"metadata":{},"sourceType":"module"}