{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar __param = this && this.__param || function (paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function () {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) try {\n      if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [op[0] & 2, t.value];\n\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n\n        case 4:\n          _.label++;\n          return {\n            value: op[1],\n            done: false\n          };\n\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n\n        case 7:\n          op = _.ops.pop();\n\n          _.trys.pop();\n\n          continue;\n\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n\n            _.ops.push(op);\n\n            break;\n          }\n\n          if (t[2]) _.ops.pop();\n\n          _.trys.pop();\n\n          continue;\n      }\n\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nvar __spreadArrays = this && this.__spreadArrays || function () {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) r[k] = a[j];\n\n  return r;\n};\n\nimport { Lazy } from '../../../base/common/lazy.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { escapeRegExpCharacters } from '../../../base/common/strings.js';\nimport { EditorAction, EditorCommand } from '../../browser/editorExtensions.js';\nimport { IBulkEditService } from '../../browser/services/bulkEditService.js';\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\nimport { codeActionCommandId, fixAllCommandId, organizeImportsCommandId, refactorCommandId, sourceActionCommandId } from './codeAction.js';\nimport { CodeActionUi } from './codeActionUi.js';\nimport { MessageController } from '../message/messageController.js';\nimport * as nls from '../../../nls.js';\nimport { ICommandService } from '../../../platform/commands/common/commands.js';\nimport { ContextKeyExpr, IContextKeyService } from '../../../platform/contextkey/common/contextkey.js';\nimport { IInstantiationService } from '../../../platform/instantiation/common/instantiation.js';\nimport { IMarkerService } from '../../../platform/markers/common/markers.js';\nimport { INotificationService } from '../../../platform/notification/common/notification.js';\nimport { IEditorProgressService } from '../../../platform/progress/common/progress.js';\nimport { ITelemetryService } from '../../../platform/telemetry/common/telemetry.js';\nimport { CodeActionModel, SUPPORTED_CODE_ACTIONS } from './codeActionModel.js';\nimport { CodeActionCommandArgs, CodeActionKind } from './types.js';\n\nfunction contextKeyForSupportedActions(kind) {\n  return ContextKeyExpr.regex(SUPPORTED_CODE_ACTIONS.keys()[0], new RegExp('(\\\\s|^)' + escapeRegExpCharacters(kind.value) + '\\\\b'));\n}\n\nvar argsSchema = {\n  type: 'object',\n  required: ['kind'],\n  defaultSnippets: [{\n    body: {\n      kind: ''\n    }\n  }],\n  properties: {\n    'kind': {\n      type: 'string',\n      description: nls.localize('args.schema.kind', \"Kind of the code action to run.\")\n    },\n    'apply': {\n      type: 'string',\n      description: nls.localize('args.schema.apply', \"Controls when the returned actions are applied.\"),\n      default: \"ifSingle\"\n      /* IfSingle */\n      ,\n      enum: [\"first\"\n      /* First */\n      , \"ifSingle\"\n      /* IfSingle */\n      , \"never\"\n      /* Never */\n      ],\n      enumDescriptions: [nls.localize('args.schema.apply.first', \"Always apply the first returned code action.\"), nls.localize('args.schema.apply.ifSingle', \"Apply the first returned code action if it is the only one.\"), nls.localize('args.schema.apply.never', \"Do not apply the returned code actions.\")]\n    },\n    'preferred': {\n      type: 'boolean',\n      default: false,\n      description: nls.localize('args.schema.preferred', \"Controls if only preferred code actions should be returned.\")\n    }\n  }\n};\n\nvar QuickFixController =\n/** @class */\nfunction (_super) {\n  __extends(QuickFixController, _super);\n\n  function QuickFixController(editor, markerService, contextKeyService, progressService, _instantiationService) {\n    var _this = _super.call(this) || this;\n\n    _this._instantiationService = _instantiationService;\n    _this._editor = editor;\n    _this._model = _this._register(new CodeActionModel(_this._editor, markerService, contextKeyService, progressService));\n\n    _this._register(_this._model.onDidChangeState(function (newState) {\n      return _this.update(newState);\n    }));\n\n    _this._ui = new Lazy(function () {\n      return _this._register(new CodeActionUi(editor, QuickFixAction.Id, AutoFixAction.Id, {\n        applyCodeAction: function (action, retrigger) {\n          return __awaiter(_this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n              switch (_a.label) {\n                case 0:\n                  _a.trys.push([0,, 2, 3]);\n\n                  return [4\n                  /*yield*/\n                  , this._applyCodeAction(action)];\n\n                case 1:\n                  _a.sent();\n\n                  return [3\n                  /*break*/\n                  , 3];\n\n                case 2:\n                  if (retrigger) {\n                    this._trigger({\n                      type: 1\n                      /* Auto */\n                      ,\n                      filter: {}\n                    });\n                  }\n\n                  return [7\n                  /*endfinally*/\n                  ];\n\n                case 3:\n                  return [2\n                  /*return*/\n                  ];\n              }\n            });\n          });\n        }\n      }, _this._instantiationService));\n    });\n    return _this;\n  }\n\n  QuickFixController.get = function (editor) {\n    return editor.getContribution(QuickFixController.ID);\n  };\n\n  QuickFixController.prototype.update = function (newState) {\n    this._ui.getValue().update(newState);\n  };\n\n  QuickFixController.prototype.showCodeActions = function (trigger, actions, at) {\n    return this._ui.getValue().showCodeActionList(trigger, actions, at, {\n      includeDisabledActions: false\n    });\n  };\n\n  QuickFixController.prototype.manualTriggerAtCurrentPosition = function (notAvailableMessage, filter, autoApply) {\n    if (!this._editor.hasModel()) {\n      return;\n    }\n\n    MessageController.get(this._editor).closeMessage();\n\n    var triggerPosition = this._editor.getPosition();\n\n    this._trigger({\n      type: 2\n      /* Manual */\n      ,\n      filter: filter,\n      autoApply: autoApply,\n      context: {\n        notAvailableMessage: notAvailableMessage,\n        position: triggerPosition\n      }\n    });\n  };\n\n  QuickFixController.prototype._trigger = function (trigger) {\n    return this._model.trigger(trigger);\n  };\n\n  QuickFixController.prototype._applyCodeAction = function (action) {\n    return this._instantiationService.invokeFunction(applyCodeAction, action, this._editor);\n  };\n\n  QuickFixController.ID = 'editor.contrib.quickFixController';\n  QuickFixController = __decorate([__param(1, IMarkerService), __param(2, IContextKeyService), __param(3, IEditorProgressService), __param(4, IInstantiationService)], QuickFixController);\n  return QuickFixController;\n}(Disposable);\n\nexport { QuickFixController };\nexport function applyCodeAction(accessor, action, editor) {\n  return __awaiter(this, void 0, void 0, function () {\n    var bulkEditService, commandService, telemetryService, notificationService, err_1, message;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          bulkEditService = accessor.get(IBulkEditService);\n          commandService = accessor.get(ICommandService);\n          telemetryService = accessor.get(ITelemetryService);\n          notificationService = accessor.get(INotificationService);\n          telemetryService.publicLog2('codeAction.applyCodeAction', {\n            codeActionTitle: action.title,\n            codeActionKind: action.kind,\n            codeActionIsPreferred: !!action.isPreferred\n          });\n          if (!action.edit) return [3\n          /*break*/\n          , 2];\n          return [4\n          /*yield*/\n          , bulkEditService.apply(action.edit, {\n            editor: editor\n          })];\n\n        case 1:\n          _a.sent();\n\n          _a.label = 2;\n\n        case 2:\n          if (!action.command) return [3\n          /*break*/\n          , 6];\n          _a.label = 3;\n\n        case 3:\n          _a.trys.push([3, 5,, 6]);\n\n          return [4\n          /*yield*/\n          , commandService.executeCommand.apply(commandService, __spreadArrays([action.command.id], action.command.arguments || []))];\n\n        case 4:\n          _a.sent();\n\n          return [3\n          /*break*/\n          , 6];\n\n        case 5:\n          err_1 = _a.sent();\n          message = asMessage(err_1);\n          notificationService.error(typeof message === 'string' ? message : nls.localize('applyCodeActionFailed', \"An unknown error occurred while applying the code action\"));\n          return [3\n          /*break*/\n          , 6];\n\n        case 6:\n          return [2\n          /*return*/\n          ];\n      }\n    });\n  });\n}\n\nfunction asMessage(err) {\n  if (typeof err === 'string') {\n    return err;\n  } else if (err instanceof Error && typeof err.message === 'string') {\n    return err.message;\n  } else {\n    return undefined;\n  }\n}\n\nfunction triggerCodeActionsForEditorSelection(editor, notAvailableMessage, filter, autoApply) {\n  if (editor.hasModel()) {\n    var controller = QuickFixController.get(editor);\n\n    if (controller) {\n      controller.manualTriggerAtCurrentPosition(notAvailableMessage, filter, autoApply);\n    }\n  }\n}\n\nvar QuickFixAction =\n/** @class */\nfunction (_super) {\n  __extends(QuickFixAction, _super);\n\n  function QuickFixAction() {\n    return _super.call(this, {\n      id: QuickFixAction.Id,\n      label: nls.localize('quickfix.trigger.label', \"Quick Fix...\"),\n      alias: 'Quick Fix...',\n      precondition: ContextKeyExpr.and(EditorContextKeys.writable, EditorContextKeys.hasCodeActionsProvider),\n      kbOpts: {\n        kbExpr: EditorContextKeys.editorTextFocus,\n        primary: 2048\n        /* CtrlCmd */\n        | 84\n        /* US_DOT */\n        ,\n        weight: 100\n        /* EditorContrib */\n\n      }\n    }) || this;\n  }\n\n  QuickFixAction.prototype.run = function (_accessor, editor) {\n    return triggerCodeActionsForEditorSelection(editor, nls.localize('editor.action.quickFix.noneMessage', \"No code actions available\"), undefined, undefined);\n  };\n\n  QuickFixAction.Id = 'editor.action.quickFix';\n  return QuickFixAction;\n}(EditorAction);\n\nexport { QuickFixAction };\n\nvar CodeActionCommand =\n/** @class */\nfunction (_super) {\n  __extends(CodeActionCommand, _super);\n\n  function CodeActionCommand() {\n    return _super.call(this, {\n      id: codeActionCommandId,\n      precondition: ContextKeyExpr.and(EditorContextKeys.writable, EditorContextKeys.hasCodeActionsProvider),\n      description: {\n        description: 'Trigger a code action',\n        args: [{\n          name: 'args',\n          schema: argsSchema\n        }]\n      }\n    }) || this;\n  }\n\n  CodeActionCommand.prototype.runEditorCommand = function (_accessor, editor, userArgs) {\n    var args = CodeActionCommandArgs.fromUser(userArgs, {\n      kind: CodeActionKind.Empty,\n      apply: \"ifSingle\"\n      /* IfSingle */\n\n    });\n    return triggerCodeActionsForEditorSelection(editor, typeof (userArgs === null || userArgs === void 0 ? void 0 : userArgs.kind) === 'string' ? args.preferred ? nls.localize('editor.action.codeAction.noneMessage.preferred.kind', \"No preferred code actions for '{0}' available\", userArgs.kind) : nls.localize('editor.action.codeAction.noneMessage.kind', \"No code actions for '{0}' available\", userArgs.kind) : args.preferred ? nls.localize('editor.action.codeAction.noneMessage.preferred', \"No preferred code actions available\") : nls.localize('editor.action.codeAction.noneMessage', \"No code actions available\"), {\n      include: args.kind,\n      includeSourceActions: true,\n      onlyIncludePreferredActions: args.preferred\n    }, args.apply);\n  };\n\n  return CodeActionCommand;\n}(EditorCommand);\n\nexport { CodeActionCommand };\n\nvar RefactorAction =\n/** @class */\nfunction (_super) {\n  __extends(RefactorAction, _super);\n\n  function RefactorAction() {\n    return _super.call(this, {\n      id: refactorCommandId,\n      label: nls.localize('refactor.label', \"Refactor...\"),\n      alias: 'Refactor...',\n      precondition: ContextKeyExpr.and(EditorContextKeys.writable, EditorContextKeys.hasCodeActionsProvider),\n      kbOpts: {\n        kbExpr: EditorContextKeys.editorTextFocus,\n        primary: 2048\n        /* CtrlCmd */\n        | 1024\n        /* Shift */\n        | 48\n        /* KEY_R */\n        ,\n        mac: {\n          primary: 256\n          /* WinCtrl */\n          | 1024\n          /* Shift */\n          | 48\n          /* KEY_R */\n\n        },\n        weight: 100\n        /* EditorContrib */\n\n      },\n      contextMenuOpts: {\n        group: '1_modification',\n        order: 2,\n        when: ContextKeyExpr.and(EditorContextKeys.writable, contextKeyForSupportedActions(CodeActionKind.Refactor))\n      },\n      description: {\n        description: 'Refactor...',\n        args: [{\n          name: 'args',\n          schema: argsSchema\n        }]\n      }\n    }) || this;\n  }\n\n  RefactorAction.prototype.run = function (_accessor, editor, userArgs) {\n    var args = CodeActionCommandArgs.fromUser(userArgs, {\n      kind: CodeActionKind.Refactor,\n      apply: \"never\"\n      /* Never */\n\n    });\n    return triggerCodeActionsForEditorSelection(editor, typeof (userArgs === null || userArgs === void 0 ? void 0 : userArgs.kind) === 'string' ? args.preferred ? nls.localize('editor.action.refactor.noneMessage.preferred.kind', \"No preferred refactorings for '{0}' available\", userArgs.kind) : nls.localize('editor.action.refactor.noneMessage.kind', \"No refactorings for '{0}' available\", userArgs.kind) : args.preferred ? nls.localize('editor.action.refactor.noneMessage.preferred', \"No preferred refactorings available\") : nls.localize('editor.action.refactor.noneMessage', \"No refactorings available\"), {\n      include: CodeActionKind.Refactor.contains(args.kind) ? args.kind : CodeActionKind.None,\n      onlyIncludePreferredActions: args.preferred\n    }, args.apply);\n  };\n\n  return RefactorAction;\n}(EditorAction);\n\nexport { RefactorAction };\n\nvar SourceAction =\n/** @class */\nfunction (_super) {\n  __extends(SourceAction, _super);\n\n  function SourceAction() {\n    return _super.call(this, {\n      id: sourceActionCommandId,\n      label: nls.localize('source.label', \"Source Action...\"),\n      alias: 'Source Action...',\n      precondition: ContextKeyExpr.and(EditorContextKeys.writable, EditorContextKeys.hasCodeActionsProvider),\n      contextMenuOpts: {\n        group: '1_modification',\n        order: 2.1,\n        when: ContextKeyExpr.and(EditorContextKeys.writable, contextKeyForSupportedActions(CodeActionKind.Source))\n      },\n      description: {\n        description: 'Source Action...',\n        args: [{\n          name: 'args',\n          schema: argsSchema\n        }]\n      }\n    }) || this;\n  }\n\n  SourceAction.prototype.run = function (_accessor, editor, userArgs) {\n    var args = CodeActionCommandArgs.fromUser(userArgs, {\n      kind: CodeActionKind.Source,\n      apply: \"never\"\n      /* Never */\n\n    });\n    return triggerCodeActionsForEditorSelection(editor, typeof (userArgs === null || userArgs === void 0 ? void 0 : userArgs.kind) === 'string' ? args.preferred ? nls.localize('editor.action.source.noneMessage.preferred.kind', \"No preferred source actions for '{0}' available\", userArgs.kind) : nls.localize('editor.action.source.noneMessage.kind', \"No source actions for '{0}' available\", userArgs.kind) : args.preferred ? nls.localize('editor.action.source.noneMessage.preferred', \"No preferred source actions available\") : nls.localize('editor.action.source.noneMessage', \"No source actions available\"), {\n      include: CodeActionKind.Source.contains(args.kind) ? args.kind : CodeActionKind.None,\n      includeSourceActions: true,\n      onlyIncludePreferredActions: args.preferred\n    }, args.apply);\n  };\n\n  return SourceAction;\n}(EditorAction);\n\nexport { SourceAction };\n\nvar OrganizeImportsAction =\n/** @class */\nfunction (_super) {\n  __extends(OrganizeImportsAction, _super);\n\n  function OrganizeImportsAction() {\n    return _super.call(this, {\n      id: organizeImportsCommandId,\n      label: nls.localize('organizeImports.label', \"Organize Imports\"),\n      alias: 'Organize Imports',\n      precondition: ContextKeyExpr.and(EditorContextKeys.writable, contextKeyForSupportedActions(CodeActionKind.SourceOrganizeImports)),\n      kbOpts: {\n        kbExpr: EditorContextKeys.editorTextFocus,\n        primary: 1024\n        /* Shift */\n        | 512\n        /* Alt */\n        | 45\n        /* KEY_O */\n        ,\n        weight: 100\n        /* EditorContrib */\n\n      }\n    }) || this;\n  }\n\n  OrganizeImportsAction.prototype.run = function (_accessor, editor) {\n    return triggerCodeActionsForEditorSelection(editor, nls.localize('editor.action.organize.noneMessage', \"No organize imports action available\"), {\n      include: CodeActionKind.SourceOrganizeImports,\n      includeSourceActions: true\n    }, \"ifSingle\"\n    /* IfSingle */\n    );\n  };\n\n  return OrganizeImportsAction;\n}(EditorAction);\n\nexport { OrganizeImportsAction };\n\nvar FixAllAction =\n/** @class */\nfunction (_super) {\n  __extends(FixAllAction, _super);\n\n  function FixAllAction() {\n    return _super.call(this, {\n      id: fixAllCommandId,\n      label: nls.localize('fixAll.label', \"Fix All\"),\n      alias: 'Fix All',\n      precondition: ContextKeyExpr.and(EditorContextKeys.writable, contextKeyForSupportedActions(CodeActionKind.SourceFixAll))\n    }) || this;\n  }\n\n  FixAllAction.prototype.run = function (_accessor, editor) {\n    return triggerCodeActionsForEditorSelection(editor, nls.localize('fixAll.noneMessage', \"No fix all action available\"), {\n      include: CodeActionKind.SourceFixAll,\n      includeSourceActions: true\n    }, \"ifSingle\"\n    /* IfSingle */\n    );\n  };\n\n  return FixAllAction;\n}(EditorAction);\n\nexport { FixAllAction };\n\nvar AutoFixAction =\n/** @class */\nfunction (_super) {\n  __extends(AutoFixAction, _super);\n\n  function AutoFixAction() {\n    return _super.call(this, {\n      id: AutoFixAction.Id,\n      label: nls.localize('autoFix.label', \"Auto Fix...\"),\n      alias: 'Auto Fix...',\n      precondition: ContextKeyExpr.and(EditorContextKeys.writable, contextKeyForSupportedActions(CodeActionKind.QuickFix)),\n      kbOpts: {\n        kbExpr: EditorContextKeys.editorTextFocus,\n        primary: 512\n        /* Alt */\n        | 1024\n        /* Shift */\n        | 84\n        /* US_DOT */\n        ,\n        mac: {\n          primary: 2048\n          /* CtrlCmd */\n          | 512\n          /* Alt */\n          | 84\n          /* US_DOT */\n\n        },\n        weight: 100\n        /* EditorContrib */\n\n      }\n    }) || this;\n  }\n\n  AutoFixAction.prototype.run = function (_accessor, editor) {\n    return triggerCodeActionsForEditorSelection(editor, nls.localize('editor.action.autoFix.noneMessage', \"No auto fixes available\"), {\n      include: CodeActionKind.QuickFix,\n      onlyIncludePreferredActions: true\n    }, \"ifSingle\"\n    /* IfSingle */\n    );\n  };\n\n  AutoFixAction.Id = 'editor.action.autoFix';\n  return AutoFixAction;\n}(EditorAction);\n\nexport { AutoFixAction };","map":{"version":3,"sources":["/Users/ifudata/eclipse-workspace/screen-web/node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/codeActionCommands.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","__generator","body","_","label","sent","t","trys","ops","f","y","g","verb","Symbol","iterator","n","v","op","TypeError","call","pop","push","__spreadArrays","s","il","k","a","j","jl","Lazy","Disposable","escapeRegExpCharacters","EditorAction","EditorCommand","IBulkEditService","EditorContextKeys","codeActionCommandId","fixAllCommandId","organizeImportsCommandId","refactorCommandId","sourceActionCommandId","CodeActionUi","MessageController","nls","ICommandService","ContextKeyExpr","IContextKeyService","IInstantiationService","IMarkerService","INotificationService","IEditorProgressService","ITelemetryService","CodeActionModel","SUPPORTED_CODE_ACTIONS","CodeActionCommandArgs","CodeActionKind","contextKeyForSupportedActions","kind","regex","keys","RegExp","argsSchema","type","required","defaultSnippets","properties","description","localize","default","enum","enumDescriptions","QuickFixController","_super","editor","markerService","contextKeyService","progressService","_instantiationService","_this","_editor","_model","_register","onDidChangeState","newState","update","_ui","QuickFixAction","Id","AutoFixAction","applyCodeAction","action","retrigger","_a","_applyCodeAction","_trigger","filter","get","getContribution","ID","getValue","showCodeActions","trigger","actions","at","showCodeActionList","includeDisabledActions","manualTriggerAtCurrentPosition","notAvailableMessage","autoApply","hasModel","closeMessage","triggerPosition","getPosition","context","position","invokeFunction","accessor","bulkEditService","commandService","telemetryService","notificationService","err_1","message","publicLog2","codeActionTitle","title","codeActionKind","codeActionIsPreferred","isPreferred","edit","command","executeCommand","id","asMessage","error","err","Error","undefined","triggerCodeActionsForEditorSelection","controller","alias","precondition","and","writable","hasCodeActionsProvider","kbOpts","kbExpr","editorTextFocus","primary","weight","run","_accessor","CodeActionCommand","args","name","schema","runEditorCommand","userArgs","fromUser","Empty","preferred","include","includeSourceActions","onlyIncludePreferredActions","RefactorAction","mac","contextMenuOpts","group","order","when","Refactor","contains","None","SourceAction","Source","OrganizeImportsAction","SourceOrganizeImports","FixAllAction","SourceFixAll","QuickFix"],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\nimport { Lazy } from '../../../base/common/lazy.js';\r\nimport { Disposable } from '../../../base/common/lifecycle.js';\r\nimport { escapeRegExpCharacters } from '../../../base/common/strings.js';\r\nimport { EditorAction, EditorCommand } from '../../browser/editorExtensions.js';\r\nimport { IBulkEditService } from '../../browser/services/bulkEditService.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nimport { codeActionCommandId, fixAllCommandId, organizeImportsCommandId, refactorCommandId, sourceActionCommandId } from './codeAction.js';\r\nimport { CodeActionUi } from './codeActionUi.js';\r\nimport { MessageController } from '../message/messageController.js';\r\nimport * as nls from '../../../nls.js';\r\nimport { ICommandService } from '../../../platform/commands/common/commands.js';\r\nimport { ContextKeyExpr, IContextKeyService } from '../../../platform/contextkey/common/contextkey.js';\r\nimport { IInstantiationService } from '../../../platform/instantiation/common/instantiation.js';\r\nimport { IMarkerService } from '../../../platform/markers/common/markers.js';\r\nimport { INotificationService } from '../../../platform/notification/common/notification.js';\r\nimport { IEditorProgressService } from '../../../platform/progress/common/progress.js';\r\nimport { ITelemetryService } from '../../../platform/telemetry/common/telemetry.js';\r\nimport { CodeActionModel, SUPPORTED_CODE_ACTIONS } from './codeActionModel.js';\r\nimport { CodeActionCommandArgs, CodeActionKind } from './types.js';\r\nfunction contextKeyForSupportedActions(kind) {\r\n    return ContextKeyExpr.regex(SUPPORTED_CODE_ACTIONS.keys()[0], new RegExp('(\\\\s|^)' + escapeRegExpCharacters(kind.value) + '\\\\b'));\r\n}\r\nvar argsSchema = {\r\n    type: 'object',\r\n    required: ['kind'],\r\n    defaultSnippets: [{ body: { kind: '' } }],\r\n    properties: {\r\n        'kind': {\r\n            type: 'string',\r\n            description: nls.localize('args.schema.kind', \"Kind of the code action to run.\"),\r\n        },\r\n        'apply': {\r\n            type: 'string',\r\n            description: nls.localize('args.schema.apply', \"Controls when the returned actions are applied.\"),\r\n            default: \"ifSingle\" /* IfSingle */,\r\n            enum: [\"first\" /* First */, \"ifSingle\" /* IfSingle */, \"never\" /* Never */],\r\n            enumDescriptions: [\r\n                nls.localize('args.schema.apply.first', \"Always apply the first returned code action.\"),\r\n                nls.localize('args.schema.apply.ifSingle', \"Apply the first returned code action if it is the only one.\"),\r\n                nls.localize('args.schema.apply.never', \"Do not apply the returned code actions.\"),\r\n            ]\r\n        },\r\n        'preferred': {\r\n            type: 'boolean',\r\n            default: false,\r\n            description: nls.localize('args.schema.preferred', \"Controls if only preferred code actions should be returned.\"),\r\n        }\r\n    }\r\n};\r\nvar QuickFixController = /** @class */ (function (_super) {\r\n    __extends(QuickFixController, _super);\r\n    function QuickFixController(editor, markerService, contextKeyService, progressService, _instantiationService) {\r\n        var _this = _super.call(this) || this;\r\n        _this._instantiationService = _instantiationService;\r\n        _this._editor = editor;\r\n        _this._model = _this._register(new CodeActionModel(_this._editor, markerService, contextKeyService, progressService));\r\n        _this._register(_this._model.onDidChangeState(function (newState) { return _this.update(newState); }));\r\n        _this._ui = new Lazy(function () {\r\n            return _this._register(new CodeActionUi(editor, QuickFixAction.Id, AutoFixAction.Id, {\r\n                applyCodeAction: function (action, retrigger) { return __awaiter(_this, void 0, void 0, function () {\r\n                    return __generator(this, function (_a) {\r\n                        switch (_a.label) {\r\n                            case 0:\r\n                                _a.trys.push([0, , 2, 3]);\r\n                                return [4 /*yield*/, this._applyCodeAction(action)];\r\n                            case 1:\r\n                                _a.sent();\r\n                                return [3 /*break*/, 3];\r\n                            case 2:\r\n                                if (retrigger) {\r\n                                    this._trigger({ type: 1 /* Auto */, filter: {} });\r\n                                }\r\n                                return [7 /*endfinally*/];\r\n                            case 3: return [2 /*return*/];\r\n                        }\r\n                    });\r\n                }); }\r\n            }, _this._instantiationService));\r\n        });\r\n        return _this;\r\n    }\r\n    QuickFixController.get = function (editor) {\r\n        return editor.getContribution(QuickFixController.ID);\r\n    };\r\n    QuickFixController.prototype.update = function (newState) {\r\n        this._ui.getValue().update(newState);\r\n    };\r\n    QuickFixController.prototype.showCodeActions = function (trigger, actions, at) {\r\n        return this._ui.getValue().showCodeActionList(trigger, actions, at, { includeDisabledActions: false });\r\n    };\r\n    QuickFixController.prototype.manualTriggerAtCurrentPosition = function (notAvailableMessage, filter, autoApply) {\r\n        if (!this._editor.hasModel()) {\r\n            return;\r\n        }\r\n        MessageController.get(this._editor).closeMessage();\r\n        var triggerPosition = this._editor.getPosition();\r\n        this._trigger({ type: 2 /* Manual */, filter: filter, autoApply: autoApply, context: { notAvailableMessage: notAvailableMessage, position: triggerPosition } });\r\n    };\r\n    QuickFixController.prototype._trigger = function (trigger) {\r\n        return this._model.trigger(trigger);\r\n    };\r\n    QuickFixController.prototype._applyCodeAction = function (action) {\r\n        return this._instantiationService.invokeFunction(applyCodeAction, action, this._editor);\r\n    };\r\n    QuickFixController.ID = 'editor.contrib.quickFixController';\r\n    QuickFixController = __decorate([\r\n        __param(1, IMarkerService),\r\n        __param(2, IContextKeyService),\r\n        __param(3, IEditorProgressService),\r\n        __param(4, IInstantiationService)\r\n    ], QuickFixController);\r\n    return QuickFixController;\r\n}(Disposable));\r\nexport { QuickFixController };\r\nexport function applyCodeAction(accessor, action, editor) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var bulkEditService, commandService, telemetryService, notificationService, err_1, message;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    bulkEditService = accessor.get(IBulkEditService);\r\n                    commandService = accessor.get(ICommandService);\r\n                    telemetryService = accessor.get(ITelemetryService);\r\n                    notificationService = accessor.get(INotificationService);\r\n                    telemetryService.publicLog2('codeAction.applyCodeAction', {\r\n                        codeActionTitle: action.title,\r\n                        codeActionKind: action.kind,\r\n                        codeActionIsPreferred: !!action.isPreferred,\r\n                    });\r\n                    if (!action.edit) return [3 /*break*/, 2];\r\n                    return [4 /*yield*/, bulkEditService.apply(action.edit, { editor: editor })];\r\n                case 1:\r\n                    _a.sent();\r\n                    _a.label = 2;\r\n                case 2:\r\n                    if (!action.command) return [3 /*break*/, 6];\r\n                    _a.label = 3;\r\n                case 3:\r\n                    _a.trys.push([3, 5, , 6]);\r\n                    return [4 /*yield*/, commandService.executeCommand.apply(commandService, __spreadArrays([action.command.id], (action.command.arguments || [])))];\r\n                case 4:\r\n                    _a.sent();\r\n                    return [3 /*break*/, 6];\r\n                case 5:\r\n                    err_1 = _a.sent();\r\n                    message = asMessage(err_1);\r\n                    notificationService.error(typeof message === 'string'\r\n                        ? message\r\n                        : nls.localize('applyCodeActionFailed', \"An unknown error occurred while applying the code action\"));\r\n                    return [3 /*break*/, 6];\r\n                case 6: return [2 /*return*/];\r\n            }\r\n        });\r\n    });\r\n}\r\nfunction asMessage(err) {\r\n    if (typeof err === 'string') {\r\n        return err;\r\n    }\r\n    else if (err instanceof Error && typeof err.message === 'string') {\r\n        return err.message;\r\n    }\r\n    else {\r\n        return undefined;\r\n    }\r\n}\r\nfunction triggerCodeActionsForEditorSelection(editor, notAvailableMessage, filter, autoApply) {\r\n    if (editor.hasModel()) {\r\n        var controller = QuickFixController.get(editor);\r\n        if (controller) {\r\n            controller.manualTriggerAtCurrentPosition(notAvailableMessage, filter, autoApply);\r\n        }\r\n    }\r\n}\r\nvar QuickFixAction = /** @class */ (function (_super) {\r\n    __extends(QuickFixAction, _super);\r\n    function QuickFixAction() {\r\n        return _super.call(this, {\r\n            id: QuickFixAction.Id,\r\n            label: nls.localize('quickfix.trigger.label', \"Quick Fix...\"),\r\n            alias: 'Quick Fix...',\r\n            precondition: ContextKeyExpr.and(EditorContextKeys.writable, EditorContextKeys.hasCodeActionsProvider),\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 2048 /* CtrlCmd */ | 84 /* US_DOT */,\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    QuickFixAction.prototype.run = function (_accessor, editor) {\r\n        return triggerCodeActionsForEditorSelection(editor, nls.localize('editor.action.quickFix.noneMessage', \"No code actions available\"), undefined, undefined);\r\n    };\r\n    QuickFixAction.Id = 'editor.action.quickFix';\r\n    return QuickFixAction;\r\n}(EditorAction));\r\nexport { QuickFixAction };\r\nvar CodeActionCommand = /** @class */ (function (_super) {\r\n    __extends(CodeActionCommand, _super);\r\n    function CodeActionCommand() {\r\n        return _super.call(this, {\r\n            id: codeActionCommandId,\r\n            precondition: ContextKeyExpr.and(EditorContextKeys.writable, EditorContextKeys.hasCodeActionsProvider),\r\n            description: {\r\n                description: 'Trigger a code action',\r\n                args: [{ name: 'args', schema: argsSchema, }]\r\n            }\r\n        }) || this;\r\n    }\r\n    CodeActionCommand.prototype.runEditorCommand = function (_accessor, editor, userArgs) {\r\n        var args = CodeActionCommandArgs.fromUser(userArgs, {\r\n            kind: CodeActionKind.Empty,\r\n            apply: \"ifSingle\" /* IfSingle */,\r\n        });\r\n        return triggerCodeActionsForEditorSelection(editor, typeof (userArgs === null || userArgs === void 0 ? void 0 : userArgs.kind) === 'string'\r\n            ? args.preferred\r\n                ? nls.localize('editor.action.codeAction.noneMessage.preferred.kind', \"No preferred code actions for '{0}' available\", userArgs.kind)\r\n                : nls.localize('editor.action.codeAction.noneMessage.kind', \"No code actions for '{0}' available\", userArgs.kind)\r\n            : args.preferred\r\n                ? nls.localize('editor.action.codeAction.noneMessage.preferred', \"No preferred code actions available\")\r\n                : nls.localize('editor.action.codeAction.noneMessage', \"No code actions available\"), {\r\n            include: args.kind,\r\n            includeSourceActions: true,\r\n            onlyIncludePreferredActions: args.preferred,\r\n        }, args.apply);\r\n    };\r\n    return CodeActionCommand;\r\n}(EditorCommand));\r\nexport { CodeActionCommand };\r\nvar RefactorAction = /** @class */ (function (_super) {\r\n    __extends(RefactorAction, _super);\r\n    function RefactorAction() {\r\n        return _super.call(this, {\r\n            id: refactorCommandId,\r\n            label: nls.localize('refactor.label', \"Refactor...\"),\r\n            alias: 'Refactor...',\r\n            precondition: ContextKeyExpr.and(EditorContextKeys.writable, EditorContextKeys.hasCodeActionsProvider),\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 48 /* KEY_R */,\r\n                mac: {\r\n                    primary: 256 /* WinCtrl */ | 1024 /* Shift */ | 48 /* KEY_R */\r\n                },\r\n                weight: 100 /* EditorContrib */\r\n            },\r\n            contextMenuOpts: {\r\n                group: '1_modification',\r\n                order: 2,\r\n                when: ContextKeyExpr.and(EditorContextKeys.writable, contextKeyForSupportedActions(CodeActionKind.Refactor)),\r\n            },\r\n            description: {\r\n                description: 'Refactor...',\r\n                args: [{ name: 'args', schema: argsSchema }]\r\n            }\r\n        }) || this;\r\n    }\r\n    RefactorAction.prototype.run = function (_accessor, editor, userArgs) {\r\n        var args = CodeActionCommandArgs.fromUser(userArgs, {\r\n            kind: CodeActionKind.Refactor,\r\n            apply: \"never\" /* Never */\r\n        });\r\n        return triggerCodeActionsForEditorSelection(editor, typeof (userArgs === null || userArgs === void 0 ? void 0 : userArgs.kind) === 'string'\r\n            ? args.preferred\r\n                ? nls.localize('editor.action.refactor.noneMessage.preferred.kind', \"No preferred refactorings for '{0}' available\", userArgs.kind)\r\n                : nls.localize('editor.action.refactor.noneMessage.kind', \"No refactorings for '{0}' available\", userArgs.kind)\r\n            : args.preferred\r\n                ? nls.localize('editor.action.refactor.noneMessage.preferred', \"No preferred refactorings available\")\r\n                : nls.localize('editor.action.refactor.noneMessage', \"No refactorings available\"), {\r\n            include: CodeActionKind.Refactor.contains(args.kind) ? args.kind : CodeActionKind.None,\r\n            onlyIncludePreferredActions: args.preferred,\r\n        }, args.apply);\r\n    };\r\n    return RefactorAction;\r\n}(EditorAction));\r\nexport { RefactorAction };\r\nvar SourceAction = /** @class */ (function (_super) {\r\n    __extends(SourceAction, _super);\r\n    function SourceAction() {\r\n        return _super.call(this, {\r\n            id: sourceActionCommandId,\r\n            label: nls.localize('source.label', \"Source Action...\"),\r\n            alias: 'Source Action...',\r\n            precondition: ContextKeyExpr.and(EditorContextKeys.writable, EditorContextKeys.hasCodeActionsProvider),\r\n            contextMenuOpts: {\r\n                group: '1_modification',\r\n                order: 2.1,\r\n                when: ContextKeyExpr.and(EditorContextKeys.writable, contextKeyForSupportedActions(CodeActionKind.Source)),\r\n            },\r\n            description: {\r\n                description: 'Source Action...',\r\n                args: [{ name: 'args', schema: argsSchema }]\r\n            }\r\n        }) || this;\r\n    }\r\n    SourceAction.prototype.run = function (_accessor, editor, userArgs) {\r\n        var args = CodeActionCommandArgs.fromUser(userArgs, {\r\n            kind: CodeActionKind.Source,\r\n            apply: \"never\" /* Never */\r\n        });\r\n        return triggerCodeActionsForEditorSelection(editor, typeof (userArgs === null || userArgs === void 0 ? void 0 : userArgs.kind) === 'string'\r\n            ? args.preferred\r\n                ? nls.localize('editor.action.source.noneMessage.preferred.kind', \"No preferred source actions for '{0}' available\", userArgs.kind)\r\n                : nls.localize('editor.action.source.noneMessage.kind', \"No source actions for '{0}' available\", userArgs.kind)\r\n            : args.preferred\r\n                ? nls.localize('editor.action.source.noneMessage.preferred', \"No preferred source actions available\")\r\n                : nls.localize('editor.action.source.noneMessage', \"No source actions available\"), {\r\n            include: CodeActionKind.Source.contains(args.kind) ? args.kind : CodeActionKind.None,\r\n            includeSourceActions: true,\r\n            onlyIncludePreferredActions: args.preferred,\r\n        }, args.apply);\r\n    };\r\n    return SourceAction;\r\n}(EditorAction));\r\nexport { SourceAction };\r\nvar OrganizeImportsAction = /** @class */ (function (_super) {\r\n    __extends(OrganizeImportsAction, _super);\r\n    function OrganizeImportsAction() {\r\n        return _super.call(this, {\r\n            id: organizeImportsCommandId,\r\n            label: nls.localize('organizeImports.label', \"Organize Imports\"),\r\n            alias: 'Organize Imports',\r\n            precondition: ContextKeyExpr.and(EditorContextKeys.writable, contextKeyForSupportedActions(CodeActionKind.SourceOrganizeImports)),\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 1024 /* Shift */ | 512 /* Alt */ | 45 /* KEY_O */,\r\n                weight: 100 /* EditorContrib */\r\n            },\r\n        }) || this;\r\n    }\r\n    OrganizeImportsAction.prototype.run = function (_accessor, editor) {\r\n        return triggerCodeActionsForEditorSelection(editor, nls.localize('editor.action.organize.noneMessage', \"No organize imports action available\"), { include: CodeActionKind.SourceOrganizeImports, includeSourceActions: true }, \"ifSingle\" /* IfSingle */);\r\n    };\r\n    return OrganizeImportsAction;\r\n}(EditorAction));\r\nexport { OrganizeImportsAction };\r\nvar FixAllAction = /** @class */ (function (_super) {\r\n    __extends(FixAllAction, _super);\r\n    function FixAllAction() {\r\n        return _super.call(this, {\r\n            id: fixAllCommandId,\r\n            label: nls.localize('fixAll.label', \"Fix All\"),\r\n            alias: 'Fix All',\r\n            precondition: ContextKeyExpr.and(EditorContextKeys.writable, contextKeyForSupportedActions(CodeActionKind.SourceFixAll))\r\n        }) || this;\r\n    }\r\n    FixAllAction.prototype.run = function (_accessor, editor) {\r\n        return triggerCodeActionsForEditorSelection(editor, nls.localize('fixAll.noneMessage', \"No fix all action available\"), { include: CodeActionKind.SourceFixAll, includeSourceActions: true }, \"ifSingle\" /* IfSingle */);\r\n    };\r\n    return FixAllAction;\r\n}(EditorAction));\r\nexport { FixAllAction };\r\nvar AutoFixAction = /** @class */ (function (_super) {\r\n    __extends(AutoFixAction, _super);\r\n    function AutoFixAction() {\r\n        return _super.call(this, {\r\n            id: AutoFixAction.Id,\r\n            label: nls.localize('autoFix.label', \"Auto Fix...\"),\r\n            alias: 'Auto Fix...',\r\n            precondition: ContextKeyExpr.and(EditorContextKeys.writable, contextKeyForSupportedActions(CodeActionKind.QuickFix)),\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 512 /* Alt */ | 1024 /* Shift */ | 84 /* US_DOT */,\r\n                mac: {\r\n                    primary: 2048 /* CtrlCmd */ | 512 /* Alt */ | 84 /* US_DOT */\r\n                },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    AutoFixAction.prototype.run = function (_accessor, editor) {\r\n        return triggerCodeActionsForEditorSelection(editor, nls.localize('editor.action.autoFix.noneMessage', \"No auto fixes available\"), {\r\n            include: CodeActionKind.QuickFix,\r\n            onlyIncludePreferredActions: true\r\n        }, \"ifSingle\" /* IfSingle */);\r\n    };\r\n    AutoFixAction.Id = 'editor.action.autoFix';\r\n    return AutoFixAction;\r\n}(EditorAction));\r\nexport { AutoFixAction };\r\n"]},"metadata":{},"sourceType":"module"}