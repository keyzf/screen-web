{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport './quickOutline.css';\nimport '../../../../base/browser/ui/codiconLabel/codiconLabel.js'; // The codicon symbol styles are defined here and must be loaded\n\nimport '../../../contrib/documentSymbols/outlineTree.js'; // The codicon symbol colors are defined here and must be loaded\n\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { matchesFuzzy } from '../../../../base/common/filters.js';\nimport * as strings from '../../../../base/common/strings.js';\nimport { QuickOpenEntryGroup, QuickOpenModel } from '../../../../base/parts/quickopen/browser/quickOpenModel.js';\nimport { registerEditorAction } from '../../../browser/editorExtensions.js';\nimport { Range } from '../../../common/core/range.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { DocumentSymbolProviderRegistry, SymbolKinds } from '../../../common/modes.js';\nimport { getDocumentSymbols } from '../../../contrib/quickOpen/quickOpen.js';\nimport { BaseEditorQuickOpenAction } from './editorQuickOpen.js';\nimport { QuickOutlineNLS } from '../../../common/standaloneStrings.js';\nvar SCOPE_PREFIX = ':';\n\nvar SymbolEntry =\n/** @class */\nfunction (_super) {\n  __extends(SymbolEntry, _super);\n\n  function SymbolEntry(name, type, description, range, highlights, editor, decorator) {\n    var _this = _super.call(this) || this;\n\n    _this.name = name;\n    _this.type = type;\n    _this.description = description;\n    _this.range = range;\n\n    _this.setHighlights(highlights);\n\n    _this.editor = editor;\n    _this.decorator = decorator;\n    return _this;\n  }\n\n  SymbolEntry.prototype.getLabel = function () {\n    return this.name;\n  };\n\n  SymbolEntry.prototype.getAriaLabel = function () {\n    return strings.format(QuickOutlineNLS.entryAriaLabel, this.name);\n  };\n\n  SymbolEntry.prototype.getIcon = function () {\n    return this.type;\n  };\n\n  SymbolEntry.prototype.getDescription = function () {\n    return this.description;\n  };\n\n  SymbolEntry.prototype.getType = function () {\n    return this.type;\n  };\n\n  SymbolEntry.prototype.getRange = function () {\n    return this.range;\n  };\n\n  SymbolEntry.prototype.run = function (mode, context) {\n    if (mode === 1\n    /* OPEN */\n    ) {\n        return this.runOpen(context);\n      }\n\n    return this.runPreview();\n  };\n\n  SymbolEntry.prototype.runOpen = function (_context) {\n    // Apply selection and focus\n    var range = this.toSelection();\n    this.editor.setSelection(range);\n    this.editor.revealRangeInCenter(range, 0\n    /* Smooth */\n    );\n    this.editor.focus();\n    return true;\n  };\n\n  SymbolEntry.prototype.runPreview = function () {\n    // Select Outline Position\n    var range = this.toSelection();\n    this.editor.revealRangeInCenter(range, 0\n    /* Smooth */\n    ); // Decorate if possible\n\n    this.decorator.decorateLine(this.range, this.editor);\n    return false;\n  };\n\n  SymbolEntry.prototype.toSelection = function () {\n    return new Range(this.range.startLineNumber, this.range.startColumn || 1, this.range.startLineNumber, this.range.startColumn || 1);\n  };\n\n  return SymbolEntry;\n}(QuickOpenEntryGroup);\n\nexport { SymbolEntry };\n\nvar QuickOutlineAction =\n/** @class */\nfunction (_super) {\n  __extends(QuickOutlineAction, _super);\n\n  function QuickOutlineAction() {\n    return _super.call(this, QuickOutlineNLS.quickOutlineActionInput, {\n      id: 'editor.action.quickOutline',\n      label: QuickOutlineNLS.quickOutlineActionLabel,\n      alias: 'Go to Symbol...',\n      precondition: EditorContextKeys.hasDocumentSymbolProvider,\n      kbOpts: {\n        kbExpr: EditorContextKeys.focus,\n        primary: 2048\n        /* CtrlCmd */\n        | 1024\n        /* Shift */\n        | 45\n        /* KEY_O */\n        ,\n        weight: 100\n        /* EditorContrib */\n\n      },\n      contextMenuOpts: {\n        group: 'navigation',\n        order: 3\n      }\n    }) || this;\n  }\n\n  QuickOutlineAction.prototype.run = function (accessor, editor) {\n    var _this = this;\n\n    if (!editor.hasModel()) {\n      return undefined;\n    }\n\n    var model = editor.getModel();\n\n    if (!DocumentSymbolProviderRegistry.has(model)) {\n      return undefined;\n    } // Resolve outline\n\n\n    return getDocumentSymbols(model, true, CancellationToken.None).then(function (result) {\n      if (result.length === 0) {\n        return;\n      }\n\n      _this._run(editor, result);\n    });\n  };\n\n  QuickOutlineAction.prototype._run = function (editor, result) {\n    var _this = this;\n\n    this._show(this.getController(editor), {\n      getModel: function (value) {\n        return new QuickOpenModel(_this.toQuickOpenEntries(editor, result, value));\n      },\n      getAutoFocus: function (searchValue) {\n        // Remove any type pattern (:) from search value as needed\n        if (searchValue.indexOf(SCOPE_PREFIX) === 0) {\n          searchValue = searchValue.substr(SCOPE_PREFIX.length);\n        }\n\n        return {\n          autoFocusPrefixMatch: searchValue,\n          autoFocusFirstEntry: !!searchValue\n        };\n      }\n    });\n  };\n\n  QuickOutlineAction.prototype.symbolEntry = function (name, type, description, range, highlights, editor, decorator) {\n    return new SymbolEntry(name, type, description, Range.lift(range), highlights, editor, decorator);\n  };\n\n  QuickOutlineAction.prototype.toQuickOpenEntries = function (editor, flattened, searchValue) {\n    var controller = this.getController(editor);\n    var results = []; // Convert to Entries\n\n    var normalizedSearchValue = searchValue;\n\n    if (searchValue.indexOf(SCOPE_PREFIX) === 0) {\n      normalizedSearchValue = normalizedSearchValue.substr(SCOPE_PREFIX.length);\n    }\n\n    for (var _i = 0, flattened_1 = flattened; _i < flattened_1.length; _i++) {\n      var element = flattened_1[_i];\n      var label = strings.trim(element.name); // Check for meatch\n\n      var highlights = matchesFuzzy(normalizedSearchValue, label);\n\n      if (highlights) {\n        // Show parent scope as description\n        var description = undefined;\n\n        if (element.containerName) {\n          description = element.containerName;\n        } // Add\n\n\n        results.push(this.symbolEntry(label, SymbolKinds.toCssClassName(element.kind), description, element.range, highlights, editor, controller));\n      }\n    } // Sort properly if actually searching\n\n\n    if (searchValue) {\n      if (searchValue.indexOf(SCOPE_PREFIX) === 0) {\n        results = results.sort(this.sortScoped.bind(this, searchValue.toLowerCase()));\n      } else {\n        results = results.sort(this.sortNormal.bind(this, searchValue.toLowerCase()));\n      }\n    } // Mark all type groups\n\n\n    if (results.length > 0 && searchValue.indexOf(SCOPE_PREFIX) === 0) {\n      var currentType = null;\n      var currentResult = null;\n      var typeCounter = 0;\n\n      for (var i = 0; i < results.length; i++) {\n        var result = results[i]; // Found new type\n\n        if (currentType !== result.getType()) {\n          // Update previous result with count\n          if (currentResult) {\n            currentResult.setGroupLabel(this.typeToLabel(currentType || '', typeCounter));\n          }\n\n          currentType = result.getType();\n          currentResult = result;\n          typeCounter = 1;\n          result.setShowBorder(i > 0);\n        } // Existing type, keep counting\n        else {\n            typeCounter++;\n          }\n      } // Update previous result with count\n\n\n      if (currentResult) {\n        currentResult.setGroupLabel(this.typeToLabel(currentType || '', typeCounter));\n      }\n    } // Mark first entry as outline\n    else if (results.length > 0) {\n        results[0].setGroupLabel(strings.format(QuickOutlineNLS._symbols_, results.length));\n      }\n\n    return results;\n  };\n\n  QuickOutlineAction.prototype.typeToLabel = function (type, count) {\n    switch (type) {\n      case 'module':\n        return strings.format(QuickOutlineNLS._modules_, count);\n\n      case 'class':\n        return strings.format(QuickOutlineNLS._class_, count);\n\n      case 'interface':\n        return strings.format(QuickOutlineNLS._interface_, count);\n\n      case 'method':\n        return strings.format(QuickOutlineNLS._method_, count);\n\n      case 'function':\n        return strings.format(QuickOutlineNLS._function_, count);\n\n      case 'property':\n        return strings.format(QuickOutlineNLS._property_, count);\n\n      case 'variable':\n        return strings.format(QuickOutlineNLS._variable_, count);\n\n      case 'var':\n        return strings.format(QuickOutlineNLS._variable2_, count);\n\n      case 'constructor':\n        return strings.format(QuickOutlineNLS._constructor_, count);\n\n      case 'call':\n        return strings.format(QuickOutlineNLS._call_, count);\n    }\n\n    return type;\n  };\n\n  QuickOutlineAction.prototype.sortNormal = function (searchValue, elementA, elementB) {\n    var elementAName = elementA.getLabel().toLowerCase();\n    var elementBName = elementB.getLabel().toLowerCase(); // Compare by name\n\n    var r = elementAName.localeCompare(elementBName);\n\n    if (r !== 0) {\n      return r;\n    } // If name identical sort by range instead\n\n\n    var elementARange = elementA.getRange();\n    var elementBRange = elementB.getRange();\n    return elementARange.startLineNumber - elementBRange.startLineNumber;\n  };\n\n  QuickOutlineAction.prototype.sortScoped = function (searchValue, elementA, elementB) {\n    // Remove scope char\n    searchValue = searchValue.substr(SCOPE_PREFIX.length); // Sort by type first if scoped search\n\n    var elementAType = elementA.getType();\n    var elementBType = elementB.getType();\n    var r = elementAType.localeCompare(elementBType);\n\n    if (r !== 0) {\n      return r;\n    } // Special sort when searching in scoped mode\n\n\n    if (searchValue) {\n      var elementAName = elementA.getLabel().toLowerCase();\n      var elementBName = elementB.getLabel().toLowerCase(); // Compare by name\n\n      var r_1 = elementAName.localeCompare(elementBName);\n\n      if (r_1 !== 0) {\n        return r_1;\n      }\n    } // Default to sort by range\n\n\n    var elementARange = elementA.getRange();\n    var elementBRange = elementB.getRange();\n    return elementARange.startLineNumber - elementBRange.startLineNumber;\n  };\n\n  return QuickOutlineAction;\n}(BaseEditorQuickOpenAction);\n\nexport { QuickOutlineAction };\nregisterEditorAction(QuickOutlineAction);","map":{"version":3,"sources":["/Users/ifudata/eclipse-workspace/screen-web/node_modules/monaco-editor/esm/vs/editor/standalone/browser/quickOpen/quickOutline.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","CancellationToken","matchesFuzzy","strings","QuickOpenEntryGroup","QuickOpenModel","registerEditorAction","Range","EditorContextKeys","DocumentSymbolProviderRegistry","SymbolKinds","getDocumentSymbols","BaseEditorQuickOpenAction","QuickOutlineNLS","SCOPE_PREFIX","SymbolEntry","_super","name","type","description","range","highlights","editor","decorator","_this","call","setHighlights","getLabel","getAriaLabel","format","entryAriaLabel","getIcon","getDescription","getType","getRange","run","mode","context","runOpen","runPreview","_context","toSelection","setSelection","revealRangeInCenter","focus","decorateLine","startLineNumber","startColumn","QuickOutlineAction","quickOutlineActionInput","id","label","quickOutlineActionLabel","alias","precondition","hasDocumentSymbolProvider","kbOpts","kbExpr","primary","weight","contextMenuOpts","group","order","accessor","hasModel","undefined","model","getModel","has","None","then","result","length","_run","_show","getController","value","toQuickOpenEntries","getAutoFocus","searchValue","indexOf","substr","autoFocusPrefixMatch","autoFocusFirstEntry","symbolEntry","lift","flattened","controller","results","normalizedSearchValue","_i","flattened_1","element","trim","containerName","push","toCssClassName","kind","sort","sortScoped","bind","toLowerCase","sortNormal","currentType","currentResult","typeCounter","i","setGroupLabel","typeToLabel","setShowBorder","_symbols_","count","_modules_","_class_","_interface_","_method_","_function_","_property_","_variable_","_variable2_","_constructor_","_call_","elementA","elementB","elementAName","elementBName","r","localeCompare","elementARange","elementBRange","elementAType","elementBType","r_1"],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport './quickOutline.css';\r\nimport '../../../../base/browser/ui/codiconLabel/codiconLabel.js'; // The codicon symbol styles are defined here and must be loaded\r\nimport '../../../contrib/documentSymbols/outlineTree.js'; // The codicon symbol colors are defined here and must be loaded\r\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\r\nimport { matchesFuzzy } from '../../../../base/common/filters.js';\r\nimport * as strings from '../../../../base/common/strings.js';\r\nimport { QuickOpenEntryGroup, QuickOpenModel } from '../../../../base/parts/quickopen/browser/quickOpenModel.js';\r\nimport { registerEditorAction } from '../../../browser/editorExtensions.js';\r\nimport { Range } from '../../../common/core/range.js';\r\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\r\nimport { DocumentSymbolProviderRegistry, SymbolKinds } from '../../../common/modes.js';\r\nimport { getDocumentSymbols } from '../../../contrib/quickOpen/quickOpen.js';\r\nimport { BaseEditorQuickOpenAction } from './editorQuickOpen.js';\r\nimport { QuickOutlineNLS } from '../../../common/standaloneStrings.js';\r\nvar SCOPE_PREFIX = ':';\r\nvar SymbolEntry = /** @class */ (function (_super) {\r\n    __extends(SymbolEntry, _super);\r\n    function SymbolEntry(name, type, description, range, highlights, editor, decorator) {\r\n        var _this = _super.call(this) || this;\r\n        _this.name = name;\r\n        _this.type = type;\r\n        _this.description = description;\r\n        _this.range = range;\r\n        _this.setHighlights(highlights);\r\n        _this.editor = editor;\r\n        _this.decorator = decorator;\r\n        return _this;\r\n    }\r\n    SymbolEntry.prototype.getLabel = function () {\r\n        return this.name;\r\n    };\r\n    SymbolEntry.prototype.getAriaLabel = function () {\r\n        return strings.format(QuickOutlineNLS.entryAriaLabel, this.name);\r\n    };\r\n    SymbolEntry.prototype.getIcon = function () {\r\n        return this.type;\r\n    };\r\n    SymbolEntry.prototype.getDescription = function () {\r\n        return this.description;\r\n    };\r\n    SymbolEntry.prototype.getType = function () {\r\n        return this.type;\r\n    };\r\n    SymbolEntry.prototype.getRange = function () {\r\n        return this.range;\r\n    };\r\n    SymbolEntry.prototype.run = function (mode, context) {\r\n        if (mode === 1 /* OPEN */) {\r\n            return this.runOpen(context);\r\n        }\r\n        return this.runPreview();\r\n    };\r\n    SymbolEntry.prototype.runOpen = function (_context) {\r\n        // Apply selection and focus\r\n        var range = this.toSelection();\r\n        this.editor.setSelection(range);\r\n        this.editor.revealRangeInCenter(range, 0 /* Smooth */);\r\n        this.editor.focus();\r\n        return true;\r\n    };\r\n    SymbolEntry.prototype.runPreview = function () {\r\n        // Select Outline Position\r\n        var range = this.toSelection();\r\n        this.editor.revealRangeInCenter(range, 0 /* Smooth */);\r\n        // Decorate if possible\r\n        this.decorator.decorateLine(this.range, this.editor);\r\n        return false;\r\n    };\r\n    SymbolEntry.prototype.toSelection = function () {\r\n        return new Range(this.range.startLineNumber, this.range.startColumn || 1, this.range.startLineNumber, this.range.startColumn || 1);\r\n    };\r\n    return SymbolEntry;\r\n}(QuickOpenEntryGroup));\r\nexport { SymbolEntry };\r\nvar QuickOutlineAction = /** @class */ (function (_super) {\r\n    __extends(QuickOutlineAction, _super);\r\n    function QuickOutlineAction() {\r\n        return _super.call(this, QuickOutlineNLS.quickOutlineActionInput, {\r\n            id: 'editor.action.quickOutline',\r\n            label: QuickOutlineNLS.quickOutlineActionLabel,\r\n            alias: 'Go to Symbol...',\r\n            precondition: EditorContextKeys.hasDocumentSymbolProvider,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.focus,\r\n                primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 45 /* KEY_O */,\r\n                weight: 100 /* EditorContrib */\r\n            },\r\n            contextMenuOpts: {\r\n                group: 'navigation',\r\n                order: 3\r\n            }\r\n        }) || this;\r\n    }\r\n    QuickOutlineAction.prototype.run = function (accessor, editor) {\r\n        var _this = this;\r\n        if (!editor.hasModel()) {\r\n            return undefined;\r\n        }\r\n        var model = editor.getModel();\r\n        if (!DocumentSymbolProviderRegistry.has(model)) {\r\n            return undefined;\r\n        }\r\n        // Resolve outline\r\n        return getDocumentSymbols(model, true, CancellationToken.None).then(function (result) {\r\n            if (result.length === 0) {\r\n                return;\r\n            }\r\n            _this._run(editor, result);\r\n        });\r\n    };\r\n    QuickOutlineAction.prototype._run = function (editor, result) {\r\n        var _this = this;\r\n        this._show(this.getController(editor), {\r\n            getModel: function (value) {\r\n                return new QuickOpenModel(_this.toQuickOpenEntries(editor, result, value));\r\n            },\r\n            getAutoFocus: function (searchValue) {\r\n                // Remove any type pattern (:) from search value as needed\r\n                if (searchValue.indexOf(SCOPE_PREFIX) === 0) {\r\n                    searchValue = searchValue.substr(SCOPE_PREFIX.length);\r\n                }\r\n                return {\r\n                    autoFocusPrefixMatch: searchValue,\r\n                    autoFocusFirstEntry: !!searchValue\r\n                };\r\n            }\r\n        });\r\n    };\r\n    QuickOutlineAction.prototype.symbolEntry = function (name, type, description, range, highlights, editor, decorator) {\r\n        return new SymbolEntry(name, type, description, Range.lift(range), highlights, editor, decorator);\r\n    };\r\n    QuickOutlineAction.prototype.toQuickOpenEntries = function (editor, flattened, searchValue) {\r\n        var controller = this.getController(editor);\r\n        var results = [];\r\n        // Convert to Entries\r\n        var normalizedSearchValue = searchValue;\r\n        if (searchValue.indexOf(SCOPE_PREFIX) === 0) {\r\n            normalizedSearchValue = normalizedSearchValue.substr(SCOPE_PREFIX.length);\r\n        }\r\n        for (var _i = 0, flattened_1 = flattened; _i < flattened_1.length; _i++) {\r\n            var element = flattened_1[_i];\r\n            var label = strings.trim(element.name);\r\n            // Check for meatch\r\n            var highlights = matchesFuzzy(normalizedSearchValue, label);\r\n            if (highlights) {\r\n                // Show parent scope as description\r\n                var description = undefined;\r\n                if (element.containerName) {\r\n                    description = element.containerName;\r\n                }\r\n                // Add\r\n                results.push(this.symbolEntry(label, SymbolKinds.toCssClassName(element.kind), description, element.range, highlights, editor, controller));\r\n            }\r\n        }\r\n        // Sort properly if actually searching\r\n        if (searchValue) {\r\n            if (searchValue.indexOf(SCOPE_PREFIX) === 0) {\r\n                results = results.sort(this.sortScoped.bind(this, searchValue.toLowerCase()));\r\n            }\r\n            else {\r\n                results = results.sort(this.sortNormal.bind(this, searchValue.toLowerCase()));\r\n            }\r\n        }\r\n        // Mark all type groups\r\n        if (results.length > 0 && searchValue.indexOf(SCOPE_PREFIX) === 0) {\r\n            var currentType = null;\r\n            var currentResult = null;\r\n            var typeCounter = 0;\r\n            for (var i = 0; i < results.length; i++) {\r\n                var result = results[i];\r\n                // Found new type\r\n                if (currentType !== result.getType()) {\r\n                    // Update previous result with count\r\n                    if (currentResult) {\r\n                        currentResult.setGroupLabel(this.typeToLabel(currentType || '', typeCounter));\r\n                    }\r\n                    currentType = result.getType();\r\n                    currentResult = result;\r\n                    typeCounter = 1;\r\n                    result.setShowBorder(i > 0);\r\n                }\r\n                // Existing type, keep counting\r\n                else {\r\n                    typeCounter++;\r\n                }\r\n            }\r\n            // Update previous result with count\r\n            if (currentResult) {\r\n                currentResult.setGroupLabel(this.typeToLabel(currentType || '', typeCounter));\r\n            }\r\n        }\r\n        // Mark first entry as outline\r\n        else if (results.length > 0) {\r\n            results[0].setGroupLabel(strings.format(QuickOutlineNLS._symbols_, results.length));\r\n        }\r\n        return results;\r\n    };\r\n    QuickOutlineAction.prototype.typeToLabel = function (type, count) {\r\n        switch (type) {\r\n            case 'module': return strings.format(QuickOutlineNLS._modules_, count);\r\n            case 'class': return strings.format(QuickOutlineNLS._class_, count);\r\n            case 'interface': return strings.format(QuickOutlineNLS._interface_, count);\r\n            case 'method': return strings.format(QuickOutlineNLS._method_, count);\r\n            case 'function': return strings.format(QuickOutlineNLS._function_, count);\r\n            case 'property': return strings.format(QuickOutlineNLS._property_, count);\r\n            case 'variable': return strings.format(QuickOutlineNLS._variable_, count);\r\n            case 'var': return strings.format(QuickOutlineNLS._variable2_, count);\r\n            case 'constructor': return strings.format(QuickOutlineNLS._constructor_, count);\r\n            case 'call': return strings.format(QuickOutlineNLS._call_, count);\r\n        }\r\n        return type;\r\n    };\r\n    QuickOutlineAction.prototype.sortNormal = function (searchValue, elementA, elementB) {\r\n        var elementAName = elementA.getLabel().toLowerCase();\r\n        var elementBName = elementB.getLabel().toLowerCase();\r\n        // Compare by name\r\n        var r = elementAName.localeCompare(elementBName);\r\n        if (r !== 0) {\r\n            return r;\r\n        }\r\n        // If name identical sort by range instead\r\n        var elementARange = elementA.getRange();\r\n        var elementBRange = elementB.getRange();\r\n        return elementARange.startLineNumber - elementBRange.startLineNumber;\r\n    };\r\n    QuickOutlineAction.prototype.sortScoped = function (searchValue, elementA, elementB) {\r\n        // Remove scope char\r\n        searchValue = searchValue.substr(SCOPE_PREFIX.length);\r\n        // Sort by type first if scoped search\r\n        var elementAType = elementA.getType();\r\n        var elementBType = elementB.getType();\r\n        var r = elementAType.localeCompare(elementBType);\r\n        if (r !== 0) {\r\n            return r;\r\n        }\r\n        // Special sort when searching in scoped mode\r\n        if (searchValue) {\r\n            var elementAName = elementA.getLabel().toLowerCase();\r\n            var elementBName = elementB.getLabel().toLowerCase();\r\n            // Compare by name\r\n            var r_1 = elementAName.localeCompare(elementBName);\r\n            if (r_1 !== 0) {\r\n                return r_1;\r\n            }\r\n        }\r\n        // Default to sort by range\r\n        var elementARange = elementA.getRange();\r\n        var elementBRange = elementB.getRange();\r\n        return elementARange.startLineNumber - elementBRange.startLineNumber;\r\n    };\r\n    return QuickOutlineAction;\r\n}(BaseEditorQuickOpenAction));\r\nexport { QuickOutlineAction };\r\nregisterEditorAction(QuickOutlineAction);\r\n"]},"metadata":{},"sourceType":"module"}