{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport * as dom from '../../../base/browser/dom.js';\nimport { CaseSensitiveCheckbox, RegexCheckbox, WholeWordsCheckbox } from '../../../base/browser/ui/findinput/findInputCheckboxes.js';\nimport { Widget } from '../../../base/browser/ui/widget.js';\nimport { RunOnceScheduler } from '../../../base/common/async.js';\nimport { FIND_IDS } from './findModel.js';\nimport { contrastBorder, editorWidgetBackground, inputActiveOptionBorder, inputActiveOptionBackground, widgetShadow, editorWidgetForeground } from '../../../platform/theme/common/colorRegistry.js';\nimport { registerThemingParticipant } from '../../../platform/theme/common/themeService.js';\n\nvar FindOptionsWidget =\n/** @class */\nfunction (_super) {\n  __extends(FindOptionsWidget, _super);\n\n  function FindOptionsWidget(editor, state, keybindingService, themeService) {\n    var _this = _super.call(this) || this;\n\n    _this._hideSoon = _this._register(new RunOnceScheduler(function () {\n      return _this._hide();\n    }, 2000));\n    _this._isVisible = false;\n    _this._editor = editor;\n    _this._state = state;\n    _this._keybindingService = keybindingService;\n    _this._domNode = document.createElement('div');\n    _this._domNode.className = 'findOptionsWidget';\n    _this._domNode.style.display = 'none';\n    _this._domNode.style.top = '10px';\n\n    _this._domNode.setAttribute('role', 'presentation');\n\n    _this._domNode.setAttribute('aria-hidden', 'true');\n\n    var inputActiveOptionBorderColor = themeService.getTheme().getColor(inputActiveOptionBorder);\n    var inputActiveOptionBackgroundColor = themeService.getTheme().getColor(inputActiveOptionBackground);\n    _this.caseSensitive = _this._register(new CaseSensitiveCheckbox({\n      appendTitle: _this._keybindingLabelFor(FIND_IDS.ToggleCaseSensitiveCommand),\n      isChecked: _this._state.matchCase,\n      inputActiveOptionBorder: inputActiveOptionBorderColor,\n      inputActiveOptionBackground: inputActiveOptionBackgroundColor\n    }));\n\n    _this._domNode.appendChild(_this.caseSensitive.domNode);\n\n    _this._register(_this.caseSensitive.onChange(function () {\n      _this._state.change({\n        matchCase: _this.caseSensitive.checked\n      }, false);\n    }));\n\n    _this.wholeWords = _this._register(new WholeWordsCheckbox({\n      appendTitle: _this._keybindingLabelFor(FIND_IDS.ToggleWholeWordCommand),\n      isChecked: _this._state.wholeWord,\n      inputActiveOptionBorder: inputActiveOptionBorderColor,\n      inputActiveOptionBackground: inputActiveOptionBackgroundColor\n    }));\n\n    _this._domNode.appendChild(_this.wholeWords.domNode);\n\n    _this._register(_this.wholeWords.onChange(function () {\n      _this._state.change({\n        wholeWord: _this.wholeWords.checked\n      }, false);\n    }));\n\n    _this.regex = _this._register(new RegexCheckbox({\n      appendTitle: _this._keybindingLabelFor(FIND_IDS.ToggleRegexCommand),\n      isChecked: _this._state.isRegex,\n      inputActiveOptionBorder: inputActiveOptionBorderColor,\n      inputActiveOptionBackground: inputActiveOptionBackgroundColor\n    }));\n\n    _this._domNode.appendChild(_this.regex.domNode);\n\n    _this._register(_this.regex.onChange(function () {\n      _this._state.change({\n        isRegex: _this.regex.checked\n      }, false);\n    }));\n\n    _this._editor.addOverlayWidget(_this);\n\n    _this._register(_this._state.onFindReplaceStateChange(function (e) {\n      var somethingChanged = false;\n\n      if (e.isRegex) {\n        _this.regex.checked = _this._state.isRegex;\n        somethingChanged = true;\n      }\n\n      if (e.wholeWord) {\n        _this.wholeWords.checked = _this._state.wholeWord;\n        somethingChanged = true;\n      }\n\n      if (e.matchCase) {\n        _this.caseSensitive.checked = _this._state.matchCase;\n        somethingChanged = true;\n      }\n\n      if (!_this._state.isRevealed && somethingChanged) {\n        _this._revealTemporarily();\n      }\n    }));\n\n    _this._register(dom.addDisposableNonBubblingMouseOutListener(_this._domNode, function (e) {\n      return _this._onMouseOut();\n    }));\n\n    _this._register(dom.addDisposableListener(_this._domNode, 'mouseover', function (e) {\n      return _this._onMouseOver();\n    }));\n\n    _this._applyTheme(themeService.getTheme());\n\n    _this._register(themeService.onThemeChange(_this._applyTheme.bind(_this)));\n\n    return _this;\n  }\n\n  FindOptionsWidget.prototype._keybindingLabelFor = function (actionId) {\n    var kb = this._keybindingService.lookupKeybinding(actionId);\n\n    if (!kb) {\n      return '';\n    }\n\n    return \" (\" + kb.getLabel() + \")\";\n  };\n\n  FindOptionsWidget.prototype.dispose = function () {\n    this._editor.removeOverlayWidget(this);\n\n    _super.prototype.dispose.call(this);\n  }; // ----- IOverlayWidget API\n\n\n  FindOptionsWidget.prototype.getId = function () {\n    return FindOptionsWidget.ID;\n  };\n\n  FindOptionsWidget.prototype.getDomNode = function () {\n    return this._domNode;\n  };\n\n  FindOptionsWidget.prototype.getPosition = function () {\n    return {\n      preference: 0\n      /* TOP_RIGHT_CORNER */\n\n    };\n  };\n\n  FindOptionsWidget.prototype.highlightFindOptions = function () {\n    this._revealTemporarily();\n  };\n\n  FindOptionsWidget.prototype._revealTemporarily = function () {\n    this._show();\n\n    this._hideSoon.schedule();\n  };\n\n  FindOptionsWidget.prototype._onMouseOut = function () {\n    this._hideSoon.schedule();\n  };\n\n  FindOptionsWidget.prototype._onMouseOver = function () {\n    this._hideSoon.cancel();\n  };\n\n  FindOptionsWidget.prototype._show = function () {\n    if (this._isVisible) {\n      return;\n    }\n\n    this._isVisible = true;\n    this._domNode.style.display = 'block';\n  };\n\n  FindOptionsWidget.prototype._hide = function () {\n    if (!this._isVisible) {\n      return;\n    }\n\n    this._isVisible = false;\n    this._domNode.style.display = 'none';\n  };\n\n  FindOptionsWidget.prototype._applyTheme = function (theme) {\n    var inputStyles = {\n      inputActiveOptionBorder: theme.getColor(inputActiveOptionBorder),\n      inputActiveOptionBackground: theme.getColor(inputActiveOptionBackground)\n    };\n    this.caseSensitive.style(inputStyles);\n    this.wholeWords.style(inputStyles);\n    this.regex.style(inputStyles);\n  };\n\n  FindOptionsWidget.ID = 'editor.contrib.findOptionsWidget';\n  return FindOptionsWidget;\n}(Widget);\n\nexport { FindOptionsWidget };\nregisterThemingParticipant(function (theme, collector) {\n  var widgetBackground = theme.getColor(editorWidgetBackground);\n\n  if (widgetBackground) {\n    collector.addRule(\".monaco-editor .findOptionsWidget { background-color: \" + widgetBackground + \"; }\");\n  }\n\n  var widgetForeground = theme.getColor(editorWidgetForeground);\n\n  if (widgetForeground) {\n    collector.addRule(\".monaco-editor .findOptionsWidget { color: \" + widgetForeground + \"; }\");\n  }\n\n  var widgetShadowColor = theme.getColor(widgetShadow);\n\n  if (widgetShadowColor) {\n    collector.addRule(\".monaco-editor .findOptionsWidget { box-shadow: 0 2px 8px \" + widgetShadowColor + \"; }\");\n  }\n\n  var hcBorder = theme.getColor(contrastBorder);\n\n  if (hcBorder) {\n    collector.addRule(\".monaco-editor .findOptionsWidget { border: 2px solid \" + hcBorder + \"; }\");\n  }\n});","map":{"version":3,"sources":["/Users/ifudata/eclipse-workspace/screen-web/node_modules/monaco-editor/esm/vs/editor/contrib/find/findOptionsWidget.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","dom","CaseSensitiveCheckbox","RegexCheckbox","WholeWordsCheckbox","Widget","RunOnceScheduler","FIND_IDS","contrastBorder","editorWidgetBackground","inputActiveOptionBorder","inputActiveOptionBackground","widgetShadow","editorWidgetForeground","registerThemingParticipant","FindOptionsWidget","_super","editor","state","keybindingService","themeService","_this","call","_hideSoon","_register","_hide","_isVisible","_editor","_state","_keybindingService","_domNode","document","createElement","className","style","display","top","setAttribute","inputActiveOptionBorderColor","getTheme","getColor","inputActiveOptionBackgroundColor","caseSensitive","appendTitle","_keybindingLabelFor","ToggleCaseSensitiveCommand","isChecked","matchCase","appendChild","domNode","onChange","change","checked","wholeWords","ToggleWholeWordCommand","wholeWord","regex","ToggleRegexCommand","isRegex","addOverlayWidget","onFindReplaceStateChange","e","somethingChanged","isRevealed","_revealTemporarily","addDisposableNonBubblingMouseOutListener","_onMouseOut","addDisposableListener","_onMouseOver","_applyTheme","onThemeChange","bind","actionId","kb","lookupKeybinding","getLabel","dispose","removeOverlayWidget","getId","ID","getDomNode","getPosition","preference","highlightFindOptions","_show","schedule","cancel","theme","inputStyles","collector","widgetBackground","addRule","widgetForeground","widgetShadowColor","hcBorder"],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport * as dom from '../../../base/browser/dom.js';\r\nimport { CaseSensitiveCheckbox, RegexCheckbox, WholeWordsCheckbox } from '../../../base/browser/ui/findinput/findInputCheckboxes.js';\r\nimport { Widget } from '../../../base/browser/ui/widget.js';\r\nimport { RunOnceScheduler } from '../../../base/common/async.js';\r\nimport { FIND_IDS } from './findModel.js';\r\nimport { contrastBorder, editorWidgetBackground, inputActiveOptionBorder, inputActiveOptionBackground, widgetShadow, editorWidgetForeground } from '../../../platform/theme/common/colorRegistry.js';\r\nimport { registerThemingParticipant } from '../../../platform/theme/common/themeService.js';\r\nvar FindOptionsWidget = /** @class */ (function (_super) {\r\n    __extends(FindOptionsWidget, _super);\r\n    function FindOptionsWidget(editor, state, keybindingService, themeService) {\r\n        var _this = _super.call(this) || this;\r\n        _this._hideSoon = _this._register(new RunOnceScheduler(function () { return _this._hide(); }, 2000));\r\n        _this._isVisible = false;\r\n        _this._editor = editor;\r\n        _this._state = state;\r\n        _this._keybindingService = keybindingService;\r\n        _this._domNode = document.createElement('div');\r\n        _this._domNode.className = 'findOptionsWidget';\r\n        _this._domNode.style.display = 'none';\r\n        _this._domNode.style.top = '10px';\r\n        _this._domNode.setAttribute('role', 'presentation');\r\n        _this._domNode.setAttribute('aria-hidden', 'true');\r\n        var inputActiveOptionBorderColor = themeService.getTheme().getColor(inputActiveOptionBorder);\r\n        var inputActiveOptionBackgroundColor = themeService.getTheme().getColor(inputActiveOptionBackground);\r\n        _this.caseSensitive = _this._register(new CaseSensitiveCheckbox({\r\n            appendTitle: _this._keybindingLabelFor(FIND_IDS.ToggleCaseSensitiveCommand),\r\n            isChecked: _this._state.matchCase,\r\n            inputActiveOptionBorder: inputActiveOptionBorderColor,\r\n            inputActiveOptionBackground: inputActiveOptionBackgroundColor\r\n        }));\r\n        _this._domNode.appendChild(_this.caseSensitive.domNode);\r\n        _this._register(_this.caseSensitive.onChange(function () {\r\n            _this._state.change({\r\n                matchCase: _this.caseSensitive.checked\r\n            }, false);\r\n        }));\r\n        _this.wholeWords = _this._register(new WholeWordsCheckbox({\r\n            appendTitle: _this._keybindingLabelFor(FIND_IDS.ToggleWholeWordCommand),\r\n            isChecked: _this._state.wholeWord,\r\n            inputActiveOptionBorder: inputActiveOptionBorderColor,\r\n            inputActiveOptionBackground: inputActiveOptionBackgroundColor\r\n        }));\r\n        _this._domNode.appendChild(_this.wholeWords.domNode);\r\n        _this._register(_this.wholeWords.onChange(function () {\r\n            _this._state.change({\r\n                wholeWord: _this.wholeWords.checked\r\n            }, false);\r\n        }));\r\n        _this.regex = _this._register(new RegexCheckbox({\r\n            appendTitle: _this._keybindingLabelFor(FIND_IDS.ToggleRegexCommand),\r\n            isChecked: _this._state.isRegex,\r\n            inputActiveOptionBorder: inputActiveOptionBorderColor,\r\n            inputActiveOptionBackground: inputActiveOptionBackgroundColor\r\n        }));\r\n        _this._domNode.appendChild(_this.regex.domNode);\r\n        _this._register(_this.regex.onChange(function () {\r\n            _this._state.change({\r\n                isRegex: _this.regex.checked\r\n            }, false);\r\n        }));\r\n        _this._editor.addOverlayWidget(_this);\r\n        _this._register(_this._state.onFindReplaceStateChange(function (e) {\r\n            var somethingChanged = false;\r\n            if (e.isRegex) {\r\n                _this.regex.checked = _this._state.isRegex;\r\n                somethingChanged = true;\r\n            }\r\n            if (e.wholeWord) {\r\n                _this.wholeWords.checked = _this._state.wholeWord;\r\n                somethingChanged = true;\r\n            }\r\n            if (e.matchCase) {\r\n                _this.caseSensitive.checked = _this._state.matchCase;\r\n                somethingChanged = true;\r\n            }\r\n            if (!_this._state.isRevealed && somethingChanged) {\r\n                _this._revealTemporarily();\r\n            }\r\n        }));\r\n        _this._register(dom.addDisposableNonBubblingMouseOutListener(_this._domNode, function (e) { return _this._onMouseOut(); }));\r\n        _this._register(dom.addDisposableListener(_this._domNode, 'mouseover', function (e) { return _this._onMouseOver(); }));\r\n        _this._applyTheme(themeService.getTheme());\r\n        _this._register(themeService.onThemeChange(_this._applyTheme.bind(_this)));\r\n        return _this;\r\n    }\r\n    FindOptionsWidget.prototype._keybindingLabelFor = function (actionId) {\r\n        var kb = this._keybindingService.lookupKeybinding(actionId);\r\n        if (!kb) {\r\n            return '';\r\n        }\r\n        return \" (\" + kb.getLabel() + \")\";\r\n    };\r\n    FindOptionsWidget.prototype.dispose = function () {\r\n        this._editor.removeOverlayWidget(this);\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    // ----- IOverlayWidget API\r\n    FindOptionsWidget.prototype.getId = function () {\r\n        return FindOptionsWidget.ID;\r\n    };\r\n    FindOptionsWidget.prototype.getDomNode = function () {\r\n        return this._domNode;\r\n    };\r\n    FindOptionsWidget.prototype.getPosition = function () {\r\n        return {\r\n            preference: 0 /* TOP_RIGHT_CORNER */\r\n        };\r\n    };\r\n    FindOptionsWidget.prototype.highlightFindOptions = function () {\r\n        this._revealTemporarily();\r\n    };\r\n    FindOptionsWidget.prototype._revealTemporarily = function () {\r\n        this._show();\r\n        this._hideSoon.schedule();\r\n    };\r\n    FindOptionsWidget.prototype._onMouseOut = function () {\r\n        this._hideSoon.schedule();\r\n    };\r\n    FindOptionsWidget.prototype._onMouseOver = function () {\r\n        this._hideSoon.cancel();\r\n    };\r\n    FindOptionsWidget.prototype._show = function () {\r\n        if (this._isVisible) {\r\n            return;\r\n        }\r\n        this._isVisible = true;\r\n        this._domNode.style.display = 'block';\r\n    };\r\n    FindOptionsWidget.prototype._hide = function () {\r\n        if (!this._isVisible) {\r\n            return;\r\n        }\r\n        this._isVisible = false;\r\n        this._domNode.style.display = 'none';\r\n    };\r\n    FindOptionsWidget.prototype._applyTheme = function (theme) {\r\n        var inputStyles = {\r\n            inputActiveOptionBorder: theme.getColor(inputActiveOptionBorder),\r\n            inputActiveOptionBackground: theme.getColor(inputActiveOptionBackground)\r\n        };\r\n        this.caseSensitive.style(inputStyles);\r\n        this.wholeWords.style(inputStyles);\r\n        this.regex.style(inputStyles);\r\n    };\r\n    FindOptionsWidget.ID = 'editor.contrib.findOptionsWidget';\r\n    return FindOptionsWidget;\r\n}(Widget));\r\nexport { FindOptionsWidget };\r\nregisterThemingParticipant(function (theme, collector) {\r\n    var widgetBackground = theme.getColor(editorWidgetBackground);\r\n    if (widgetBackground) {\r\n        collector.addRule(\".monaco-editor .findOptionsWidget { background-color: \" + widgetBackground + \"; }\");\r\n    }\r\n    var widgetForeground = theme.getColor(editorWidgetForeground);\r\n    if (widgetForeground) {\r\n        collector.addRule(\".monaco-editor .findOptionsWidget { color: \" + widgetForeground + \"; }\");\r\n    }\r\n    var widgetShadowColor = theme.getColor(widgetShadow);\r\n    if (widgetShadowColor) {\r\n        collector.addRule(\".monaco-editor .findOptionsWidget { box-shadow: 0 2px 8px \" + widgetShadowColor + \"; }\");\r\n    }\r\n    var hcBorder = theme.getColor(contrastBorder);\r\n    if (hcBorder) {\r\n        collector.addRule(\".monaco-editor .findOptionsWidget { border: 2px solid \" + hcBorder + \"; }\");\r\n    }\r\n});\r\n"]},"metadata":{},"sourceType":"module"}