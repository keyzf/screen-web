{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { IBulkEditService } from '../../browser/services/bulkEditService.js';\nimport { ICodeEditorService } from '../../browser/services/codeEditorService.js';\nimport { IEditorWorkerService } from '../../common/services/editorWorkerService.js';\nimport { EditorWorkerServiceImpl } from '../../common/services/editorWorkerServiceImpl.js';\nimport { IModeService } from '../../common/services/modeService.js';\nimport { ModeServiceImpl } from '../../common/services/modeServiceImpl.js';\nimport { IModelService } from '../../common/services/modelService.js';\nimport { ModelServiceImpl } from '../../common/services/modelServiceImpl.js';\nimport { ITextResourceConfigurationService, ITextResourcePropertiesService } from '../../common/services/textResourceConfigurationService.js';\nimport { SimpleBulkEditService, SimpleConfigurationService, SimpleDialogService, SimpleNotificationService, SimpleEditorProgressService, SimpleResourceConfigurationService, SimpleResourcePropertiesService, SimpleUriLabelService, SimpleWorkspaceContextService, StandaloneCommandService, StandaloneKeybindingService, StandaloneTelemetryService, SimpleLayoutService } from './simpleServices.js';\nimport { StandaloneCodeEditorServiceImpl } from './standaloneCodeServiceImpl.js';\nimport { StandaloneThemeServiceImpl } from './standaloneThemeServiceImpl.js';\nimport { IStandaloneThemeService } from '../common/standaloneThemeService.js';\nimport { IMenuService } from '../../../platform/actions/common/actions.js';\nimport { ICommandService } from '../../../platform/commands/common/commands.js';\nimport { IConfigurationService } from '../../../platform/configuration/common/configuration.js';\nimport { ContextKeyService } from '../../../platform/contextkey/browser/contextKeyService.js';\nimport { IContextKeyService } from '../../../platform/contextkey/common/contextkey.js';\nimport { ContextMenuService } from '../../../platform/contextview/browser/contextMenuService.js';\nimport { IContextMenuService, IContextViewService } from '../../../platform/contextview/browser/contextView.js';\nimport { ContextViewService } from '../../../platform/contextview/browser/contextViewService.js';\nimport { IDialogService } from '../../../platform/dialogs/common/dialogs.js';\nimport { IInstantiationService, createDecorator } from '../../../platform/instantiation/common/instantiation.js';\nimport { InstantiationService } from '../../../platform/instantiation/common/instantiationService.js';\nimport { ServiceCollection } from '../../../platform/instantiation/common/serviceCollection.js';\nimport { IKeybindingService } from '../../../platform/keybinding/common/keybinding.js';\nimport { ILabelService } from '../../../platform/label/common/label.js';\nimport { IListService, ListService } from '../../../platform/list/browser/listService.js';\nimport { ILogService, NullLogService } from '../../../platform/log/common/log.js';\nimport { MarkerService } from '../../../platform/markers/common/markerService.js';\nimport { IMarkerService } from '../../../platform/markers/common/markers.js';\nimport { INotificationService } from '../../../platform/notification/common/notification.js';\nimport { IEditorProgressService } from '../../../platform/progress/common/progress.js';\nimport { IStorageService, InMemoryStorageService } from '../../../platform/storage/common/storage.js';\nimport { ITelemetryService } from '../../../platform/telemetry/common/telemetry.js';\nimport { IThemeService } from '../../../platform/theme/common/themeService.js';\nimport { IWorkspaceContextService } from '../../../platform/workspace/common/workspace.js';\nimport { MenuService } from '../../../platform/actions/common/menuService.js';\nimport { IMarkerDecorationsService } from '../../common/services/markersDecorationService.js';\nimport { MarkerDecorationsService } from '../../common/services/markerDecorationsServiceImpl.js';\nimport { IAccessibilityService } from '../../../platform/accessibility/common/accessibility.js';\nimport { ILayoutService } from '../../../platform/layout/browser/layoutService.js';\nimport { getSingletonServiceDescriptors } from '../../../platform/instantiation/common/extensions.js';\nimport { AccessibilityService } from '../../../platform/accessibility/common/accessibilityService.js';\nexport var StaticServices;\n\n(function (StaticServices) {\n  var _serviceCollection = new ServiceCollection();\n\n  var LazyStaticService =\n  /** @class */\n  function () {\n    function LazyStaticService(serviceId, factory) {\n      this._serviceId = serviceId;\n      this._factory = factory;\n      this._value = null;\n    }\n\n    Object.defineProperty(LazyStaticService.prototype, \"id\", {\n      get: function () {\n        return this._serviceId;\n      },\n      enumerable: true,\n      configurable: true\n    });\n\n    LazyStaticService.prototype.get = function (overrides) {\n      if (!this._value) {\n        if (overrides) {\n          this._value = overrides[this._serviceId.toString()];\n        }\n\n        if (!this._value) {\n          this._value = this._factory(overrides);\n        }\n\n        if (!this._value) {\n          throw new Error('Service ' + this._serviceId + ' is missing!');\n        }\n\n        _serviceCollection.set(this._serviceId, this._value);\n      }\n\n      return this._value;\n    };\n\n    return LazyStaticService;\n  }();\n\n  StaticServices.LazyStaticService = LazyStaticService;\n  var _all = [];\n\n  function define(serviceId, factory) {\n    var r = new LazyStaticService(serviceId, factory);\n\n    _all.push(r);\n\n    return r;\n  }\n\n  function init(overrides) {\n    // Create a fresh service collection\n    var result = new ServiceCollection(); // make sure to add all services that use `registerSingleton`\n\n    for (var _i = 0, _a = getSingletonServiceDescriptors(); _i < _a.length; _i++) {\n      var _b = _a[_i],\n          id = _b[0],\n          descriptor = _b[1];\n      result.set(id, descriptor);\n    } // Initialize the service collection with the overrides\n\n\n    for (var serviceId in overrides) {\n      if (overrides.hasOwnProperty(serviceId)) {\n        result.set(createDecorator(serviceId), overrides[serviceId]);\n      }\n    } // Make sure the same static services are present in all service collections\n\n\n    _all.forEach(function (service) {\n      return result.set(service.id, service.get(overrides));\n    }); // Ensure the collection gets the correct instantiation service\n\n\n    var instantiationService = new InstantiationService(result, true);\n    result.set(IInstantiationService, instantiationService);\n    return [result, instantiationService];\n  }\n\n  StaticServices.init = init;\n  StaticServices.instantiationService = define(IInstantiationService, function () {\n    return new InstantiationService(_serviceCollection, true);\n  });\n  var configurationServiceImpl = new SimpleConfigurationService();\n  StaticServices.configurationService = define(IConfigurationService, function () {\n    return configurationServiceImpl;\n  });\n  StaticServices.resourceConfigurationService = define(ITextResourceConfigurationService, function () {\n    return new SimpleResourceConfigurationService(configurationServiceImpl);\n  });\n  StaticServices.resourcePropertiesService = define(ITextResourcePropertiesService, function () {\n    return new SimpleResourcePropertiesService(configurationServiceImpl);\n  });\n  StaticServices.contextService = define(IWorkspaceContextService, function () {\n    return new SimpleWorkspaceContextService();\n  });\n  StaticServices.labelService = define(ILabelService, function () {\n    return new SimpleUriLabelService();\n  });\n  StaticServices.telemetryService = define(ITelemetryService, function () {\n    return new StandaloneTelemetryService();\n  });\n  StaticServices.dialogService = define(IDialogService, function () {\n    return new SimpleDialogService();\n  });\n  StaticServices.notificationService = define(INotificationService, function () {\n    return new SimpleNotificationService();\n  });\n  StaticServices.markerService = define(IMarkerService, function () {\n    return new MarkerService();\n  });\n  StaticServices.modeService = define(IModeService, function (o) {\n    return new ModeServiceImpl();\n  });\n  StaticServices.standaloneThemeService = define(IStandaloneThemeService, function () {\n    return new StandaloneThemeServiceImpl();\n  });\n  StaticServices.logService = define(ILogService, function () {\n    return new NullLogService();\n  });\n  StaticServices.modelService = define(IModelService, function (o) {\n    return new ModelServiceImpl(StaticServices.configurationService.get(o), StaticServices.resourcePropertiesService.get(o), StaticServices.standaloneThemeService.get(o), StaticServices.logService.get(o));\n  });\n  StaticServices.markerDecorationsService = define(IMarkerDecorationsService, function (o) {\n    return new MarkerDecorationsService(StaticServices.modelService.get(o), StaticServices.markerService.get(o));\n  });\n  StaticServices.codeEditorService = define(ICodeEditorService, function (o) {\n    return new StandaloneCodeEditorServiceImpl(StaticServices.standaloneThemeService.get(o));\n  });\n  StaticServices.editorProgressService = define(IEditorProgressService, function () {\n    return new SimpleEditorProgressService();\n  });\n  StaticServices.storageService = define(IStorageService, function () {\n    return new InMemoryStorageService();\n  });\n  StaticServices.editorWorkerService = define(IEditorWorkerService, function (o) {\n    return new EditorWorkerServiceImpl(StaticServices.modelService.get(o), StaticServices.resourceConfigurationService.get(o), StaticServices.logService.get(o));\n  });\n})(StaticServices || (StaticServices = {}));\n\nvar DynamicStandaloneServices =\n/** @class */\nfunction (_super) {\n  __extends(DynamicStandaloneServices, _super);\n\n  function DynamicStandaloneServices(domElement, overrides) {\n    var _this = _super.call(this) || this;\n\n    var _a = StaticServices.init(overrides),\n        _serviceCollection = _a[0],\n        _instantiationService = _a[1];\n\n    _this._serviceCollection = _serviceCollection;\n    _this._instantiationService = _instantiationService;\n\n    var configurationService = _this.get(IConfigurationService);\n\n    var notificationService = _this.get(INotificationService);\n\n    var telemetryService = _this.get(ITelemetryService);\n\n    var themeService = _this.get(IThemeService);\n\n    var ensure = function (serviceId, factory) {\n      var value = null;\n\n      if (overrides) {\n        value = overrides[serviceId.toString()];\n      }\n\n      if (!value) {\n        value = factory();\n      }\n\n      _this._serviceCollection.set(serviceId, value);\n\n      return value;\n    };\n\n    var contextKeyService = ensure(IContextKeyService, function () {\n      return _this._register(new ContextKeyService(configurationService));\n    });\n    ensure(IAccessibilityService, function () {\n      return new AccessibilityService(contextKeyService, configurationService);\n    });\n    ensure(IListService, function () {\n      return new ListService(themeService);\n    });\n    var commandService = ensure(ICommandService, function () {\n      return new StandaloneCommandService(_this._instantiationService);\n    });\n    var keybindingService = ensure(IKeybindingService, function () {\n      return _this._register(new StandaloneKeybindingService(contextKeyService, commandService, telemetryService, notificationService, domElement));\n    });\n    var layoutService = ensure(ILayoutService, function () {\n      return new SimpleLayoutService(domElement);\n    });\n    var contextViewService = ensure(IContextViewService, function () {\n      return _this._register(new ContextViewService(layoutService));\n    });\n    ensure(IContextMenuService, function () {\n      var contextMenuService = new ContextMenuService(telemetryService, notificationService, contextViewService, keybindingService, themeService);\n      contextMenuService.configure({\n        blockMouse: false\n      }); // we do not want that in the standalone editor\n\n      return _this._register(contextMenuService);\n    });\n    ensure(IMenuService, function () {\n      return new MenuService(commandService);\n    });\n    ensure(IBulkEditService, function () {\n      return new SimpleBulkEditService(StaticServices.modelService.get(IModelService));\n    });\n    return _this;\n  }\n\n  DynamicStandaloneServices.prototype.get = function (serviceId) {\n    var r = this._serviceCollection.get(serviceId);\n\n    if (!r) {\n      throw new Error('Missing service ' + serviceId);\n    }\n\n    return r;\n  };\n\n  DynamicStandaloneServices.prototype.set = function (serviceId, instance) {\n    this._serviceCollection.set(serviceId, instance);\n  };\n\n  DynamicStandaloneServices.prototype.has = function (serviceId) {\n    return this._serviceCollection.has(serviceId);\n  };\n\n  return DynamicStandaloneServices;\n}(Disposable);\n\nexport { DynamicStandaloneServices };","map":{"version":3,"sources":["/Users/ifudata/eclipse-workspace/screen-web/node_modules/monaco-editor/esm/vs/editor/standalone/browser/standaloneServices.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","Disposable","IBulkEditService","ICodeEditorService","IEditorWorkerService","EditorWorkerServiceImpl","IModeService","ModeServiceImpl","IModelService","ModelServiceImpl","ITextResourceConfigurationService","ITextResourcePropertiesService","SimpleBulkEditService","SimpleConfigurationService","SimpleDialogService","SimpleNotificationService","SimpleEditorProgressService","SimpleResourceConfigurationService","SimpleResourcePropertiesService","SimpleUriLabelService","SimpleWorkspaceContextService","StandaloneCommandService","StandaloneKeybindingService","StandaloneTelemetryService","SimpleLayoutService","StandaloneCodeEditorServiceImpl","StandaloneThemeServiceImpl","IStandaloneThemeService","IMenuService","ICommandService","IConfigurationService","ContextKeyService","IContextKeyService","ContextMenuService","IContextMenuService","IContextViewService","ContextViewService","IDialogService","IInstantiationService","createDecorator","InstantiationService","ServiceCollection","IKeybindingService","ILabelService","IListService","ListService","ILogService","NullLogService","MarkerService","IMarkerService","INotificationService","IEditorProgressService","IStorageService","InMemoryStorageService","ITelemetryService","IThemeService","IWorkspaceContextService","MenuService","IMarkerDecorationsService","MarkerDecorationsService","IAccessibilityService","ILayoutService","getSingletonServiceDescriptors","AccessibilityService","StaticServices","_serviceCollection","LazyStaticService","serviceId","factory","_serviceId","_factory","_value","defineProperty","get","enumerable","configurable","overrides","toString","Error","set","_all","define","r","push","init","result","_i","_a","length","_b","id","descriptor","forEach","service","instantiationService","configurationServiceImpl","configurationService","resourceConfigurationService","resourcePropertiesService","contextService","labelService","telemetryService","dialogService","notificationService","markerService","modeService","o","standaloneThemeService","logService","modelService","markerDecorationsService","codeEditorService","editorProgressService","storageService","editorWorkerService","DynamicStandaloneServices","_super","domElement","_this","call","_instantiationService","themeService","ensure","value","contextKeyService","_register","commandService","keybindingService","layoutService","contextViewService","contextMenuService","configure","blockMouse","instance","has"],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Disposable } from '../../../base/common/lifecycle.js';\r\nimport { IBulkEditService } from '../../browser/services/bulkEditService.js';\r\nimport { ICodeEditorService } from '../../browser/services/codeEditorService.js';\r\nimport { IEditorWorkerService } from '../../common/services/editorWorkerService.js';\r\nimport { EditorWorkerServiceImpl } from '../../common/services/editorWorkerServiceImpl.js';\r\nimport { IModeService } from '../../common/services/modeService.js';\r\nimport { ModeServiceImpl } from '../../common/services/modeServiceImpl.js';\r\nimport { IModelService } from '../../common/services/modelService.js';\r\nimport { ModelServiceImpl } from '../../common/services/modelServiceImpl.js';\r\nimport { ITextResourceConfigurationService, ITextResourcePropertiesService } from '../../common/services/textResourceConfigurationService.js';\r\nimport { SimpleBulkEditService, SimpleConfigurationService, SimpleDialogService, SimpleNotificationService, SimpleEditorProgressService, SimpleResourceConfigurationService, SimpleResourcePropertiesService, SimpleUriLabelService, SimpleWorkspaceContextService, StandaloneCommandService, StandaloneKeybindingService, StandaloneTelemetryService, SimpleLayoutService } from './simpleServices.js';\r\nimport { StandaloneCodeEditorServiceImpl } from './standaloneCodeServiceImpl.js';\r\nimport { StandaloneThemeServiceImpl } from './standaloneThemeServiceImpl.js';\r\nimport { IStandaloneThemeService } from '../common/standaloneThemeService.js';\r\nimport { IMenuService } from '../../../platform/actions/common/actions.js';\r\nimport { ICommandService } from '../../../platform/commands/common/commands.js';\r\nimport { IConfigurationService } from '../../../platform/configuration/common/configuration.js';\r\nimport { ContextKeyService } from '../../../platform/contextkey/browser/contextKeyService.js';\r\nimport { IContextKeyService } from '../../../platform/contextkey/common/contextkey.js';\r\nimport { ContextMenuService } from '../../../platform/contextview/browser/contextMenuService.js';\r\nimport { IContextMenuService, IContextViewService } from '../../../platform/contextview/browser/contextView.js';\r\nimport { ContextViewService } from '../../../platform/contextview/browser/contextViewService.js';\r\nimport { IDialogService } from '../../../platform/dialogs/common/dialogs.js';\r\nimport { IInstantiationService, createDecorator } from '../../../platform/instantiation/common/instantiation.js';\r\nimport { InstantiationService } from '../../../platform/instantiation/common/instantiationService.js';\r\nimport { ServiceCollection } from '../../../platform/instantiation/common/serviceCollection.js';\r\nimport { IKeybindingService } from '../../../platform/keybinding/common/keybinding.js';\r\nimport { ILabelService } from '../../../platform/label/common/label.js';\r\nimport { IListService, ListService } from '../../../platform/list/browser/listService.js';\r\nimport { ILogService, NullLogService } from '../../../platform/log/common/log.js';\r\nimport { MarkerService } from '../../../platform/markers/common/markerService.js';\r\nimport { IMarkerService } from '../../../platform/markers/common/markers.js';\r\nimport { INotificationService } from '../../../platform/notification/common/notification.js';\r\nimport { IEditorProgressService } from '../../../platform/progress/common/progress.js';\r\nimport { IStorageService, InMemoryStorageService } from '../../../platform/storage/common/storage.js';\r\nimport { ITelemetryService } from '../../../platform/telemetry/common/telemetry.js';\r\nimport { IThemeService } from '../../../platform/theme/common/themeService.js';\r\nimport { IWorkspaceContextService } from '../../../platform/workspace/common/workspace.js';\r\nimport { MenuService } from '../../../platform/actions/common/menuService.js';\r\nimport { IMarkerDecorationsService } from '../../common/services/markersDecorationService.js';\r\nimport { MarkerDecorationsService } from '../../common/services/markerDecorationsServiceImpl.js';\r\nimport { IAccessibilityService } from '../../../platform/accessibility/common/accessibility.js';\r\nimport { ILayoutService } from '../../../platform/layout/browser/layoutService.js';\r\nimport { getSingletonServiceDescriptors } from '../../../platform/instantiation/common/extensions.js';\r\nimport { AccessibilityService } from '../../../platform/accessibility/common/accessibilityService.js';\r\nexport var StaticServices;\r\n(function (StaticServices) {\r\n    var _serviceCollection = new ServiceCollection();\r\n    var LazyStaticService = /** @class */ (function () {\r\n        function LazyStaticService(serviceId, factory) {\r\n            this._serviceId = serviceId;\r\n            this._factory = factory;\r\n            this._value = null;\r\n        }\r\n        Object.defineProperty(LazyStaticService.prototype, \"id\", {\r\n            get: function () { return this._serviceId; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        LazyStaticService.prototype.get = function (overrides) {\r\n            if (!this._value) {\r\n                if (overrides) {\r\n                    this._value = overrides[this._serviceId.toString()];\r\n                }\r\n                if (!this._value) {\r\n                    this._value = this._factory(overrides);\r\n                }\r\n                if (!this._value) {\r\n                    throw new Error('Service ' + this._serviceId + ' is missing!');\r\n                }\r\n                _serviceCollection.set(this._serviceId, this._value);\r\n            }\r\n            return this._value;\r\n        };\r\n        return LazyStaticService;\r\n    }());\r\n    StaticServices.LazyStaticService = LazyStaticService;\r\n    var _all = [];\r\n    function define(serviceId, factory) {\r\n        var r = new LazyStaticService(serviceId, factory);\r\n        _all.push(r);\r\n        return r;\r\n    }\r\n    function init(overrides) {\r\n        // Create a fresh service collection\r\n        var result = new ServiceCollection();\r\n        // make sure to add all services that use `registerSingleton`\r\n        for (var _i = 0, _a = getSingletonServiceDescriptors(); _i < _a.length; _i++) {\r\n            var _b = _a[_i], id = _b[0], descriptor = _b[1];\r\n            result.set(id, descriptor);\r\n        }\r\n        // Initialize the service collection with the overrides\r\n        for (var serviceId in overrides) {\r\n            if (overrides.hasOwnProperty(serviceId)) {\r\n                result.set(createDecorator(serviceId), overrides[serviceId]);\r\n            }\r\n        }\r\n        // Make sure the same static services are present in all service collections\r\n        _all.forEach(function (service) { return result.set(service.id, service.get(overrides)); });\r\n        // Ensure the collection gets the correct instantiation service\r\n        var instantiationService = new InstantiationService(result, true);\r\n        result.set(IInstantiationService, instantiationService);\r\n        return [result, instantiationService];\r\n    }\r\n    StaticServices.init = init;\r\n    StaticServices.instantiationService = define(IInstantiationService, function () { return new InstantiationService(_serviceCollection, true); });\r\n    var configurationServiceImpl = new SimpleConfigurationService();\r\n    StaticServices.configurationService = define(IConfigurationService, function () { return configurationServiceImpl; });\r\n    StaticServices.resourceConfigurationService = define(ITextResourceConfigurationService, function () { return new SimpleResourceConfigurationService(configurationServiceImpl); });\r\n    StaticServices.resourcePropertiesService = define(ITextResourcePropertiesService, function () { return new SimpleResourcePropertiesService(configurationServiceImpl); });\r\n    StaticServices.contextService = define(IWorkspaceContextService, function () { return new SimpleWorkspaceContextService(); });\r\n    StaticServices.labelService = define(ILabelService, function () { return new SimpleUriLabelService(); });\r\n    StaticServices.telemetryService = define(ITelemetryService, function () { return new StandaloneTelemetryService(); });\r\n    StaticServices.dialogService = define(IDialogService, function () { return new SimpleDialogService(); });\r\n    StaticServices.notificationService = define(INotificationService, function () { return new SimpleNotificationService(); });\r\n    StaticServices.markerService = define(IMarkerService, function () { return new MarkerService(); });\r\n    StaticServices.modeService = define(IModeService, function (o) { return new ModeServiceImpl(); });\r\n    StaticServices.standaloneThemeService = define(IStandaloneThemeService, function () { return new StandaloneThemeServiceImpl(); });\r\n    StaticServices.logService = define(ILogService, function () { return new NullLogService(); });\r\n    StaticServices.modelService = define(IModelService, function (o) { return new ModelServiceImpl(StaticServices.configurationService.get(o), StaticServices.resourcePropertiesService.get(o), StaticServices.standaloneThemeService.get(o), StaticServices.logService.get(o)); });\r\n    StaticServices.markerDecorationsService = define(IMarkerDecorationsService, function (o) { return new MarkerDecorationsService(StaticServices.modelService.get(o), StaticServices.markerService.get(o)); });\r\n    StaticServices.codeEditorService = define(ICodeEditorService, function (o) { return new StandaloneCodeEditorServiceImpl(StaticServices.standaloneThemeService.get(o)); });\r\n    StaticServices.editorProgressService = define(IEditorProgressService, function () { return new SimpleEditorProgressService(); });\r\n    StaticServices.storageService = define(IStorageService, function () { return new InMemoryStorageService(); });\r\n    StaticServices.editorWorkerService = define(IEditorWorkerService, function (o) { return new EditorWorkerServiceImpl(StaticServices.modelService.get(o), StaticServices.resourceConfigurationService.get(o), StaticServices.logService.get(o)); });\r\n})(StaticServices || (StaticServices = {}));\r\nvar DynamicStandaloneServices = /** @class */ (function (_super) {\r\n    __extends(DynamicStandaloneServices, _super);\r\n    function DynamicStandaloneServices(domElement, overrides) {\r\n        var _this = _super.call(this) || this;\r\n        var _a = StaticServices.init(overrides), _serviceCollection = _a[0], _instantiationService = _a[1];\r\n        _this._serviceCollection = _serviceCollection;\r\n        _this._instantiationService = _instantiationService;\r\n        var configurationService = _this.get(IConfigurationService);\r\n        var notificationService = _this.get(INotificationService);\r\n        var telemetryService = _this.get(ITelemetryService);\r\n        var themeService = _this.get(IThemeService);\r\n        var ensure = function (serviceId, factory) {\r\n            var value = null;\r\n            if (overrides) {\r\n                value = overrides[serviceId.toString()];\r\n            }\r\n            if (!value) {\r\n                value = factory();\r\n            }\r\n            _this._serviceCollection.set(serviceId, value);\r\n            return value;\r\n        };\r\n        var contextKeyService = ensure(IContextKeyService, function () { return _this._register(new ContextKeyService(configurationService)); });\r\n        ensure(IAccessibilityService, function () { return new AccessibilityService(contextKeyService, configurationService); });\r\n        ensure(IListService, function () { return new ListService(themeService); });\r\n        var commandService = ensure(ICommandService, function () { return new StandaloneCommandService(_this._instantiationService); });\r\n        var keybindingService = ensure(IKeybindingService, function () { return _this._register(new StandaloneKeybindingService(contextKeyService, commandService, telemetryService, notificationService, domElement)); });\r\n        var layoutService = ensure(ILayoutService, function () { return new SimpleLayoutService(domElement); });\r\n        var contextViewService = ensure(IContextViewService, function () { return _this._register(new ContextViewService(layoutService)); });\r\n        ensure(IContextMenuService, function () {\r\n            var contextMenuService = new ContextMenuService(telemetryService, notificationService, contextViewService, keybindingService, themeService);\r\n            contextMenuService.configure({ blockMouse: false }); // we do not want that in the standalone editor\r\n            return _this._register(contextMenuService);\r\n        });\r\n        ensure(IMenuService, function () { return new MenuService(commandService); });\r\n        ensure(IBulkEditService, function () { return new SimpleBulkEditService(StaticServices.modelService.get(IModelService)); });\r\n        return _this;\r\n    }\r\n    DynamicStandaloneServices.prototype.get = function (serviceId) {\r\n        var r = this._serviceCollection.get(serviceId);\r\n        if (!r) {\r\n            throw new Error('Missing service ' + serviceId);\r\n        }\r\n        return r;\r\n    };\r\n    DynamicStandaloneServices.prototype.set = function (serviceId, instance) {\r\n        this._serviceCollection.set(serviceId, instance);\r\n    };\r\n    DynamicStandaloneServices.prototype.has = function (serviceId) {\r\n        return this._serviceCollection.has(serviceId);\r\n    };\r\n    return DynamicStandaloneServices;\r\n}(Disposable));\r\nexport { DynamicStandaloneServices };\r\n"]},"metadata":{},"sourceType":"module"}