{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nimport { localize } from '../../../nls.js';\nimport { Emitter } from '../../../base/common/event.js';\nimport { basename } from '../../../base/common/resources.js';\nimport { dispose, DisposableStore } from '../../../base/common/lifecycle.js';\nimport * as strings from '../../../base/common/strings.js';\nimport { defaultGenerator } from '../../../base/common/idGenerator.js';\nimport { Range } from '../../common/core/range.js';\n\nvar OneReference =\n/** @class */\nfunction () {\n  function OneReference(isProviderFirst, parent, _range, _rangeCallback) {\n    this.isProviderFirst = isProviderFirst;\n    this.parent = parent;\n    this._range = _range;\n    this._rangeCallback = _rangeCallback;\n    this.id = defaultGenerator.nextId();\n  }\n\n  Object.defineProperty(OneReference.prototype, \"uri\", {\n    get: function () {\n      return this.parent.uri;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(OneReference.prototype, \"range\", {\n    get: function () {\n      return this._range;\n    },\n    set: function (value) {\n      this._range = value;\n\n      this._rangeCallback(this);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(OneReference.prototype, \"ariaMessage\", {\n    get: function () {\n      return localize('aria.oneReference', \"symbol in {0} on line {1} at column {2}\", basename(this.uri), this.range.startLineNumber, this.range.startColumn);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  return OneReference;\n}();\n\nexport { OneReference };\n\nvar FilePreview =\n/** @class */\nfunction () {\n  function FilePreview(_modelReference) {\n    this._modelReference = _modelReference;\n  }\n\n  FilePreview.prototype.dispose = function () {\n    this._modelReference.dispose();\n  };\n\n  FilePreview.prototype.preview = function (range, n) {\n    if (n === void 0) {\n      n = 8;\n    }\n\n    var model = this._modelReference.object.textEditorModel;\n\n    if (!model) {\n      return undefined;\n    }\n\n    var startLineNumber = range.startLineNumber,\n        startColumn = range.startColumn,\n        endLineNumber = range.endLineNumber,\n        endColumn = range.endColumn;\n    var word = model.getWordUntilPosition({\n      lineNumber: startLineNumber,\n      column: startColumn - n\n    });\n    var beforeRange = new Range(startLineNumber, word.startColumn, startLineNumber, startColumn);\n    var afterRange = new Range(endLineNumber, endColumn, endLineNumber, 1073741824\n    /* MAX_SAFE_SMALL_INTEGER */\n    );\n    var before = model.getValueInRange(beforeRange).replace(/^\\s+/, '');\n    var inside = model.getValueInRange(range);\n    var after = model.getValueInRange(afterRange).replace(/\\s+$/, '');\n    return {\n      value: before + inside + after,\n      highlight: {\n        start: before.length,\n        end: before.length + inside.length\n      }\n    };\n  };\n\n  return FilePreview;\n}();\n\nexport { FilePreview };\n\nvar FileReferences =\n/** @class */\nfunction () {\n  function FileReferences(parent, uri) {\n    this.parent = parent;\n    this.uri = uri;\n    this.children = [];\n  }\n\n  FileReferences.prototype.dispose = function () {\n    dispose(this._preview);\n    this._preview = undefined;\n  };\n\n  Object.defineProperty(FileReferences.prototype, \"preview\", {\n    get: function () {\n      return this._preview;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(FileReferences.prototype, \"failure\", {\n    get: function () {\n      return this._loadFailure;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(FileReferences.prototype, \"ariaMessage\", {\n    get: function () {\n      var len = this.children.length;\n\n      if (len === 1) {\n        return localize('aria.fileReferences.1', \"1 symbol in {0}, full path {1}\", basename(this.uri), this.uri.fsPath);\n      } else {\n        return localize('aria.fileReferences.N', \"{0} symbols in {1}, full path {2}\", len, basename(this.uri), this.uri.fsPath);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  FileReferences.prototype.resolve = function (textModelResolverService) {\n    var _this = this;\n\n    if (this._resolved) {\n      return Promise.resolve(this);\n    }\n\n    return Promise.resolve(textModelResolverService.createModelReference(this.uri).then(function (modelReference) {\n      var model = modelReference.object;\n\n      if (!model) {\n        modelReference.dispose();\n        throw new Error();\n      }\n\n      _this._preview = new FilePreview(modelReference);\n      _this._resolved = true;\n      return _this;\n    }, function (err) {\n      // something wrong here\n      _this.children.length = 0;\n      _this._resolved = true;\n      _this._loadFailure = err;\n      return _this;\n    }));\n  };\n\n  return FileReferences;\n}();\n\nexport { FileReferences };\n\nvar ReferencesModel =\n/** @class */\nfunction () {\n  function ReferencesModel(links, title) {\n    var _this = this;\n\n    this._disposables = new DisposableStore();\n    this.groups = [];\n    this.references = [];\n    this._onDidChangeReferenceRange = new Emitter();\n    this.onDidChangeReferenceRange = this._onDidChangeReferenceRange.event;\n    this._links = links;\n    this._title = title; // grouping and sorting\n\n    var providersFirst = links[0];\n    links.sort(ReferencesModel._compareReferences);\n    var current;\n\n    for (var _i = 0, links_1 = links; _i < links_1.length; _i++) {\n      var link = links_1[_i];\n\n      if (!current || current.uri.toString() !== link.uri.toString()) {\n        // new group\n        current = new FileReferences(this, link.uri);\n        this.groups.push(current);\n      } // append, check for equality first!\n\n\n      if (current.children.length === 0 || !Range.equalsRange(link.range, current.children[current.children.length - 1].range)) {\n        var oneRef = new OneReference(providersFirst === link, current, link.targetSelectionRange || link.range, function (ref) {\n          return _this._onDidChangeReferenceRange.fire(ref);\n        });\n        this.references.push(oneRef);\n        current.children.push(oneRef);\n      }\n    }\n  }\n\n  ReferencesModel.prototype.dispose = function () {\n    dispose(this.groups);\n\n    this._disposables.dispose();\n\n    this._onDidChangeReferenceRange.dispose();\n\n    this.groups.length = 0;\n  };\n\n  ReferencesModel.prototype.clone = function () {\n    return new ReferencesModel(this._links, this._title);\n  };\n\n  Object.defineProperty(ReferencesModel.prototype, \"title\", {\n    get: function () {\n      return this._title;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ReferencesModel.prototype, \"isEmpty\", {\n    get: function () {\n      return this.groups.length === 0;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ReferencesModel.prototype, \"ariaMessage\", {\n    get: function () {\n      if (this.isEmpty) {\n        return localize('aria.result.0', \"No results found\");\n      } else if (this.references.length === 1) {\n        return localize('aria.result.1', \"Found 1 symbol in {0}\", this.references[0].uri.fsPath);\n      } else if (this.groups.length === 1) {\n        return localize('aria.result.n1', \"Found {0} symbols in {1}\", this.references.length, this.groups[0].uri.fsPath);\n      } else {\n        return localize('aria.result.nm', \"Found {0} symbols in {1} files\", this.references.length, this.groups.length);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  ReferencesModel.prototype.nextOrPreviousReference = function (reference, next) {\n    var parent = reference.parent;\n    var idx = parent.children.indexOf(reference);\n    var childCount = parent.children.length;\n    var groupCount = parent.parent.groups.length;\n\n    if (groupCount === 1 || next && idx + 1 < childCount || !next && idx > 0) {\n      // cycling within one file\n      if (next) {\n        idx = (idx + 1) % childCount;\n      } else {\n        idx = (idx + childCount - 1) % childCount;\n      }\n\n      return parent.children[idx];\n    }\n\n    idx = parent.parent.groups.indexOf(parent);\n\n    if (next) {\n      idx = (idx + 1) % groupCount;\n      return parent.parent.groups[idx].children[0];\n    } else {\n      idx = (idx + groupCount - 1) % groupCount;\n      return parent.parent.groups[idx].children[parent.parent.groups[idx].children.length - 1];\n    }\n  };\n\n  ReferencesModel.prototype.nearestReference = function (resource, position) {\n    var nearest = this.references.map(function (ref, idx) {\n      return {\n        idx: idx,\n        prefixLen: strings.commonPrefixLength(ref.uri.toString(), resource.toString()),\n        offsetDist: Math.abs(ref.range.startLineNumber - position.lineNumber) * 100 + Math.abs(ref.range.startColumn - position.column)\n      };\n    }).sort(function (a, b) {\n      if (a.prefixLen > b.prefixLen) {\n        return -1;\n      } else if (a.prefixLen < b.prefixLen) {\n        return 1;\n      } else if (a.offsetDist < b.offsetDist) {\n        return -1;\n      } else if (a.offsetDist > b.offsetDist) {\n        return 1;\n      } else {\n        return 0;\n      }\n    })[0];\n\n    if (nearest) {\n      return this.references[nearest.idx];\n    }\n\n    return undefined;\n  };\n\n  ReferencesModel.prototype.referenceAt = function (resource, position) {\n    for (var _i = 0, _a = this.references; _i < _a.length; _i++) {\n      var ref = _a[_i];\n\n      if (ref.uri.toString() === resource.toString()) {\n        if (Range.containsPosition(ref.range, position)) {\n          return ref;\n        }\n      }\n    }\n\n    return undefined;\n  };\n\n  ReferencesModel.prototype.firstReference = function () {\n    for (var _i = 0, _a = this.references; _i < _a.length; _i++) {\n      var ref = _a[_i];\n\n      if (ref.isProviderFirst) {\n        return ref;\n      }\n    }\n\n    return this.references[0];\n  };\n\n  ReferencesModel._compareReferences = function (a, b) {\n    return strings.compare(a.uri.toString(), b.uri.toString()) || Range.compareRangesUsingStarts(a.range, b.range);\n  };\n\n  return ReferencesModel;\n}();\n\nexport { ReferencesModel };","map":{"version":3,"sources":["/Users/ifudata/eclipse-workspace/screen-web/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/referencesModel.js"],"names":["localize","Emitter","basename","dispose","DisposableStore","strings","defaultGenerator","Range","OneReference","isProviderFirst","parent","_range","_rangeCallback","id","nextId","Object","defineProperty","prototype","get","uri","enumerable","configurable","set","value","range","startLineNumber","startColumn","FilePreview","_modelReference","preview","n","model","object","textEditorModel","undefined","endLineNumber","endColumn","word","getWordUntilPosition","lineNumber","column","beforeRange","afterRange","before","getValueInRange","replace","inside","after","highlight","start","length","end","FileReferences","children","_preview","_loadFailure","len","fsPath","resolve","textModelResolverService","_this","_resolved","Promise","createModelReference","then","modelReference","Error","err","ReferencesModel","links","title","_disposables","groups","references","_onDidChangeReferenceRange","onDidChangeReferenceRange","event","_links","_title","providersFirst","sort","_compareReferences","current","_i","links_1","link","toString","push","equalsRange","oneRef","targetSelectionRange","ref","fire","clone","isEmpty","nextOrPreviousReference","reference","next","idx","indexOf","childCount","groupCount","nearestReference","resource","position","nearest","map","prefixLen","commonPrefixLength","offsetDist","Math","abs","a","b","referenceAt","_a","containsPosition","firstReference","compare","compareRangesUsingStarts"],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { localize } from '../../../nls.js';\r\nimport { Emitter } from '../../../base/common/event.js';\r\nimport { basename } from '../../../base/common/resources.js';\r\nimport { dispose, DisposableStore } from '../../../base/common/lifecycle.js';\r\nimport * as strings from '../../../base/common/strings.js';\r\nimport { defaultGenerator } from '../../../base/common/idGenerator.js';\r\nimport { Range } from '../../common/core/range.js';\r\nvar OneReference = /** @class */ (function () {\r\n    function OneReference(isProviderFirst, parent, _range, _rangeCallback) {\r\n        this.isProviderFirst = isProviderFirst;\r\n        this.parent = parent;\r\n        this._range = _range;\r\n        this._rangeCallback = _rangeCallback;\r\n        this.id = defaultGenerator.nextId();\r\n    }\r\n    Object.defineProperty(OneReference.prototype, \"uri\", {\r\n        get: function () {\r\n            return this.parent.uri;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(OneReference.prototype, \"range\", {\r\n        get: function () {\r\n            return this._range;\r\n        },\r\n        set: function (value) {\r\n            this._range = value;\r\n            this._rangeCallback(this);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(OneReference.prototype, \"ariaMessage\", {\r\n        get: function () {\r\n            return localize('aria.oneReference', \"symbol in {0} on line {1} at column {2}\", basename(this.uri), this.range.startLineNumber, this.range.startColumn);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return OneReference;\r\n}());\r\nexport { OneReference };\r\nvar FilePreview = /** @class */ (function () {\r\n    function FilePreview(_modelReference) {\r\n        this._modelReference = _modelReference;\r\n    }\r\n    FilePreview.prototype.dispose = function () {\r\n        this._modelReference.dispose();\r\n    };\r\n    FilePreview.prototype.preview = function (range, n) {\r\n        if (n === void 0) { n = 8; }\r\n        var model = this._modelReference.object.textEditorModel;\r\n        if (!model) {\r\n            return undefined;\r\n        }\r\n        var startLineNumber = range.startLineNumber, startColumn = range.startColumn, endLineNumber = range.endLineNumber, endColumn = range.endColumn;\r\n        var word = model.getWordUntilPosition({ lineNumber: startLineNumber, column: startColumn - n });\r\n        var beforeRange = new Range(startLineNumber, word.startColumn, startLineNumber, startColumn);\r\n        var afterRange = new Range(endLineNumber, endColumn, endLineNumber, 1073741824 /* MAX_SAFE_SMALL_INTEGER */);\r\n        var before = model.getValueInRange(beforeRange).replace(/^\\s+/, '');\r\n        var inside = model.getValueInRange(range);\r\n        var after = model.getValueInRange(afterRange).replace(/\\s+$/, '');\r\n        return {\r\n            value: before + inside + after,\r\n            highlight: { start: before.length, end: before.length + inside.length }\r\n        };\r\n    };\r\n    return FilePreview;\r\n}());\r\nexport { FilePreview };\r\nvar FileReferences = /** @class */ (function () {\r\n    function FileReferences(parent, uri) {\r\n        this.parent = parent;\r\n        this.uri = uri;\r\n        this.children = [];\r\n    }\r\n    FileReferences.prototype.dispose = function () {\r\n        dispose(this._preview);\r\n        this._preview = undefined;\r\n    };\r\n    Object.defineProperty(FileReferences.prototype, \"preview\", {\r\n        get: function () {\r\n            return this._preview;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FileReferences.prototype, \"failure\", {\r\n        get: function () {\r\n            return this._loadFailure;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FileReferences.prototype, \"ariaMessage\", {\r\n        get: function () {\r\n            var len = this.children.length;\r\n            if (len === 1) {\r\n                return localize('aria.fileReferences.1', \"1 symbol in {0}, full path {1}\", basename(this.uri), this.uri.fsPath);\r\n            }\r\n            else {\r\n                return localize('aria.fileReferences.N', \"{0} symbols in {1}, full path {2}\", len, basename(this.uri), this.uri.fsPath);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    FileReferences.prototype.resolve = function (textModelResolverService) {\r\n        var _this = this;\r\n        if (this._resolved) {\r\n            return Promise.resolve(this);\r\n        }\r\n        return Promise.resolve(textModelResolverService.createModelReference(this.uri).then(function (modelReference) {\r\n            var model = modelReference.object;\r\n            if (!model) {\r\n                modelReference.dispose();\r\n                throw new Error();\r\n            }\r\n            _this._preview = new FilePreview(modelReference);\r\n            _this._resolved = true;\r\n            return _this;\r\n        }, function (err) {\r\n            // something wrong here\r\n            _this.children.length = 0;\r\n            _this._resolved = true;\r\n            _this._loadFailure = err;\r\n            return _this;\r\n        }));\r\n    };\r\n    return FileReferences;\r\n}());\r\nexport { FileReferences };\r\nvar ReferencesModel = /** @class */ (function () {\r\n    function ReferencesModel(links, title) {\r\n        var _this = this;\r\n        this._disposables = new DisposableStore();\r\n        this.groups = [];\r\n        this.references = [];\r\n        this._onDidChangeReferenceRange = new Emitter();\r\n        this.onDidChangeReferenceRange = this._onDidChangeReferenceRange.event;\r\n        this._links = links;\r\n        this._title = title;\r\n        // grouping and sorting\r\n        var providersFirst = links[0];\r\n        links.sort(ReferencesModel._compareReferences);\r\n        var current;\r\n        for (var _i = 0, links_1 = links; _i < links_1.length; _i++) {\r\n            var link = links_1[_i];\r\n            if (!current || current.uri.toString() !== link.uri.toString()) {\r\n                // new group\r\n                current = new FileReferences(this, link.uri);\r\n                this.groups.push(current);\r\n            }\r\n            // append, check for equality first!\r\n            if (current.children.length === 0 || !Range.equalsRange(link.range, current.children[current.children.length - 1].range)) {\r\n                var oneRef = new OneReference(providersFirst === link, current, link.targetSelectionRange || link.range, function (ref) { return _this._onDidChangeReferenceRange.fire(ref); });\r\n                this.references.push(oneRef);\r\n                current.children.push(oneRef);\r\n            }\r\n        }\r\n    }\r\n    ReferencesModel.prototype.dispose = function () {\r\n        dispose(this.groups);\r\n        this._disposables.dispose();\r\n        this._onDidChangeReferenceRange.dispose();\r\n        this.groups.length = 0;\r\n    };\r\n    ReferencesModel.prototype.clone = function () {\r\n        return new ReferencesModel(this._links, this._title);\r\n    };\r\n    Object.defineProperty(ReferencesModel.prototype, \"title\", {\r\n        get: function () {\r\n            return this._title;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ReferencesModel.prototype, \"isEmpty\", {\r\n        get: function () {\r\n            return this.groups.length === 0;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ReferencesModel.prototype, \"ariaMessage\", {\r\n        get: function () {\r\n            if (this.isEmpty) {\r\n                return localize('aria.result.0', \"No results found\");\r\n            }\r\n            else if (this.references.length === 1) {\r\n                return localize('aria.result.1', \"Found 1 symbol in {0}\", this.references[0].uri.fsPath);\r\n            }\r\n            else if (this.groups.length === 1) {\r\n                return localize('aria.result.n1', \"Found {0} symbols in {1}\", this.references.length, this.groups[0].uri.fsPath);\r\n            }\r\n            else {\r\n                return localize('aria.result.nm', \"Found {0} symbols in {1} files\", this.references.length, this.groups.length);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ReferencesModel.prototype.nextOrPreviousReference = function (reference, next) {\r\n        var parent = reference.parent;\r\n        var idx = parent.children.indexOf(reference);\r\n        var childCount = parent.children.length;\r\n        var groupCount = parent.parent.groups.length;\r\n        if (groupCount === 1 || next && idx + 1 < childCount || !next && idx > 0) {\r\n            // cycling within one file\r\n            if (next) {\r\n                idx = (idx + 1) % childCount;\r\n            }\r\n            else {\r\n                idx = (idx + childCount - 1) % childCount;\r\n            }\r\n            return parent.children[idx];\r\n        }\r\n        idx = parent.parent.groups.indexOf(parent);\r\n        if (next) {\r\n            idx = (idx + 1) % groupCount;\r\n            return parent.parent.groups[idx].children[0];\r\n        }\r\n        else {\r\n            idx = (idx + groupCount - 1) % groupCount;\r\n            return parent.parent.groups[idx].children[parent.parent.groups[idx].children.length - 1];\r\n        }\r\n    };\r\n    ReferencesModel.prototype.nearestReference = function (resource, position) {\r\n        var nearest = this.references.map(function (ref, idx) {\r\n            return {\r\n                idx: idx,\r\n                prefixLen: strings.commonPrefixLength(ref.uri.toString(), resource.toString()),\r\n                offsetDist: Math.abs(ref.range.startLineNumber - position.lineNumber) * 100 + Math.abs(ref.range.startColumn - position.column)\r\n            };\r\n        }).sort(function (a, b) {\r\n            if (a.prefixLen > b.prefixLen) {\r\n                return -1;\r\n            }\r\n            else if (a.prefixLen < b.prefixLen) {\r\n                return 1;\r\n            }\r\n            else if (a.offsetDist < b.offsetDist) {\r\n                return -1;\r\n            }\r\n            else if (a.offsetDist > b.offsetDist) {\r\n                return 1;\r\n            }\r\n            else {\r\n                return 0;\r\n            }\r\n        })[0];\r\n        if (nearest) {\r\n            return this.references[nearest.idx];\r\n        }\r\n        return undefined;\r\n    };\r\n    ReferencesModel.prototype.referenceAt = function (resource, position) {\r\n        for (var _i = 0, _a = this.references; _i < _a.length; _i++) {\r\n            var ref = _a[_i];\r\n            if (ref.uri.toString() === resource.toString()) {\r\n                if (Range.containsPosition(ref.range, position)) {\r\n                    return ref;\r\n                }\r\n            }\r\n        }\r\n        return undefined;\r\n    };\r\n    ReferencesModel.prototype.firstReference = function () {\r\n        for (var _i = 0, _a = this.references; _i < _a.length; _i++) {\r\n            var ref = _a[_i];\r\n            if (ref.isProviderFirst) {\r\n                return ref;\r\n            }\r\n        }\r\n        return this.references[0];\r\n    };\r\n    ReferencesModel._compareReferences = function (a, b) {\r\n        return strings.compare(a.uri.toString(), b.uri.toString()) || Range.compareRangesUsingStarts(a.range, b.range);\r\n    };\r\n    return ReferencesModel;\r\n}());\r\nexport { ReferencesModel };\r\n"]},"metadata":{},"sourceType":"module"}